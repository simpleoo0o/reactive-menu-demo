import{n as Pe,c as S,p as On,q as De,k as tt,s as Pn,v as tn,x as Mt,y as Ae,z as zn,A as _,B as Rn,C as Lt,D as F,E as Fn,G as nn,H as Hn,I as Ue,N as qe,j as $,J as ke,K as an,L as Ye,M as bt,O as Ne,P as ut,Q as Vn,S as ue,T as Z,U as Un,V as Ct,W as qn,X as Gn,Y as Wn,Z as Yn,$ as Xn,a0 as Y,a1 as Xe,a2 as jn,a3 as ae,a4 as ve,o as k,a as L,f as D,F as Ee,a5 as N,d as h,a6 as te,g as O,h as I,w as z,a7 as ne,a8 as he,a9 as lt,b as Q,aa as Zn,ab as H,t as j,ac as Me,ad as ce,ae as Le,af as on,ag as $t,ah as ie,ai as ct,i as oe,aj as je,ak as $e,al as Kt,am as Ze,e as ge,an as Se,ao as sn,ap as ln,aq as rt,ar as ft,as as Ke,at as Je,au as Jn,av as Qn,aw as _n,ax as X,r as rn,ay as ht,az as ea,aA as ta,aB as na,aC as aa,aD as Ot,aE as Pt,aF as Re,aG as oa,aH as dn,aI as un,aJ as zt,_ as sa,l as Ce}from"./index-cc596057.js";import{d as Rt,S as Qe,i as _e,M as la,e as ra,a as Ft,c as cn,t as ia,b as da,f as ua,g as ca,u as kt,h as nt,j as Nt,k as pt,l as fn}from"./use-form-item-f5642b9c.js";import{i as hn,a as fa,U as Ht,g as Vt,b as Ut,c as qt,S as it,d as ha,e as pa,f as ye,h as va}from"./validator-46f8484c.js";import{u as ga,E as vt,a as ma}from"./index-493027f1.js";import{E as Gt}from"./index-18b2e21b.js";const ya=()=>Pe&&/firefox/i.test(window.navigator.userAgent);function ba(e){return e}function Ca(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}var ka=800,Na=16,Ea=Date.now;function wa(e){var t=0,n=0;return function(){var a=Ea(),o=Na-(a-n);if(n=a,o>0){if(++t>=ka)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}function Sa(e){return function(){return e}}var Da=Rt?function(e,t){return Rt(e,"toString",{configurable:!0,enumerable:!1,value:Sa(t),writable:!0})}:ba;const xa=Da;var Ta=wa(xa);const Ba=Ta;var Wt=Math.max;function Ia(e,t,n){return t=Wt(t===void 0?e.length-1:t,0),function(){for(var a=arguments,o=-1,s=Wt(a.length-t,0),l=Array(s);++o<s;)l[o]=a[t+o];o=-1;for(var r=Array(t+1);++o<t;)r[o]=a[o];return r[t]=n(l),Ca(e,this,r)}}var Yt=Qe?Qe.isConcatSpreadable:void 0;function Aa(e){return _e(e)||hn(e)||!!(Yt&&e&&e[Yt])}function pn(e,t,n,a,o){var s=-1,l=e.length;for(n||(n=Aa),o||(o=[]);++s<l;){var r=e[s];t>0&&n(r)?t>1?pn(r,t-1,n,a,o):fa(o,r):a||(o[o.length]=r)}return o}function Ma(e){var t=e==null?0:e.length;return t?pn(e,1):[]}function La(e){return Ba(Ia(e,void 0,Ma),e+"")}var $a="__lodash_hash_undefined__";function Ka(e){return this.__data__.set(e,$a),this}function Oa(e){return this.__data__.has(e)}function et(e){var t=-1,n=e==null?0:e.length;for(this.__data__=new la;++t<n;)this.add(e[t])}et.prototype.add=et.prototype.push=Ka;et.prototype.has=Oa;function Pa(e,t){for(var n=-1,a=e==null?0:e.length;++n<a;)if(t(e[n],n,e))return!0;return!1}function za(e,t){return e.has(t)}var Ra=1,Fa=2;function vn(e,t,n,a,o,s){var l=n&Ra,r=e.length,f=t.length;if(r!=f&&!(l&&f>r))return!1;var i=s.get(e),g=s.get(t);if(i&&g)return i==t&&g==e;var v=-1,c=!0,p=n&Fa?new et:void 0;for(s.set(e,t),s.set(t,e);++v<r;){var d=e[v],u=t[v];if(a)var y=l?a(u,d,v,t,e,s):a(d,u,v,e,t,s);if(y!==void 0){if(y)continue;c=!1;break}if(p){if(!Pa(t,function(b,w){if(!za(p,w)&&(d===b||o(d,b,n,a,s)))return p.push(w)})){c=!1;break}}else if(!(d===u||o(d,u,n,a,s))){c=!1;break}}return s.delete(e),s.delete(t),c}function Ha(e){var t=-1,n=Array(e.size);return e.forEach(function(a,o){n[++t]=[o,a]}),n}function Va(e){var t=-1,n=Array(e.size);return e.forEach(function(a){n[++t]=a}),n}var Ua=1,qa=2,Ga="[object Boolean]",Wa="[object Date]",Ya="[object Error]",Xa="[object Map]",ja="[object Number]",Za="[object RegExp]",Ja="[object Set]",Qa="[object String]",_a="[object Symbol]",eo="[object ArrayBuffer]",to="[object DataView]",Xt=Qe?Qe.prototype:void 0,dt=Xt?Xt.valueOf:void 0;function no(e,t,n,a,o,s,l){switch(n){case to:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case eo:return!(e.byteLength!=t.byteLength||!s(new Ht(e),new Ht(t)));case Ga:case Wa:case ja:return ra(+e,+t);case Ya:return e.name==t.name&&e.message==t.message;case Za:case Qa:return e==t+"";case Xa:var r=Ha;case Ja:var f=a&Ua;if(r||(r=Va),e.size!=t.size&&!f)return!1;var i=l.get(e);if(i)return i==t;a|=qa,l.set(e,t);var g=vn(r(e),r(t),a,o,s,l);return l.delete(e),g;case _a:if(dt)return dt.call(e)==dt.call(t)}return!1}var ao=1,oo=Object.prototype,so=oo.hasOwnProperty;function lo(e,t,n,a,o,s){var l=n&ao,r=Vt(e),f=r.length,i=Vt(t),g=i.length;if(f!=g&&!l)return!1;for(var v=f;v--;){var c=r[v];if(!(l?c in t:so.call(t,c)))return!1}var p=s.get(e),d=s.get(t);if(p&&d)return p==t&&d==e;var u=!0;s.set(e,t),s.set(t,e);for(var y=l;++v<f;){c=r[v];var b=e[c],w=t[c];if(a)var P=l?a(w,b,c,t,e,s):a(b,w,c,e,t,s);if(!(P===void 0?b===w||o(b,w,n,a,s):P)){u=!1;break}y||(y=c=="constructor")}if(u&&!y){var R=e.constructor,M=t.constructor;R!=M&&"constructor"in e&&"constructor"in t&&!(typeof R=="function"&&R instanceof R&&typeof M=="function"&&M instanceof M)&&(u=!1)}return s.delete(e),s.delete(t),u}var ro=1,jt="[object Arguments]",Zt="[object Array]",Fe="[object Object]",io=Object.prototype,Jt=io.hasOwnProperty;function uo(e,t,n,a,o,s){var l=_e(e),r=_e(t),f=l?Zt:Ut(e),i=r?Zt:Ut(t);f=f==jt?Fe:f,i=i==jt?Fe:i;var g=f==Fe,v=i==Fe,c=f==i;if(c&&qt(e)){if(!qt(t))return!1;l=!0,g=!1}if(c&&!g)return s||(s=new it),l||ha(e)?vn(e,t,n,a,o,s):no(e,t,f,n,a,o,s);if(!(n&ro)){var p=g&&Jt.call(e,"__wrapped__"),d=v&&Jt.call(t,"__wrapped__");if(p||d){var u=p?e.value():e,y=d?t.value():t;return s||(s=new it),o(u,y,n,a,s)}}return c?(s||(s=new it),lo(e,t,n,a,o,s)):!1}function gn(e,t,n,a,o){return e===t?!0:e==null||t==null||!Ft(e)&&!Ft(t)?e!==e&&t!==t:uo(e,t,n,a,gn,o)}function co(e,t){return e!=null&&t in Object(e)}function fo(e,t,n){t=cn(t,e);for(var a=-1,o=t.length,s=!1;++a<o;){var l=ia(t[a]);if(!(s=e!=null&&n(e,l)))break;e=e[l]}return s||++a!=o?s:(o=e==null?0:e.length,!!o&&pa(o)&&da(l,o)&&(_e(e)||hn(e)))}function ho(e,t){return e!=null&&fo(e,t,co)}function po(e,t){return gn(e,t)}function vo(e,t,n){for(var a=-1,o=t.length,s={};++a<o;){var l=t[a],r=ua(e,l);n(r,l)&&ca(s,cn(l,e),r)}return s}function go(e,t){return vo(e,t,function(n,a){return ho(e,a)})}var mo=La(function(e,t){return e==null?{}:go(e,t)});const yo=mo;let He;const bo=e=>{var t;if(!Pe)return 0;if(He!==void 0)return He;const n=document.createElement("div");n.className=`${e}-scrollbar__wrap`,n.style.visibility="hidden",n.style.width="100px",n.style.position="absolute",n.style.top="-9999px",document.body.appendChild(n);const a=n.offsetWidth;n.style.overflow="scroll";const o=document.createElement("div");o.style.width="100%",n.appendChild(o);const s=o.offsetWidth;return(t=n.parentNode)==null||t.removeChild(n),He=a-s,He},Co=e=>/([\uAC00-\uD7AF\u3130-\u318F])+/gi.test(e),ko=["class","style"],No=/^on[A-Z]/,Eo=(e={})=>{const{excludeListeners:t=!1,excludeKeys:n}=e,a=S(()=>((n==null?void 0:n.value)||[]).concat(ko)),o=De();return o?S(()=>{var s;return On(Object.entries((s=o.proxy)==null?void 0:s.$attrs).filter(([l])=>!a.value.includes(l)&&!(t&&No.test(l))))}):S(()=>({}))},wo=(e,t,n)=>{let a={offsetX:0,offsetY:0};const o=r=>{const f=r.clientX,i=r.clientY,{offsetX:g,offsetY:v}=a,c=e.value.getBoundingClientRect(),p=c.left,d=c.top,u=c.width,y=c.height,b=document.documentElement.clientWidth,w=document.documentElement.clientHeight,P=-p+g,R=-d+v,M=b-p-u+g,q=w-d-y+v,G=E=>{const B=Math.min(Math.max(g+E.clientX-f,P),M),A=Math.min(Math.max(v+E.clientY-i,R),q);a={offsetX:B,offsetY:A},e.value.style.transform=`translate(${Mt(B)}, ${Mt(A)})`},V=()=>{document.removeEventListener("mousemove",G),document.removeEventListener("mouseup",V)};document.addEventListener("mousemove",G),document.addEventListener("mouseup",V)},s=()=>{t.value&&e.value&&t.value.addEventListener("mousedown",o)},l=()=>{t.value&&e.value&&t.value.removeEventListener("mousedown",o)};tt(()=>{Pn(()=>{n.value?s():l()})}),tn(()=>{l()})},So=(e,t={})=>{Ae(e)||zn("[useLockscreen]","You need to pass a ref param to this function");const n=t.ns||_("popup"),a=Rn(()=>n.bm("parent","hidden"));if(!Pe||Lt(document.body,a.value))return;let o=0,s=!1,l="0";const r=()=>{setTimeout(()=>{Ue(document==null?void 0:document.body,a.value),s&&document&&(document.body.style.width=l)},200)};F(e,f=>{if(!f){r();return}s=!Lt(document.body,a.value),s&&(l=document.body.style.width),o=bo(n.namespace.value);const i=document.documentElement.clientHeight<document.body.scrollHeight,g=Fn(document.body,"overflowY");o>0&&(i||g==="scroll")&&s&&(document.body.style.width=`calc(100% - ${o}px)`),nn(document.body,a.value)}),Hn(()=>r())},mn=e=>{if(!e)return{onClick:qe,onMousedown:qe,onMouseup:qe};let t=!1,n=!1;return{onClick:l=>{t&&n&&e(l),t=n=!1},onMousedown:l=>{t=l.target===l.currentTarget},onMouseup:l=>{n=l.target===l.currentTarget}}};function Do(e){const t=$();function n(){if(e.value==null)return;const{selectionStart:o,selectionEnd:s,value:l}=e.value;if(o==null||s==null)return;const r=l.slice(0,Math.max(0,o)),f=l.slice(Math.max(0,s));t.value={selectionStart:o,selectionEnd:s,value:l,beforeTxt:r,afterTxt:f}}function a(){if(e.value==null||t.value==null)return;const{value:o}=e.value,{beforeTxt:s,afterTxt:l,selectionStart:r}=t.value;if(s==null||l==null||r==null)return;let f=o.length;if(o.endsWith(l))f=o.length-l.length;else if(o.startsWith(s))f=s.length;else{const i=s[r-1],g=o.indexOf(i,r-1);g!==-1&&(f=g+1)}e.value.setSelectionRange(f,f)}return[n,a]}function xo(e,{afterFocus:t,afterBlur:n}={}){const a=De(),{emit:o}=a,s=ke(),l=$(!1),r=g=>{l.value||(l.value=!0,o("focus",g),t==null||t())},f=g=>{var v;g.relatedTarget&&((v=s.value)!=null&&v.contains(g.relatedTarget))||(l.value=!1,o("blur",g),n==null||n())},i=()=>{var g;(g=e.value)==null||g.focus()};return F(s,g=>{g&&g.setAttribute("tabindex","-1")}),an(s,"click",i),{wrapperRef:s,isFocused:l,handleFocus:r,handleBlur:f}}let ee;const To=`
  height:0 !important;
  visibility:hidden !important;
  ${ya()?"":"overflow:hidden !important;"}
  position:absolute !important;
  z-index:-1000 !important;
  top:0 !important;
  right:0 !important;
`,Bo=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","text-rendering","text-transform","width","text-indent","padding-left","padding-right","border-width","box-sizing"];function Io(e){const t=window.getComputedStyle(e),n=t.getPropertyValue("box-sizing"),a=Number.parseFloat(t.getPropertyValue("padding-bottom"))+Number.parseFloat(t.getPropertyValue("padding-top")),o=Number.parseFloat(t.getPropertyValue("border-bottom-width"))+Number.parseFloat(t.getPropertyValue("border-top-width"));return{contextStyle:Bo.map(l=>`${l}:${t.getPropertyValue(l)}`).join(";"),paddingSize:a,borderSize:o,boxSizing:n}}function Qt(e,t=1,n){var a;ee||(ee=document.createElement("textarea"),document.body.appendChild(ee));const{paddingSize:o,borderSize:s,boxSizing:l,contextStyle:r}=Io(e);ee.setAttribute("style",`${r};${To}`),ee.value=e.value||e.placeholder||"";let f=ee.scrollHeight;const i={};l==="border-box"?f=f+s:l==="content-box"&&(f=f-o),ee.value="";const g=ee.scrollHeight-o;if(Ye(t)){let v=g*t;l==="border-box"&&(v=v+o+s),f=Math.max(v,f),i.minHeight=`${v}px`}if(Ye(n)){let v=g*n;l==="border-box"&&(v=v+o+s),f=Math.min(v,f)}return i.height=`${f}px`,(a=ee.parentNode)==null||a.removeChild(ee),ee=void 0,i}const Ao=bt({id:{type:String,default:void 0},size:kt,disabled:Boolean,modelValue:{type:Ne([String,Number,Object]),default:""},type:{type:String,default:"text"},resize:{type:String,values:["none","both","horizontal","vertical"]},autosize:{type:Ne([Boolean,Object]),default:!1},autocomplete:{type:String,default:"off"},formatter:{type:Function},parser:{type:Function},placeholder:{type:String},form:{type:String},readonly:{type:Boolean,default:!1},clearable:{type:Boolean,default:!1},showPassword:{type:Boolean,default:!1},showWordLimit:{type:Boolean,default:!1},suffixIcon:{type:ut},prefixIcon:{type:ut},containerRole:{type:String,default:void 0},label:{type:String,default:void 0},tabindex:{type:[String,Number],default:0},validateEvent:{type:Boolean,default:!0},inputStyle:{type:Ne([Object,Array,String]),default:()=>Vn({})}}),Mo={[ye]:e=>ue(e),input:e=>ue(e),change:e=>ue(e),focus:e=>e instanceof FocusEvent,blur:e=>e instanceof FocusEvent,clear:()=>!0,mouseleave:e=>e instanceof MouseEvent,mouseenter:e=>e instanceof MouseEvent,keydown:e=>e instanceof Event,compositionstart:e=>e instanceof CompositionEvent,compositionupdate:e=>e instanceof CompositionEvent,compositionend:e=>e instanceof CompositionEvent},Lo=["role"],$o=["id","type","disabled","formatter","parser","readonly","autocomplete","tabindex","aria-label","placeholder","form"],Ko=["id","tabindex","disabled","readonly","autocomplete","aria-label","placeholder","form"],Oo=Z({name:"ElInput",inheritAttrs:!1}),Po=Z({...Oo,props:Ao,emits:Mo,setup(e,{expose:t,emit:n}){const a=e,o=Un(),s=Ct(),l=S(()=>{const m={};return a.containerRole==="combobox"&&(m["aria-haspopup"]=o["aria-haspopup"],m["aria-owns"]=o["aria-owns"],m["aria-expanded"]=o["aria-expanded"]),m}),r=S(()=>[a.type==="textarea"?y.b():u.b(),u.m(p.value),u.is("disabled",d.value),u.is("exceed",Dn.value),{[u.b("group")]:s.prepend||s.append,[u.bm("group","append")]:s.append,[u.bm("group","prepend")]:s.prepend,[u.m("prefix")]:s.prefix||a.prefixIcon,[u.m("suffix")]:s.suffix||a.suffixIcon||a.clearable||a.showPassword,[u.bm("suffix","password-clear")]:le.value&&at.value},o.class]),f=S(()=>[u.e("wrapper"),u.is("focus",B.value)]),i=Eo({excludeKeys:S(()=>Object.keys(l.value))}),{form:g,formItem:v}=nt(),{inputId:c}=Nt(a,{formItemContext:v}),p=pt(),d=fn(),u=_("input"),y=_("textarea"),b=ke(),w=ke(),P=$(!1),R=$(!1),M=$(!1),q=$(),G=ke(a.inputStyle),V=S(()=>b.value||w.value),{wrapperRef:E,isFocused:B,handleFocus:A,handleBlur:se}=xo(V,{afterBlur(){var m;a.validateEvent&&((m=v==null?void 0:v.validate)==null||m.call(v,"blur").catch(T=>Xe()))}}),fe=S(()=>{var m;return(m=g==null?void 0:g.statusIcon)!=null?m:!1}),re=S(()=>(v==null?void 0:v.validateState)||""),K=S(()=>re.value&&qn[re.value]),J=S(()=>M.value?Gn:Wn),C=S(()=>[o.style,a.inputStyle]),x=S(()=>[a.inputStyle,G.value,{resize:a.resize}]),W=S(()=>Yn(a.modelValue)?"":String(a.modelValue)),le=S(()=>a.clearable&&!d.value&&!a.readonly&&!!W.value&&(B.value||P.value)),at=S(()=>a.showPassword&&!d.value&&!a.readonly&&!!W.value&&(!!W.value||B.value)),be=S(()=>a.showWordLimit&&!!i.value.maxlength&&(a.type==="text"||a.type==="textarea")&&!d.value&&!a.readonly&&!a.showPassword),ot=S(()=>W.value.length),Dn=S(()=>!!be.value&&ot.value>Number(i.value.maxlength)),xn=S(()=>!!s.suffix||!!a.suffixIcon||le.value||a.showPassword||be.value||!!re.value&&fe.value),[Tn,Bn]=Do(b);Xn(w,m=>{if(In(),!be.value||a.resize!=="both")return;const T=m[0],{width:U}=T.contentRect;q.value={right:`calc(100% - ${U+15+6}px)`}});const Be=()=>{const{type:m,autosize:T}=a;if(!(!Pe||m!=="textarea"||!w.value))if(T){const U=Le(T)?T.minRows:void 0,ze=Le(T)?T.maxRows:void 0,At=Qt(w.value,U,ze);G.value={overflowY:"hidden",...At},Y(()=>{w.value.offsetHeight,G.value=At})}else G.value={minHeight:Qt(w.value).minHeight}},In=(m=>{let T=!1;return()=>{var U;if(T||!a.autosize)return;((U=w.value)==null?void 0:U.offsetParent)===null||(m(),T=!0)}})(Be),Ie=()=>{const m=V.value,T=a.formatter?a.formatter(W.value):W.value;!m||m.value===T||(m.value=T)},st=async m=>{Tn();let{value:T}=m.target;if(a.formatter&&(T=a.parser?a.parser(T):T),!R.value){if(T===W.value){Ie();return}n(ye,T),n("input",T),await Y(),Ie(),Bn()}},wt=m=>{n("change",m.target.value)},St=m=>{n("compositionstart",m),R.value=!0},Dt=m=>{var T;n("compositionupdate",m);const U=(T=m.target)==null?void 0:T.value,ze=U[U.length-1]||"";R.value=!Co(ze)},xt=m=>{n("compositionend",m),R.value&&(R.value=!1,st(m))},An=()=>{M.value=!M.value,Tt()},Tt=async()=>{var m;await Y(),(m=V.value)==null||m.focus()},Mn=()=>{var m;return(m=V.value)==null?void 0:m.blur()},Ln=m=>{P.value=!1,n("mouseleave",m)},$n=m=>{P.value=!0,n("mouseenter",m)},Bt=m=>{n("keydown",m)},Kn=()=>{var m;(m=V.value)==null||m.select()},It=()=>{n(ye,""),n("change",""),n("clear"),n("input","")};return F(()=>a.modelValue,()=>{var m;Y(()=>Be()),a.validateEvent&&((m=v==null?void 0:v.validate)==null||m.call(v,"change").catch(T=>Xe()))}),F(W,()=>Ie()),F(()=>a.type,async()=>{await Y(),Ie(),Be()}),tt(()=>{!a.formatter&&a.parser,Ie(),Y(Be)}),t({input:b,textarea:w,ref:V,textareaStyle:x,autosize:jn(a,"autosize"),focus:Tt,blur:Mn,select:Kn,clear:It,resizeTextarea:Be}),(m,T)=>ae((k(),L("div",lt(h(l),{class:h(r),style:h(C),role:m.containerRole,onMouseenter:$n,onMouseleave:Ln}),[D(" input "),m.type!=="textarea"?(k(),L(Ee,{key:0},[D(" prepend slot "),m.$slots.prepend?(k(),L("div",{key:0,class:N(h(u).be("group","prepend"))},[te(m.$slots,"prepend")],2)):D("v-if",!0),O("div",{ref_key:"wrapperRef",ref:E,class:N(h(f))},[D(" prefix slot "),m.$slots.prefix||m.prefixIcon?(k(),L("span",{key:0,class:N(h(u).e("prefix"))},[O("span",{class:N(h(u).e("prefix-inner"))},[te(m.$slots,"prefix"),m.prefixIcon?(k(),I(h(he),{key:0,class:N(h(u).e("icon"))},{default:z(()=>[(k(),I(ne(m.prefixIcon)))]),_:1},8,["class"])):D("v-if",!0)],2)],2)):D("v-if",!0),O("input",lt({id:h(c),ref_key:"input",ref:b,class:h(u).e("inner")},h(i),{type:m.showPassword?M.value?"text":"password":m.type,disabled:h(d),formatter:m.formatter,parser:m.parser,readonly:m.readonly,autocomplete:m.autocomplete,tabindex:m.tabindex,"aria-label":m.label,placeholder:m.placeholder,style:m.inputStyle,form:a.form,onCompositionstart:St,onCompositionupdate:Dt,onCompositionend:xt,onInput:st,onFocus:T[0]||(T[0]=(...U)=>h(A)&&h(A)(...U)),onBlur:T[1]||(T[1]=(...U)=>h(se)&&h(se)(...U)),onChange:wt,onKeydown:Bt}),null,16,$o),D(" suffix slot "),h(xn)?(k(),L("span",{key:1,class:N(h(u).e("suffix"))},[O("span",{class:N(h(u).e("suffix-inner"))},[!h(le)||!h(at)||!h(be)?(k(),L(Ee,{key:0},[te(m.$slots,"suffix"),m.suffixIcon?(k(),I(h(he),{key:0,class:N(h(u).e("icon"))},{default:z(()=>[(k(),I(ne(m.suffixIcon)))]),_:1},8,["class"])):D("v-if",!0)],64)):D("v-if",!0),h(le)?(k(),I(h(he),{key:1,class:N([h(u).e("icon"),h(u).e("clear")]),onMousedown:H(h(qe),["prevent"]),onClick:It},{default:z(()=>[Q(h(Zn))]),_:1},8,["class","onMousedown"])):D("v-if",!0),h(at)?(k(),I(h(he),{key:2,class:N([h(u).e("icon"),h(u).e("password")]),onClick:An},{default:z(()=>[(k(),I(ne(h(J))))]),_:1},8,["class"])):D("v-if",!0),h(be)?(k(),L("span",{key:3,class:N(h(u).e("count"))},[O("span",{class:N(h(u).e("count-inner"))},j(h(ot))+" / "+j(h(i).maxlength),3)],2)):D("v-if",!0),h(re)&&h(K)&&h(fe)?(k(),I(h(he),{key:4,class:N([h(u).e("icon"),h(u).e("validateIcon"),h(u).is("loading",h(re)==="validating")])},{default:z(()=>[(k(),I(ne(h(K))))]),_:1},8,["class"])):D("v-if",!0)],2)],2)):D("v-if",!0)],2),D(" append slot "),m.$slots.append?(k(),L("div",{key:1,class:N(h(u).be("group","append"))},[te(m.$slots,"append")],2)):D("v-if",!0)],64)):(k(),L(Ee,{key:1},[D(" textarea "),O("textarea",lt({id:h(c),ref_key:"textarea",ref:w,class:h(y).e("inner")},h(i),{tabindex:m.tabindex,disabled:h(d),readonly:m.readonly,autocomplete:m.autocomplete,style:h(x),"aria-label":m.label,placeholder:m.placeholder,form:a.form,onCompositionstart:St,onCompositionupdate:Dt,onCompositionend:xt,onInput:st,onFocus:T[2]||(T[2]=(...U)=>h(A)&&h(A)(...U)),onBlur:T[3]||(T[3]=(...U)=>h(se)&&h(se)(...U)),onChange:wt,onKeydown:Bt}),null,16,Ko),h(be)?(k(),L("span",{key:0,style:Me(q.value),class:N(h(u).e("count"))},j(h(ot))+" / "+j(h(i).maxlength),7)):D("v-if",!0)],64))],16,Lo)),[[ve,m.type!=="hidden"]])}});var zo=ce(Po,[["__file","/home/runner/work/element-plus/element-plus/packages/components/input/src/input.vue"]]);const Ro=on(zo),gt="_trap-focus-children",pe=[],_t=e=>{if(pe.length===0)return;const t=pe[pe.length-1][gt];if(t.length>0&&e.code===ie.tab){if(t.length===1){e.preventDefault(),document.activeElement!==t[0]&&t[0].focus();return}const n=e.shiftKey,a=e.target===t[0],o=e.target===t[t.length-1];a&&n&&(e.preventDefault(),t[t.length-1].focus()),o&&!n&&(e.preventDefault(),t[0].focus())}},Fo={beforeMount(e){e[gt]=$t(e),pe.push(e),pe.length<=1&&document.addEventListener("keydown",_t)},updated(e){Y(()=>{e[gt]=$t(e)})},unmounted(){pe.shift(),pe.length===0&&document.removeEventListener("keydown",_t)}},yn={modelValue:{type:[Number,String,Boolean],default:void 0},label:{type:[String,Boolean,Number,Object]},indeterminate:Boolean,disabled:Boolean,checked:Boolean,name:{type:String,default:void 0},trueLabel:{type:[String,Number],default:void 0},falseLabel:{type:[String,Number],default:void 0},id:{type:String,default:void 0},controls:{type:String,default:void 0},border:Boolean,size:kt,tabindex:[String,Number],validateEvent:{type:Boolean,default:!0}},bn={[ye]:e=>ue(e)||Ye(e)||ct(e),change:e=>ue(e)||Ye(e)||ct(e)},xe=Symbol("checkboxGroupContextKey"),Ho=({model:e,isChecked:t})=>{const n=oe(xe,void 0),a=S(()=>{var s,l;const r=(s=n==null?void 0:n.max)==null?void 0:s.value,f=(l=n==null?void 0:n.min)==null?void 0:l.value;return!je(r)&&e.value.length>=r&&!t.value||!je(f)&&e.value.length<=f&&t.value});return{isDisabled:fn(S(()=>(n==null?void 0:n.disabled.value)||a.value)),isLimitDisabled:a}},Vo=(e,{model:t,isLimitExceeded:n,hasOwnLabel:a,isDisabled:o,isLabeledByFormItem:s})=>{const l=oe(xe,void 0),{formItem:r}=nt(),{emit:f}=De();function i(d){var u,y;return d===e.trueLabel||d===!0?(u=e.trueLabel)!=null?u:!0:(y=e.falseLabel)!=null?y:!1}function g(d,u){f("change",i(d),u)}function v(d){if(n.value)return;const u=d.target;f("change",i(u.checked),d)}async function c(d){n.value||!a.value&&!o.value&&s.value&&(d.composedPath().some(b=>b.tagName==="LABEL")||(t.value=i([!1,e.falseLabel].includes(t.value)),await Y(),g(t.value,d)))}const p=S(()=>(l==null?void 0:l.validateEvent)||e.validateEvent);return F(()=>e.modelValue,()=>{p.value&&(r==null||r.validate("change").catch(d=>Xe()))}),{handleChange:v,onClickRoot:c}},Uo=e=>{const t=$(!1),{emit:n}=De(),a=oe(xe,void 0),o=S(()=>je(a)===!1),s=$(!1);return{model:S({get(){var r,f;return o.value?(r=a==null?void 0:a.modelValue)==null?void 0:r.value:(f=e.modelValue)!=null?f:t.value},set(r){var f,i;o.value&&$e(r)?(s.value=((f=a==null?void 0:a.max)==null?void 0:f.value)!==void 0&&r.length>(a==null?void 0:a.max.value),s.value===!1&&((i=a==null?void 0:a.changeEvent)==null||i.call(a,r))):(n(ye,r),t.value=r)}}),isGroup:o,isLimitExceeded:s}},qo=(e,t,{model:n})=>{const a=oe(xe,void 0),o=$(!1),s=S(()=>{const i=n.value;return ct(i)?i:$e(i)?Le(e.label)?i.map(Kt).some(g=>po(g,e.label)):i.map(Kt).includes(e.label):i!=null?i===e.trueLabel:!!i}),l=pt(S(()=>{var i;return(i=a==null?void 0:a.size)==null?void 0:i.value}),{prop:!0}),r=pt(S(()=>{var i;return(i=a==null?void 0:a.size)==null?void 0:i.value})),f=S(()=>!!(t.default||e.label));return{checkboxButtonSize:l,isChecked:s,isFocused:o,checkboxSize:r,hasOwnLabel:f}},Go=(e,{model:t})=>{function n(){$e(t.value)&&!t.value.includes(e.label)?t.value.push(e.label):t.value=e.trueLabel||!0}e.checked&&n()},Cn=(e,t)=>{const{formItem:n}=nt(),{model:a,isGroup:o,isLimitExceeded:s}=Uo(e),{isFocused:l,isChecked:r,checkboxButtonSize:f,checkboxSize:i,hasOwnLabel:g}=qo(e,t,{model:a}),{isDisabled:v}=Ho({model:a,isChecked:r}),{inputId:c,isLabeledByFormItem:p}=Nt(e,{formItemContext:n,disableIdGeneration:g,disableIdManagement:o}),{handleChange:d,onClickRoot:u}=Vo(e,{model:a,isLimitExceeded:s,hasOwnLabel:g,isDisabled:v,isLabeledByFormItem:p});return Go(e,{model:a}),{inputId:c,isLabeledByFormItem:p,isChecked:r,isDisabled:v,isFocused:l,checkboxButtonSize:f,checkboxSize:i,hasOwnLabel:g,model:a,handleChange:d,onClickRoot:u}},Wo=["tabindex","role","aria-checked"],Yo=["id","aria-hidden","name","tabindex","disabled","true-value","false-value"],Xo=["id","aria-hidden","disabled","value","name","tabindex"],jo=Z({name:"ElCheckbox"}),Zo=Z({...jo,props:yn,emits:bn,setup(e){const t=e,n=Ct(),{inputId:a,isLabeledByFormItem:o,isChecked:s,isDisabled:l,isFocused:r,checkboxSize:f,hasOwnLabel:i,model:g,handleChange:v,onClickRoot:c}=Cn(t,n),p=_("checkbox"),d=S(()=>[p.b(),p.m(f.value),p.is("disabled",l.value),p.is("bordered",t.border),p.is("checked",s.value)]),u=S(()=>[p.e("input"),p.is("disabled",l.value),p.is("checked",s.value),p.is("indeterminate",t.indeterminate),p.is("focus",r.value)]);return(y,b)=>(k(),I(ne(!h(i)&&h(o)?"span":"label"),{class:N(h(d)),"aria-controls":y.indeterminate?y.controls:null,onClick:h(c)},{default:z(()=>[O("span",{class:N(h(u)),tabindex:y.indeterminate?0:void 0,role:y.indeterminate?"checkbox":void 0,"aria-checked":y.indeterminate?"mixed":void 0},[y.trueLabel||y.falseLabel?ae((k(),L("input",{key:0,id:h(a),"onUpdate:modelValue":b[0]||(b[0]=w=>Ae(g)?g.value=w:null),class:N(h(p).e("original")),type:"checkbox","aria-hidden":y.indeterminate?"true":"false",name:y.name,tabindex:y.tabindex,disabled:h(l),"true-value":y.trueLabel,"false-value":y.falseLabel,onChange:b[1]||(b[1]=(...w)=>h(v)&&h(v)(...w)),onFocus:b[2]||(b[2]=w=>r.value=!0),onBlur:b[3]||(b[3]=w=>r.value=!1),onClick:b[4]||(b[4]=H(()=>{},["stop"]))},null,42,Yo)),[[Ze,h(g)]]):ae((k(),L("input",{key:1,id:h(a),"onUpdate:modelValue":b[5]||(b[5]=w=>Ae(g)?g.value=w:null),class:N(h(p).e("original")),type:"checkbox","aria-hidden":y.indeterminate?"true":"false",disabled:h(l),value:y.label,name:y.name,tabindex:y.tabindex,onChange:b[6]||(b[6]=(...w)=>h(v)&&h(v)(...w)),onFocus:b[7]||(b[7]=w=>r.value=!0),onBlur:b[8]||(b[8]=w=>r.value=!1),onClick:b[9]||(b[9]=H(()=>{},["stop"]))},null,42,Xo)),[[Ze,h(g)]]),O("span",{class:N(h(p).e("inner"))},null,2)],10,Wo),h(i)?(k(),L("span",{key:0,class:N(h(p).e("label"))},[te(y.$slots,"default"),y.$slots.default?D("v-if",!0):(k(),L(Ee,{key:0},[ge(j(y.label),1)],64))],2)):D("v-if",!0)]),_:3},8,["class","aria-controls","onClick"]))}});var Jo=ce(Zo,[["__file","/home/runner/work/element-plus/element-plus/packages/components/checkbox/src/checkbox.vue"]]);const Qo=["name","tabindex","disabled","true-value","false-value"],_o=["name","tabindex","disabled","value"],es=Z({name:"ElCheckboxButton"}),ts=Z({...es,props:yn,emits:bn,setup(e){const t=e,n=Ct(),{isFocused:a,isChecked:o,isDisabled:s,checkboxButtonSize:l,model:r,handleChange:f}=Cn(t,n),i=oe(xe,void 0),g=_("checkbox"),v=S(()=>{var p,d,u,y;const b=(d=(p=i==null?void 0:i.fill)==null?void 0:p.value)!=null?d:"";return{backgroundColor:b,borderColor:b,color:(y=(u=i==null?void 0:i.textColor)==null?void 0:u.value)!=null?y:"",boxShadow:b?`-1px 0 0 0 ${b}`:void 0}}),c=S(()=>[g.b("button"),g.bm("button",l.value),g.is("disabled",s.value),g.is("checked",o.value),g.is("focus",a.value)]);return(p,d)=>(k(),L("label",{class:N(h(c))},[p.trueLabel||p.falseLabel?ae((k(),L("input",{key:0,"onUpdate:modelValue":d[0]||(d[0]=u=>Ae(r)?r.value=u:null),class:N(h(g).be("button","original")),type:"checkbox",name:p.name,tabindex:p.tabindex,disabled:h(s),"true-value":p.trueLabel,"false-value":p.falseLabel,onChange:d[1]||(d[1]=(...u)=>h(f)&&h(f)(...u)),onFocus:d[2]||(d[2]=u=>a.value=!0),onBlur:d[3]||(d[3]=u=>a.value=!1),onClick:d[4]||(d[4]=H(()=>{},["stop"]))},null,42,Qo)),[[Ze,h(r)]]):ae((k(),L("input",{key:1,"onUpdate:modelValue":d[5]||(d[5]=u=>Ae(r)?r.value=u:null),class:N(h(g).be("button","original")),type:"checkbox",name:p.name,tabindex:p.tabindex,disabled:h(s),value:p.label,onChange:d[6]||(d[6]=(...u)=>h(f)&&h(f)(...u)),onFocus:d[7]||(d[7]=u=>a.value=!0),onBlur:d[8]||(d[8]=u=>a.value=!1),onClick:d[9]||(d[9]=H(()=>{},["stop"]))},null,42,_o)),[[Ze,h(r)]]),p.$slots.default||p.label?(k(),L("span",{key:2,class:N(h(g).be("button","inner")),style:Me(h(o)?h(v):void 0)},[te(p.$slots,"default",{},()=>[ge(j(p.label),1)])],6)):D("v-if",!0)],2))}});var kn=ce(ts,[["__file","/home/runner/work/element-plus/element-plus/packages/components/checkbox/src/checkbox-button.vue"]]);const ns=bt({modelValue:{type:Ne(Array),default:()=>[]},disabled:Boolean,min:Number,max:Number,size:kt,label:String,fill:String,textColor:String,tag:{type:String,default:"div"},validateEvent:{type:Boolean,default:!0}}),as={[ye]:e=>$e(e),change:e=>$e(e)},os=Z({name:"ElCheckboxGroup"}),ss=Z({...os,props:ns,emits:as,setup(e,{emit:t}){const n=e,a=_("checkbox"),{formItem:o}=nt(),{inputId:s,isLabeledByFormItem:l}=Nt(n,{formItemContext:o}),r=async i=>{t(ye,i),await Y(),t("change",i)},f=S({get(){return n.modelValue},set(i){r(i)}});return Se(xe,{...yo(sn(n),["size","min","max","disabled","validateEvent","fill","textColor"]),modelValue:f,changeEvent:r}),F(()=>n.modelValue,()=>{n.validateEvent&&(o==null||o.validate("change").catch(i=>Xe()))}),(i,g)=>{var v;return k(),I(ne(i.tag),{id:h(s),class:N(h(a).b("group")),role:"group","aria-label":h(l)?void 0:i.label||"checkbox-group","aria-labelledby":h(l)?(v=h(o))==null?void 0:v.labelId:void 0},{default:z(()=>[te(i.$slots,"default")]),_:3},8,["id","class","aria-label","aria-labelledby"])}}});var Nn=ce(ss,[["__file","/home/runner/work/element-plus/element-plus/packages/components/checkbox/src/checkbox-group.vue"]]);const En=on(Jo,{CheckboxButton:kn,CheckboxGroup:Nn});ln(kn);ln(Nn);const ls=bt({mask:{type:Boolean,default:!0},customMaskEvent:{type:Boolean,default:!1},overlayClass:{type:Ne([String,Array,Object])},zIndex:{type:Ne([String,Number])}}),rs={click:e=>e instanceof MouseEvent},is="overlay";var ds=Z({name:"ElOverlay",props:ls,emits:rs,setup(e,{slots:t,emit:n}){const a=_(is),o=f=>{n("click",f)},{onClick:s,onMousedown:l,onMouseup:r}=mn(e.customMaskEvent?void 0:o);return()=>e.mask?Q("div",{class:[a.b(),e.overlayClass],style:{zIndex:e.zIndex},onClick:s,onMousedown:l,onMouseup:r},[te(t,"default")],rt.STYLE|rt.CLASS|rt.PROPS,["onClick","onMouseup","onMousedown"]):ft("div",{class:e.overlayClass,style:{zIndex:e.zIndex,position:"fixed",top:"0px",right:"0px",bottom:"0px",left:"0px"}},[te(t,"default")])}});const us=ds,we="$treeNodeId",en=function(e,t){!t||t[we]||Object.defineProperty(t,we,{value:e.id,enumerable:!1,configurable:!1,writable:!1})},Et=function(e,t){return e?t[e]:t[we]},mt=(e,t,n)=>{const a=e.value.currentNode;n();const o=e.value.currentNode;a!==o&&t("current-change",o?o.data:null,o)},yt=e=>{let t=!0,n=!0,a=!0;for(let o=0,s=e.length;o<s;o++){const l=e[o];(l.checked!==!0||l.indeterminate)&&(t=!1,l.disabled||(a=!1)),(l.checked!==!1||l.indeterminate)&&(n=!1)}return{all:t,none:n,allWithoutDisable:a,half:!t&&!n}},Ge=function(e){if(e.childNodes.length===0||e.loading)return;const{all:t,none:n,half:a}=yt(e.childNodes);t?(e.checked=!0,e.indeterminate=!1):a?(e.checked=!1,e.indeterminate=!0):n&&(e.checked=!1,e.indeterminate=!1);const o=e.parent;!o||o.level===0||e.store.checkStrictly||Ge(o)},Ve=function(e,t){const n=e.store.props,a=e.data||{},o=n[t];if(typeof o=="function")return o(a,e);if(typeof o=="string")return a[o];if(typeof o>"u"){const s=a[t];return s===void 0?"":s}};let cs=0;class me{constructor(t){this.id=cs++,this.text=null,this.checked=!1,this.indeterminate=!1,this.data=null,this.expanded=!1,this.parent=null,this.visible=!0,this.isCurrent=!1,this.canFocus=!1;for(const n in t)Ke(t,n)&&(this[n]=t[n]);this.level=0,this.loaded=!1,this.childNodes=[],this.loading=!1,this.parent&&(this.level=this.parent.level+1)}initialize(){const t=this.store;if(!t)throw new Error("[Node]store is required!");t.registerNode(this);const n=t.props;if(n&&typeof n.isLeaf<"u"){const s=Ve(this,"isLeaf");typeof s=="boolean"&&(this.isLeafByUser=s)}if(t.lazy!==!0&&this.data?(this.setData(this.data),t.defaultExpandAll&&(this.expanded=!0,this.canFocus=!0)):this.level>0&&t.lazy&&t.defaultExpandAll&&this.expand(),Array.isArray(this.data)||en(this,this.data),!this.data)return;const a=t.defaultExpandedKeys,o=t.key;o&&a&&a.includes(this.key)&&this.expand(null,t.autoExpandParent),o&&t.currentNodeKey!==void 0&&this.key===t.currentNodeKey&&(t.currentNode=this,t.currentNode.isCurrent=!0),t.lazy&&t._initDefaultCheckedNode(this),this.updateLeafState(),this.parent&&(this.level===1||this.parent.expanded===!0)&&(this.canFocus=!0)}setData(t){Array.isArray(t)||en(this,t),this.data=t,this.childNodes=[];let n;this.level===0&&Array.isArray(this.data)?n=this.data:n=Ve(this,"children")||[];for(let a=0,o=n.length;a<o;a++)this.insertChild({data:n[a]})}get label(){return Ve(this,"label")}get key(){const t=this.store.key;return this.data?this.data[t]:null}get disabled(){return Ve(this,"disabled")}get nextSibling(){const t=this.parent;if(t){const n=t.childNodes.indexOf(this);if(n>-1)return t.childNodes[n+1]}return null}get previousSibling(){const t=this.parent;if(t){const n=t.childNodes.indexOf(this);if(n>-1)return n>0?t.childNodes[n-1]:null}return null}contains(t,n=!0){return(this.childNodes||[]).some(a=>a===t||n&&a.contains(t))}remove(){const t=this.parent;t&&t.removeChild(this)}insertChild(t,n,a){if(!t)throw new Error("InsertChild error: child is required.");if(!(t instanceof me)){if(!a){const o=this.getChildren(!0);o.includes(t.data)||(typeof n>"u"||n<0?o.push(t.data):o.splice(n,0,t.data))}Object.assign(t,{parent:this,store:this.store}),t=Je(new me(t)),t instanceof me&&t.initialize()}t.level=this.level+1,typeof n>"u"||n<0?this.childNodes.push(t):this.childNodes.splice(n,0,t),this.updateLeafState()}insertBefore(t,n){let a;n&&(a=this.childNodes.indexOf(n)),this.insertChild(t,a)}insertAfter(t,n){let a;n&&(a=this.childNodes.indexOf(n),a!==-1&&(a+=1)),this.insertChild(t,a)}removeChild(t){const n=this.getChildren()||[],a=n.indexOf(t.data);a>-1&&n.splice(a,1);const o=this.childNodes.indexOf(t);o>-1&&(this.store&&this.store.deregisterNode(t),t.parent=null,this.childNodes.splice(o,1)),this.updateLeafState()}removeChildByData(t){let n=null;for(let a=0;a<this.childNodes.length;a++)if(this.childNodes[a].data===t){n=this.childNodes[a];break}n&&this.removeChild(n)}expand(t,n){const a=()=>{if(n){let o=this.parent;for(;o.level>0;)o.expanded=!0,o=o.parent}this.expanded=!0,t&&t(),this.childNodes.forEach(o=>{o.canFocus=!0})};this.shouldLoadData()?this.loadData(o=>{Array.isArray(o)&&(this.checked?this.setChecked(!0,!0):this.store.checkStrictly||Ge(this),a())}):a()}doCreateChildren(t,n={}){t.forEach(a=>{this.insertChild(Object.assign({data:a},n),void 0,!0)})}collapse(){this.expanded=!1,this.childNodes.forEach(t=>{t.canFocus=!1})}shouldLoadData(){return this.store.lazy===!0&&this.store.load&&!this.loaded}updateLeafState(){if(this.store.lazy===!0&&this.loaded!==!0&&typeof this.isLeafByUser<"u"){this.isLeaf=this.isLeafByUser;return}const t=this.childNodes;if(!this.store.lazy||this.store.lazy===!0&&this.loaded===!0){this.isLeaf=!t||t.length===0;return}this.isLeaf=!1}setChecked(t,n,a,o){if(this.indeterminate=t==="half",this.checked=t===!0,this.store.checkStrictly)return;if(!(this.shouldLoadData()&&!this.store.checkDescendants)){const{all:l,allWithoutDisable:r}=yt(this.childNodes);!this.isLeaf&&!l&&r&&(this.checked=!1,t=!1);const f=()=>{if(n){const i=this.childNodes;for(let c=0,p=i.length;c<p;c++){const d=i[c];o=o||t!==!1;const u=d.disabled?d.checked:o;d.setChecked(u,n,!0,o)}const{half:g,all:v}=yt(i);v||(this.checked=v,this.indeterminate=g)}};if(this.shouldLoadData()){this.loadData(()=>{f(),Ge(this)},{checked:t!==!1});return}else f()}const s=this.parent;!s||s.level===0||a||Ge(s)}getChildren(t=!1){if(this.level===0)return this.data;const n=this.data;if(!n)return null;const a=this.store.props;let o="children";return a&&(o=a.children||"children"),n[o]===void 0&&(n[o]=null),t&&!n[o]&&(n[o]=[]),n[o]}updateChildren(){const t=this.getChildren()||[],n=this.childNodes.map(s=>s.data),a={},o=[];t.forEach((s,l)=>{const r=s[we];!!r&&n.findIndex(i=>i[we]===r)>=0?a[r]={index:l,data:s}:o.push({index:l,data:s})}),this.store.lazy||n.forEach(s=>{a[s[we]]||this.removeChildByData(s)}),o.forEach(({index:s,data:l})=>{this.insertChild({data:l},s)}),this.updateLeafState()}loadData(t,n={}){if(this.store.lazy===!0&&this.store.load&&!this.loaded&&(!this.loading||Object.keys(n).length)){this.loading=!0;const a=o=>{this.childNodes=[],this.doCreateChildren(o,n),this.loaded=!0,this.loading=!1,this.updateLeafState(),t&&t.call(this,o)};this.store.load(this,a)}else t&&t.call(this)}}class fs{constructor(t){this.currentNode=null,this.currentNodeKey=null;for(const n in t)Ke(t,n)&&(this[n]=t[n]);this.nodesMap={}}initialize(){if(this.root=new me({data:this.data,store:this}),this.root.initialize(),this.lazy&&this.load){const t=this.load;t(this.root,n=>{this.root.doCreateChildren(n),this._initDefaultCheckedNodes()})}else this._initDefaultCheckedNodes()}filter(t){const n=this.filterNodeMethod,a=this.lazy,o=function(s){const l=s.root?s.root.childNodes:s.childNodes;if(l.forEach(r=>{r.visible=n.call(r,t,r.data,r),o(r)}),!s.visible&&l.length){let r=!0;r=!l.some(f=>f.visible),s.root?s.root.visible=r===!1:s.visible=r===!1}t&&s.visible&&!s.isLeaf&&!a&&s.expand()};o(this)}setData(t){t!==this.root.data?(this.root.setData(t),this._initDefaultCheckedNodes()):this.root.updateChildren()}getNode(t){if(t instanceof me)return t;const n=Le(t)?Et(this.key,t):t;return this.nodesMap[n]||null}insertBefore(t,n){const a=this.getNode(n);a.parent.insertBefore({data:t},a)}insertAfter(t,n){const a=this.getNode(n);a.parent.insertAfter({data:t},a)}remove(t){const n=this.getNode(t);n&&n.parent&&(n===this.currentNode&&(this.currentNode=null),n.parent.removeChild(n))}append(t,n){const a=n?this.getNode(n):this.root;a&&a.insertChild({data:t})}_initDefaultCheckedNodes(){const t=this.defaultCheckedKeys||[],n=this.nodesMap;t.forEach(a=>{const o=n[a];o&&o.setChecked(!0,!this.checkStrictly)})}_initDefaultCheckedNode(t){(this.defaultCheckedKeys||[]).includes(t.key)&&t.setChecked(!0,!this.checkStrictly)}setDefaultCheckedKey(t){t!==this.defaultCheckedKeys&&(this.defaultCheckedKeys=t,this._initDefaultCheckedNodes())}registerNode(t){const n=this.key;!t||!t.data||(n?t.key!==void 0&&(this.nodesMap[t.key]=t):this.nodesMap[t.id]=t)}deregisterNode(t){!this.key||!t||!t.data||(t.childNodes.forEach(a=>{this.deregisterNode(a)}),delete this.nodesMap[t.key])}getCheckedNodes(t=!1,n=!1){const a=[],o=function(s){(s.root?s.root.childNodes:s.childNodes).forEach(r=>{(r.checked||n&&r.indeterminate)&&(!t||t&&r.isLeaf)&&a.push(r.data),o(r)})};return o(this),a}getCheckedKeys(t=!1){return this.getCheckedNodes(t).map(n=>(n||{})[this.key])}getHalfCheckedNodes(){const t=[],n=function(a){(a.root?a.root.childNodes:a.childNodes).forEach(s=>{s.indeterminate&&t.push(s.data),n(s)})};return n(this),t}getHalfCheckedKeys(){return this.getHalfCheckedNodes().map(t=>(t||{})[this.key])}_getAllNodes(){const t=[],n=this.nodesMap;for(const a in n)Ke(n,a)&&t.push(n[a]);return t}updateChildren(t,n){const a=this.nodesMap[t];if(!a)return;const o=a.childNodes;for(let s=o.length-1;s>=0;s--){const l=o[s];this.remove(l.data)}for(let s=0,l=n.length;s<l;s++){const r=n[s];this.append(r,a.data)}}_setCheckedKeys(t,n=!1,a){const o=this._getAllNodes().sort((r,f)=>f.level-r.level),s=Object.create(null),l=Object.keys(a);o.forEach(r=>r.setChecked(!1,!1));for(let r=0,f=o.length;r<f;r++){const i=o[r],g=i.data[t].toString();if(!l.includes(g)){i.checked&&!s[g]&&i.setChecked(!1,!1);continue}let c=i.parent;for(;c&&c.level>0;)s[c.data[t]]=!0,c=c.parent;if(i.isLeaf||this.checkStrictly){i.setChecked(!0,!1);continue}if(i.setChecked(!0,!0),n){i.setChecked(!1,!1);const p=function(d){d.childNodes.forEach(y=>{y.isLeaf||y.setChecked(!1,!1),p(y)})};p(i)}}}setCheckedNodes(t,n=!1){const a=this.key,o={};t.forEach(s=>{o[(s||{})[a]]=!0}),this._setCheckedKeys(a,n,o)}setCheckedKeys(t,n=!1){this.defaultCheckedKeys=t;const a=this.key,o={};t.forEach(s=>{o[s]=!0}),this._setCheckedKeys(a,n,o)}setDefaultExpandedKeys(t){t=t||[],this.defaultExpandedKeys=t,t.forEach(n=>{const a=this.getNode(n);a&&a.expand(null,this.autoExpandParent)})}setChecked(t,n,a){const o=this.getNode(t);o&&o.setChecked(!!n,a)}getCurrentNode(){return this.currentNode}setCurrentNode(t){const n=this.currentNode;n&&(n.isCurrent=!1),this.currentNode=t,this.currentNode.isCurrent=!0}setUserCurrentNode(t,n=!0){const a=t[this.key],o=this.nodesMap[a];this.setCurrentNode(o),n&&this.currentNode.level>1&&this.currentNode.parent.expand(null,!0)}setCurrentNodeKey(t,n=!0){if(t==null){this.currentNode&&(this.currentNode.isCurrent=!1),this.currentNode=null;return}const a=this.getNode(t);a&&(this.setCurrentNode(a),n&&this.currentNode.level>1&&this.currentNode.parent.expand(null,!0))}}const hs=Z({name:"ElTreeNodeContent",props:{node:{type:Object,required:!0},renderContent:Function},setup(e){const t=_("tree"),n=oe("NodeInstance"),a=oe("RootTree");return()=>{const o=e.node,{data:s,store:l}=o;return e.renderContent?e.renderContent(ft,{_self:n,node:o,data:s,store:l}):a.ctx.slots.default?a.ctx.slots.default({node:o,data:s}):ft("span",{class:t.be("node","label")},[o.label])}}});var ps=ce(hs,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tree/src/tree-node-content.vue"]]);function wn(e){const t=oe("TreeNodeMap",null),n={treeNodeExpand:a=>{e.node!==a&&e.node.collapse()},children:[]};return t&&t.children.push(n),Se("TreeNodeMap",n),{broadcastExpanded:a=>{if(e.accordion)for(const o of n.children)o.treeNodeExpand(a)}}}const Sn=Symbol("dragEvents");function vs({props:e,ctx:t,el$:n,dropIndicator$:a,store:o}){const s=_("tree"),l=$({showDropIndicator:!1,draggingNode:null,dropNode:null,allowDrop:!0,dropType:null});return Se(Sn,{treeNodeDragStart:({event:g,treeNode:v})=>{if(typeof e.allowDrag=="function"&&!e.allowDrag(v.node))return g.preventDefault(),!1;g.dataTransfer.effectAllowed="move";try{g.dataTransfer.setData("text/plain","")}catch{}l.value.draggingNode=v,t.emit("node-drag-start",v.node,g)},treeNodeDragOver:({event:g,treeNode:v})=>{const c=v,p=l.value.dropNode;p&&p.node.id!==c.node.id&&Ue(p.$el,s.is("drop-inner"));const d=l.value.draggingNode;if(!d||!c)return;let u=!0,y=!0,b=!0,w=!0;typeof e.allowDrop=="function"&&(u=e.allowDrop(d.node,c.node,"prev"),w=y=e.allowDrop(d.node,c.node,"inner"),b=e.allowDrop(d.node,c.node,"next")),g.dataTransfer.dropEffect=y||u||b?"move":"none",(u||y||b)&&(p==null?void 0:p.node.id)!==c.node.id&&(p&&t.emit("node-drag-leave",d.node,p.node,g),t.emit("node-drag-enter",d.node,c.node,g)),(u||y||b)&&(l.value.dropNode=c),c.node.nextSibling===d.node&&(b=!1),c.node.previousSibling===d.node&&(u=!1),c.node.contains(d.node,!1)&&(y=!1),(d.node===c.node||d.node.contains(c.node))&&(u=!1,y=!1,b=!1);const P=c.$el.querySelector(`.${s.be("node","content")}`).getBoundingClientRect(),R=n.value.getBoundingClientRect();let M;const q=u?y?.25:b?.45:1:-1,G=b?y?.75:u?.55:0:1;let V=-9999;const E=g.clientY-P.top;E<P.height*q?M="before":E>P.height*G?M="after":y?M="inner":M="none";const B=c.$el.querySelector(`.${s.be("node","expand-icon")}`).getBoundingClientRect(),A=a.value;M==="before"?V=B.top-R.top:M==="after"&&(V=B.bottom-R.top),A.style.top=`${V}px`,A.style.left=`${B.right-R.left}px`,M==="inner"?nn(c.$el,s.is("drop-inner")):Ue(c.$el,s.is("drop-inner")),l.value.showDropIndicator=M==="before"||M==="after",l.value.allowDrop=l.value.showDropIndicator||w,l.value.dropType=M,t.emit("node-drag-over",d.node,c.node,g)},treeNodeDragEnd:g=>{const{draggingNode:v,dropType:c,dropNode:p}=l.value;if(g.preventDefault(),g.dataTransfer.dropEffect="move",v&&p){const d={data:v.node.data};c!=="none"&&v.node.remove(),c==="before"?p.node.parent.insertBefore(d,p.node):c==="after"?p.node.parent.insertAfter(d,p.node):c==="inner"&&p.node.insertChild(d),c!=="none"&&o.value.registerNode(d),Ue(p.$el,s.is("drop-inner")),t.emit("node-drag-end",v.node,p.node,c,g),c!=="none"&&t.emit("node-drop",v.node,p.node,c,g)}v&&!p&&t.emit("node-drag-end",v.node,null,c,g),l.value.showDropIndicator=!1,l.value.draggingNode=null,l.value.dropNode=null,l.value.allowDrop=!0}}),{dragState:l}}const gs=Z({name:"ElTreeNode",components:{ElCollapseTransition:Jn,ElCheckbox:En,NodeContent:ps,ElIcon:he,Loading:Qn},props:{node:{type:me,default:()=>({})},props:{type:Object,default:()=>({})},accordion:Boolean,renderContent:Function,renderAfterExpand:Boolean,showCheckbox:{type:Boolean,default:!1}},emits:["node-expand"],setup(e,t){const n=_("tree"),{broadcastExpanded:a}=wn(e),o=oe("RootTree"),s=$(!1),l=$(!1),r=$(null),f=$(null),i=$(null),g=oe(Sn),v=De();Se("NodeInstance",v),e.node.expanded&&(s.value=!0,l.value=!0);const c=o.props.props.children||"children";F(()=>{const E=e.node.data[c];return E&&[...E]},()=>{e.node.updateChildren()}),F(()=>e.node.indeterminate,E=>{u(e.node.checked,E)}),F(()=>e.node.checked,E=>{u(E,e.node.indeterminate)}),F(()=>e.node.expanded,E=>{Y(()=>s.value=E),E&&(l.value=!0)});const p=E=>Et(o.props.nodeKey,E.data),d=E=>{const B=e.props.class;if(!B)return{};let A;if(ht(B)){const{data:se}=E;A=B(se,E)}else A=B;return ue(A)?{[A]:!0}:A},u=(E,B)=>{(r.value!==E||f.value!==B)&&o.ctx.emit("check-change",e.node.data,E,B),r.value=E,f.value=B},y=E=>{mt(o.store,o.ctx.emit,()=>o.store.value.setCurrentNode(e.node)),o.currentNode.value=e.node,o.props.expandOnClickNode&&w(),o.props.checkOnClickNode&&!e.node.disabled&&P(null,{target:{checked:!e.node.checked}}),o.ctx.emit("node-click",e.node.data,e.node,v,E)},b=E=>{o.instance.vnode.props.onNodeContextmenu&&(E.stopPropagation(),E.preventDefault()),o.ctx.emit("node-contextmenu",E,e.node.data,e.node,v)},w=()=>{e.node.isLeaf||(s.value?(o.ctx.emit("node-collapse",e.node.data,e.node,v),e.node.collapse()):(e.node.expand(),t.emit("node-expand",e.node.data,e.node,v)))},P=(E,B)=>{e.node.setChecked(B.target.checked,!o.props.checkStrictly),Y(()=>{const A=o.store.value;o.ctx.emit("check",e.node.data,{checkedNodes:A.getCheckedNodes(),checkedKeys:A.getCheckedKeys(),halfCheckedNodes:A.getHalfCheckedNodes(),halfCheckedKeys:A.getHalfCheckedKeys()})})};return{ns:n,node$:i,tree:o,expanded:s,childNodeRendered:l,oldChecked:r,oldIndeterminate:f,getNodeKey:p,getNodeClass:d,handleSelectChange:u,handleClick:y,handleContextMenu:b,handleExpandIconClick:w,handleCheckChange:P,handleChildNodeExpand:(E,B,A)=>{a(B),o.ctx.emit("node-expand",E,B,A)},handleDragStart:E=>{o.props.draggable&&g.treeNodeDragStart({event:E,treeNode:e})},handleDragOver:E=>{E.preventDefault(),o.props.draggable&&g.treeNodeDragOver({event:E,treeNode:{$el:i.value,node:e.node}})},handleDrop:E=>{E.preventDefault()},handleDragEnd:E=>{o.props.draggable&&g.treeNodeDragEnd(E)},CaretRight:_n}}}),ms=["aria-expanded","aria-disabled","aria-checked","draggable","data-key"],ys=["aria-expanded"];function bs(e,t,n,a,o,s){const l=X("el-icon"),r=X("el-checkbox"),f=X("loading"),i=X("node-content"),g=X("el-tree-node"),v=X("el-collapse-transition");return ae((k(),L("div",{ref:"node$",class:N([e.ns.b("node"),e.ns.is("expanded",e.expanded),e.ns.is("current",e.node.isCurrent),e.ns.is("hidden",!e.node.visible),e.ns.is("focusable",!e.node.disabled),e.ns.is("checked",!e.node.disabled&&e.node.checked),e.getNodeClass(e.node)]),role:"treeitem",tabindex:"-1","aria-expanded":e.expanded,"aria-disabled":e.node.disabled,"aria-checked":e.node.checked,draggable:e.tree.props.draggable,"data-key":e.getNodeKey(e.node),onClick:t[1]||(t[1]=H((...c)=>e.handleClick&&e.handleClick(...c),["stop"])),onContextmenu:t[2]||(t[2]=(...c)=>e.handleContextMenu&&e.handleContextMenu(...c)),onDragstart:t[3]||(t[3]=H((...c)=>e.handleDragStart&&e.handleDragStart(...c),["stop"])),onDragover:t[4]||(t[4]=H((...c)=>e.handleDragOver&&e.handleDragOver(...c),["stop"])),onDragend:t[5]||(t[5]=H((...c)=>e.handleDragEnd&&e.handleDragEnd(...c),["stop"])),onDrop:t[6]||(t[6]=H((...c)=>e.handleDrop&&e.handleDrop(...c),["stop"]))},[O("div",{class:N(e.ns.be("node","content")),style:Me({paddingLeft:(e.node.level-1)*e.tree.props.indent+"px"})},[e.tree.props.icon||e.CaretRight?(k(),I(l,{key:0,class:N([e.ns.be("node","expand-icon"),e.ns.is("leaf",e.node.isLeaf),{expanded:!e.node.isLeaf&&e.expanded}]),onClick:H(e.handleExpandIconClick,["stop"])},{default:z(()=>[(k(),I(ne(e.tree.props.icon||e.CaretRight)))]),_:1},8,["class","onClick"])):D("v-if",!0),e.showCheckbox?(k(),I(r,{key:1,"model-value":e.node.checked,indeterminate:e.node.indeterminate,disabled:!!e.node.disabled,onClick:t[0]||(t[0]=H(()=>{},["stop"])),onChange:e.handleCheckChange},null,8,["model-value","indeterminate","disabled","onChange"])):D("v-if",!0),e.node.loading?(k(),I(l,{key:2,class:N([e.ns.be("node","loading-icon"),e.ns.is("loading")])},{default:z(()=>[Q(f)]),_:1},8,["class"])):D("v-if",!0),Q(i,{node:e.node,"render-content":e.renderContent},null,8,["node","render-content"])],6),Q(v,null,{default:z(()=>[!e.renderAfterExpand||e.childNodeRendered?ae((k(),L("div",{key:0,class:N(e.ns.be("node","children")),role:"group","aria-expanded":e.expanded},[(k(!0),L(Ee,null,rn(e.node.childNodes,c=>(k(),I(g,{key:e.getNodeKey(c),"render-content":e.renderContent,"render-after-expand":e.renderAfterExpand,"show-checkbox":e.showCheckbox,node:c,accordion:e.accordion,props:e.props,onNodeExpand:e.handleChildNodeExpand},null,8,["render-content","render-after-expand","show-checkbox","node","accordion","props","onNodeExpand"]))),128))],10,ys)),[[ve,e.expanded]]):D("v-if",!0)]),_:1})],42,ms)),[[ve,e.node.visible]])}var Cs=ce(gs,[["render",bs],["__file","/home/runner/work/element-plus/element-plus/packages/components/tree/src/tree-node.vue"]]);function ks({el$:e},t){const n=_("tree"),a=ke([]),o=ke([]);tt(()=>{l()}),ea(()=>{a.value=Array.from(e.value.querySelectorAll("[role=treeitem]")),o.value=Array.from(e.value.querySelectorAll("input[type=checkbox]"))}),F(o,r=>{r.forEach(f=>{f.setAttribute("tabindex","-1")})}),an(e,"keydown",r=>{const f=r.target;if(!f.className.includes(n.b("node")))return;const i=r.code;a.value=Array.from(e.value.querySelectorAll(`.${n.is("focusable")}[role=treeitem]`));const g=a.value.indexOf(f);let v;if([ie.up,ie.down].includes(i)){if(r.preventDefault(),i===ie.up){v=g===-1?0:g!==0?g-1:a.value.length-1;const p=v;for(;!t.value.getNode(a.value[v].dataset.key).canFocus;){if(v--,v===p){v=-1;break}v<0&&(v=a.value.length-1)}}else{v=g===-1?0:g<a.value.length-1?g+1:0;const p=v;for(;!t.value.getNode(a.value[v].dataset.key).canFocus;){if(v++,v===p){v=-1;break}v>=a.value.length&&(v=0)}}v!==-1&&a.value[v].focus()}[ie.left,ie.right].includes(i)&&(r.preventDefault(),f.click());const c=f.querySelector('[type="checkbox"]');[ie.enter,ie.space].includes(i)&&c&&(r.preventDefault(),c.click())});const l=()=>{var r;a.value=Array.from(e.value.querySelectorAll(`.${n.is("focusable")}[role=treeitem]`)),o.value=Array.from(e.value.querySelectorAll("input[type=checkbox]"));const f=e.value.querySelectorAll(`.${n.is("checked")}[role=treeitem]`);if(f.length){f[0].setAttribute("tabindex","0");return}(r=a.value[0])==null||r.setAttribute("tabindex","0")}}const Ns=Z({name:"ElTree",components:{ElTreeNode:Cs},props:{data:{type:Array,default:()=>[]},emptyText:{type:String},renderAfterExpand:{type:Boolean,default:!0},nodeKey:String,checkStrictly:Boolean,defaultExpandAll:Boolean,expandOnClickNode:{type:Boolean,default:!0},checkOnClickNode:Boolean,checkDescendants:{type:Boolean,default:!1},autoExpandParent:{type:Boolean,default:!0},defaultCheckedKeys:Array,defaultExpandedKeys:Array,currentNodeKey:[String,Number],renderContent:Function,showCheckbox:{type:Boolean,default:!1},draggable:{type:Boolean,default:!1},allowDrag:Function,allowDrop:Function,props:{type:Object,default:()=>({children:"children",label:"label",disabled:"disabled"})},lazy:{type:Boolean,default:!1},highlightCurrent:Boolean,load:Function,filterNodeMethod:Function,accordion:Boolean,indent:{type:Number,default:18},icon:{type:ut}},emits:["check-change","current-change","node-click","node-contextmenu","node-collapse","node-expand","check","node-drag-start","node-drag-end","node-drop","node-drag-leave","node-drag-enter","node-drag-over"],setup(e,t){const{t:n}=ga(),a=_("tree"),o=$(new fs({key:e.nodeKey,data:e.data,lazy:e.lazy,props:e.props,load:e.load,currentNodeKey:e.currentNodeKey,checkStrictly:e.checkStrictly,checkDescendants:e.checkDescendants,defaultCheckedKeys:e.defaultCheckedKeys,defaultExpandedKeys:e.defaultExpandedKeys,autoExpandParent:e.autoExpandParent,defaultExpandAll:e.defaultExpandAll,filterNodeMethod:e.filterNodeMethod}));o.value.initialize();const s=$(o.value.root),l=$(null),r=$(null),f=$(null),{broadcastExpanded:i}=wn(e),{dragState:g}=vs({props:e,ctx:t,el$:r,dropIndicator$:f,store:o});ks({el$:r},o);const v=S(()=>{const{childNodes:C}=s.value;return!C||C.length===0||C.every(({visible:x})=>!x)});F(()=>e.currentNodeKey,C=>{o.value.setCurrentNodeKey(C)}),F(()=>e.defaultCheckedKeys,C=>{o.value.setDefaultCheckedKey(C)}),F(()=>e.defaultExpandedKeys,C=>{o.value.setDefaultExpandedKeys(C)}),F(()=>e.data,C=>{o.value.setData(C)},{deep:!0}),F(()=>e.checkStrictly,C=>{o.value.checkStrictly=C});const c=C=>{if(!e.filterNodeMethod)throw new Error("[Tree] filterNodeMethod is required when filter");o.value.filter(C)},p=C=>Et(e.nodeKey,C.data),d=C=>{if(!e.nodeKey)throw new Error("[Tree] nodeKey is required in getNodePath");const x=o.value.getNode(C);if(!x)return[];const W=[x.data];let le=x.parent;for(;le&&le!==s.value;)W.push(le.data),le=le.parent;return W.reverse()},u=(C,x)=>o.value.getCheckedNodes(C,x),y=C=>o.value.getCheckedKeys(C),b=()=>{const C=o.value.getCurrentNode();return C?C.data:null},w=()=>{if(!e.nodeKey)throw new Error("[Tree] nodeKey is required in getCurrentKey");const C=b();return C?C[e.nodeKey]:null},P=(C,x)=>{if(!e.nodeKey)throw new Error("[Tree] nodeKey is required in setCheckedNodes");o.value.setCheckedNodes(C,x)},R=(C,x)=>{if(!e.nodeKey)throw new Error("[Tree] nodeKey is required in setCheckedKeys");o.value.setCheckedKeys(C,x)},M=(C,x,W)=>{o.value.setChecked(C,x,W)},q=()=>o.value.getHalfCheckedNodes(),G=()=>o.value.getHalfCheckedKeys(),V=(C,x=!0)=>{if(!e.nodeKey)throw new Error("[Tree] nodeKey is required in setCurrentNode");mt(o,t.emit,()=>o.value.setUserCurrentNode(C,x))},E=(C,x=!0)=>{if(!e.nodeKey)throw new Error("[Tree] nodeKey is required in setCurrentKey");mt(o,t.emit,()=>o.value.setCurrentNodeKey(C,x))},B=C=>o.value.getNode(C),A=C=>{o.value.remove(C)},se=(C,x)=>{o.value.append(C,x)},fe=(C,x)=>{o.value.insertBefore(C,x)},re=(C,x)=>{o.value.insertAfter(C,x)},K=(C,x,W)=>{i(x),t.emit("node-expand",C,x,W)},J=(C,x)=>{if(!e.nodeKey)throw new Error("[Tree] nodeKey is required in updateKeyChild");o.value.updateChildren(C,x)};return Se("RootTree",{ctx:t,props:e,store:o,root:s,currentNode:l,instance:De()}),Se(ta,void 0),{ns:a,store:o,root:s,currentNode:l,dragState:g,el$:r,dropIndicator$:f,isEmpty:v,filter:c,getNodeKey:p,getNodePath:d,getCheckedNodes:u,getCheckedKeys:y,getCurrentNode:b,getCurrentKey:w,setCheckedNodes:P,setCheckedKeys:R,setChecked:M,getHalfCheckedNodes:q,getHalfCheckedKeys:G,setCurrentNode:V,setCurrentKey:E,t:n,getNode:B,remove:A,append:se,insertBefore:fe,insertAfter:re,handleNodeExpand:K,updateKeyChildren:J}}});function Es(e,t,n,a,o,s){const l=X("el-tree-node");return k(),L("div",{ref:"el$",class:N([e.ns.b(),e.ns.is("dragging",!!e.dragState.draggingNode),e.ns.is("drop-not-allow",!e.dragState.allowDrop),e.ns.is("drop-inner",e.dragState.dropType==="inner"),{[e.ns.m("highlight-current")]:e.highlightCurrent}]),role:"tree"},[(k(!0),L(Ee,null,rn(e.root.childNodes,r=>(k(),I(l,{key:e.getNodeKey(r),node:r,props:e.props,accordion:e.accordion,"render-after-expand":e.renderAfterExpand,"show-checkbox":e.showCheckbox,"render-content":e.renderContent,onNodeExpand:e.handleNodeExpand},null,8,["node","props","accordion","render-after-expand","show-checkbox","render-content","onNodeExpand"]))),128)),e.isEmpty?(k(),L("div",{key:0,class:N(e.ns.e("empty-block"))},[te(e.$slots,"empty",{},()=>{var r;return[O("span",{class:N(e.ns.e("empty-text"))},j((r=e.emptyText)!=null?r:e.t("el.tree.emptyText")),3)]})],2)):D("v-if",!0),ae(O("div",{ref:"dropIndicator$",class:N(e.ns.e("drop-indicator"))},null,2),[[ve,e.dragState.showDropIndicator]])],2)}var We=ce(Ns,[["render",Es],["__file","/home/runner/work/element-plus/element-plus/packages/components/tree/src/tree.vue"]]);We.install=e=>{e.component(We.name,We)};const ws=We,Ss=ws,Ds=Z({name:"ElMessageBox",directives:{TrapFocus:Fo},components:{ElButton:vt,ElFocusTrap:na,ElInput:Ro,ElOverlay:us,ElIcon:he,...aa},inheritAttrs:!1,props:{buttonSize:{type:String,validator:va},modal:{type:Boolean,default:!0},lockScroll:{type:Boolean,default:!0},showClose:{type:Boolean,default:!0},closeOnClickModal:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},closeOnHashChange:{type:Boolean,default:!0},center:Boolean,draggable:Boolean,roundButton:{default:!1,type:Boolean},container:{type:String,default:"body"},boxType:{type:String,default:""}},emits:["vanish","action"],setup(e,{emit:t}){const{locale:n,zIndex:a,ns:o,size:s}=ma("message-box",S(()=>e.buttonSize)),{t:l}=n,{nextZIndex:r}=a,f=$(!1),i=Je({autofocus:!0,beforeClose:null,callback:null,cancelButtonText:"",cancelButtonClass:"",confirmButtonText:"",confirmButtonClass:"",customClass:"",customStyle:{},dangerouslyUseHTMLString:!1,distinguishCancelAndClose:!1,icon:"",inputPattern:null,inputPlaceholder:"",inputType:"text",inputValue:null,inputValidator:null,inputErrorMessage:"",message:null,modalFade:!0,modalClass:"",showCancelButton:!1,showConfirmButton:!0,type:"",title:void 0,showInput:!1,action:"",confirmButtonLoading:!1,cancelButtonLoading:!1,confirmButtonDisabled:!1,editorErrorMessage:"",validateError:!1,zIndex:r()}),g=S(()=>{const K=i.type;return{[o.bm("icon",K)]:K&&Ot[K]}}),v=Pt(),c=Pt(),p=S(()=>i.icon||Ot[i.type]||""),d=S(()=>!!i.message),u=$(),y=$(),b=$(),w=$(),P=$(),R=S(()=>i.confirmButtonClass);F(()=>i.inputValue,async K=>{await Y(),e.boxType==="prompt"&&K!==null&&A()},{immediate:!0}),F(()=>f.value,K=>{var J,C;K&&(e.boxType!=="prompt"&&(i.autofocus?b.value=(C=(J=P.value)==null?void 0:J.$el)!=null?C:u.value:b.value=u.value),i.zIndex=r()),e.boxType==="prompt"&&(K?Y().then(()=>{var x;w.value&&w.value.$el&&(i.autofocus?b.value=(x=se())!=null?x:u.value:b.value=u.value)}):(i.editorErrorMessage="",i.validateError=!1))});const M=S(()=>e.draggable);wo(u,y,M),tt(async()=>{await Y(),e.closeOnHashChange&&window.addEventListener("hashchange",q)}),tn(()=>{e.closeOnHashChange&&window.removeEventListener("hashchange",q)});function q(){f.value&&(f.value=!1,Y(()=>{i.action&&t("action",i.action)}))}const G=()=>{e.closeOnClickModal&&B(i.distinguishCancelAndClose?"close":"cancel")},V=mn(G),E=K=>{if(i.inputType!=="textarea")return K.preventDefault(),B("confirm")},B=K=>{var J;e.boxType==="prompt"&&K==="confirm"&&!A()||(i.action=K,i.beforeClose?(J=i.beforeClose)==null||J.call(i,K,i,q):q())},A=()=>{if(e.boxType==="prompt"){const K=i.inputPattern;if(K&&!K.test(i.inputValue||""))return i.editorErrorMessage=i.inputErrorMessage||l("el.messagebox.error"),i.validateError=!0,!1;const J=i.inputValidator;if(typeof J=="function"){const C=J(i.inputValue);if(C===!1)return i.editorErrorMessage=i.inputErrorMessage||l("el.messagebox.error"),i.validateError=!0,!1;if(typeof C=="string")return i.editorErrorMessage=C,i.validateError=!0,!1}}return i.editorErrorMessage="",i.validateError=!1,!0},se=()=>{const K=w.value.$refs;return K.input||K.textarea},fe=()=>{B("close")},re=()=>{e.closeOnPressEscape&&fe()};return e.lockScroll&&So(f),{...sn(i),ns:o,overlayEvent:V,visible:f,hasMessage:d,typeClass:g,contentId:v,inputId:c,btnSize:s,iconComponent:p,confirmButtonClasses:R,rootRef:u,focusStartRef:b,headerRef:y,inputRef:w,confirmRef:P,doClose:q,handleClose:fe,onCloseRequested:re,handleWrapperClick:G,handleInputEnter:E,handleAction:B,t:l}}}),xs=["aria-label","aria-describedby"],Ts=["aria-label"],Bs=["id"];function Is(e,t,n,a,o,s){const l=X("el-icon"),r=X("close"),f=X("el-input"),i=X("el-button"),g=X("el-focus-trap"),v=X("el-overlay");return k(),I(oa,{name:"fade-in-linear",onAfterLeave:t[11]||(t[11]=c=>e.$emit("vanish")),persisted:""},{default:z(()=>[ae(Q(v,{"z-index":e.zIndex,"overlay-class":[e.ns.is("message-box"),e.modalClass],mask:e.modal},{default:z(()=>[O("div",{role:"dialog","aria-label":e.title,"aria-modal":"true","aria-describedby":e.showInput?void 0:e.contentId,class:N(`${e.ns.namespace.value}-overlay-message-box`),onClick:t[8]||(t[8]=(...c)=>e.overlayEvent.onClick&&e.overlayEvent.onClick(...c)),onMousedown:t[9]||(t[9]=(...c)=>e.overlayEvent.onMousedown&&e.overlayEvent.onMousedown(...c)),onMouseup:t[10]||(t[10]=(...c)=>e.overlayEvent.onMouseup&&e.overlayEvent.onMouseup(...c))},[Q(g,{loop:"",trapped:e.visible,"focus-trap-el":e.rootRef,"focus-start-el":e.focusStartRef,onReleaseRequested:e.onCloseRequested},{default:z(()=>[O("div",{ref:"rootRef",class:N([e.ns.b(),e.customClass,e.ns.is("draggable",e.draggable),{[e.ns.m("center")]:e.center}]),style:Me(e.customStyle),tabindex:"-1",onClick:t[7]||(t[7]=H(()=>{},["stop"]))},[e.title!==null&&e.title!==void 0?(k(),L("div",{key:0,ref:"headerRef",class:N(e.ns.e("header"))},[O("div",{class:N(e.ns.e("title"))},[e.iconComponent&&e.center?(k(),I(l,{key:0,class:N([e.ns.e("status"),e.typeClass])},{default:z(()=>[(k(),I(ne(e.iconComponent)))]),_:1},8,["class"])):D("v-if",!0),O("span",null,j(e.title),1)],2),e.showClose?(k(),L("button",{key:0,type:"button",class:N(e.ns.e("headerbtn")),"aria-label":e.t("el.messagebox.close"),onClick:t[0]||(t[0]=c=>e.handleAction(e.distinguishCancelAndClose?"close":"cancel")),onKeydown:t[1]||(t[1]=Re(H(c=>e.handleAction(e.distinguishCancelAndClose?"close":"cancel"),["prevent"]),["enter"]))},[Q(l,{class:N(e.ns.e("close"))},{default:z(()=>[Q(r)]),_:1},8,["class"])],42,Ts)):D("v-if",!0)],2)):D("v-if",!0),O("div",{id:e.contentId,class:N(e.ns.e("content"))},[O("div",{class:N(e.ns.e("container"))},[e.iconComponent&&!e.center&&e.hasMessage?(k(),I(l,{key:0,class:N([e.ns.e("status"),e.typeClass])},{default:z(()=>[(k(),I(ne(e.iconComponent)))]),_:1},8,["class"])):D("v-if",!0),e.hasMessage?(k(),L("div",{key:1,class:N(e.ns.e("message"))},[te(e.$slots,"default",{},()=>[e.dangerouslyUseHTMLString?(k(),I(ne(e.showInput?"label":"p"),{key:1,for:e.showInput?e.inputId:void 0,innerHTML:e.message},null,8,["for","innerHTML"])):(k(),I(ne(e.showInput?"label":"p"),{key:0,for:e.showInput?e.inputId:void 0},{default:z(()=>[ge(j(e.dangerouslyUseHTMLString?"":e.message),1)]),_:1},8,["for"]))])],2)):D("v-if",!0)],2),ae(O("div",{class:N(e.ns.e("input"))},[Q(f,{id:e.inputId,ref:"inputRef",modelValue:e.inputValue,"onUpdate:modelValue":t[2]||(t[2]=c=>e.inputValue=c),type:e.inputType,placeholder:e.inputPlaceholder,"aria-invalid":e.validateError,class:N({invalid:e.validateError}),onKeydown:Re(e.handleInputEnter,["enter"])},null,8,["id","modelValue","type","placeholder","aria-invalid","class","onKeydown"]),O("div",{class:N(e.ns.e("errormsg")),style:Me({visibility:e.editorErrorMessage?"visible":"hidden"})},j(e.editorErrorMessage),7)],2),[[ve,e.showInput]])],10,Bs),O("div",{class:N(e.ns.e("btns"))},[e.showCancelButton?(k(),I(i,{key:0,loading:e.cancelButtonLoading,class:N([e.cancelButtonClass]),round:e.roundButton,size:e.btnSize,onClick:t[3]||(t[3]=c=>e.handleAction("cancel")),onKeydown:t[4]||(t[4]=Re(H(c=>e.handleAction("cancel"),["prevent"]),["enter"]))},{default:z(()=>[ge(j(e.cancelButtonText||e.t("el.messagebox.cancel")),1)]),_:1},8,["loading","class","round","size"])):D("v-if",!0),ae(Q(i,{ref:"confirmRef",type:"primary",loading:e.confirmButtonLoading,class:N([e.confirmButtonClasses]),round:e.roundButton,disabled:e.confirmButtonDisabled,size:e.btnSize,onClick:t[5]||(t[5]=c=>e.handleAction("confirm")),onKeydown:t[6]||(t[6]=Re(H(c=>e.handleAction("confirm"),["prevent"]),["enter"]))},{default:z(()=>[ge(j(e.confirmButtonText||e.t("el.messagebox.confirm")),1)]),_:1},8,["loading","class","round","disabled","size"]),[[ve,e.showConfirmButton]])],2)],6)]),_:3},8,["trapped","focus-trap-el","focus-start-el","onReleaseRequested"])],42,xs)]),_:3},8,["z-index","overlay-class","mask"]),[[ve,e.visible]])]),_:3})}var As=ce(Ds,[["render",Is],["__file","/home/runner/work/element-plus/element-plus/packages/components/message-box/src/index.vue"]]);const Oe=new Map,Ms=e=>{let t=document.body;return e.appendTo&&(ue(e.appendTo)&&(t=document.querySelector(e.appendTo)),zt(e.appendTo)&&(t=e.appendTo),zt(t)||(t=document.body)),t},Ls=(e,t,n=null)=>{const a=Q(As,e,ht(e.message)||dn(e.message)?{default:ht(e.message)?e.message:()=>e.message}:null);return a.appContext=n,un(a,t),Ms(e).appendChild(t.firstElementChild),a.component},$s=()=>document.createElement("div"),Ks=(e,t)=>{const n=$s();e.onVanish=()=>{un(null,n),Oe.delete(o)},e.onAction=s=>{const l=Oe.get(o);let r;e.showInput?r={value:o.inputValue,action:s}:r=s,e.callback?e.callback(r,a.proxy):s==="cancel"||s==="close"?e.distinguishCancelAndClose&&s!=="cancel"?l.reject("close"):l.reject("cancel"):l.resolve(r)};const a=Ls(e,n,t),o=a.proxy;for(const s in e)Ke(e,s)&&!Ke(o.$props,s)&&(o[s]=e[s]);return o.visible=!0,o};function Te(e,t=null){if(!Pe)return Promise.reject();let n;return ue(e)||dn(e)?e={message:e}:n=e.callback,new Promise((a,o)=>{const s=Ks(e,t??Te._context);Oe.set(s,{options:e,callback:n,resolve:a,reject:o})})}const Os=["alert","confirm","prompt"],Ps={alert:{closeOnPressEscape:!1,closeOnClickModal:!1},confirm:{showCancelButton:!0},prompt:{showCancelButton:!0,showInput:!0}};Os.forEach(e=>{Te[e]=zs(e)});function zs(e){return(t,n,a,o)=>{let s="";return Le(n)?(a=n,s=""):je(n)?s="":s=n,Te(Object.assign({title:s,message:t,type:"",...Ps[e]},a,{boxType:e}),o)}}Te.close=()=>{Oe.forEach((e,t)=>{t.doClose()}),Oe.clear()};Te._context=null;const de=Te;de.install=e=>{de._context=e._context,e.config.globalProperties.$msgbox=de,e.config.globalProperties.$messageBox=de,e.config.globalProperties.$alert=de.alert,e.config.globalProperties.$confirm=de.confirm,e.config.globalProperties.$prompt=de.prompt};const Rs=de;const Fs={class:"reactive-menu-tree-node"},Hs={class:"reactive-menu-tree-node-name"},Vs={class:"reactive-menu-tree-node-tool"},Us={__name:"ReactiveMenuTree",props:{menuData:{type:Array,default:()=>[]},isOpenDrag:{type:Boolean,default:!0},isOpenRename:{type:Boolean,default:!0},isOpenDefault:{type:Boolean,default:!0},isOpenCheck:{type:Boolean,default:!0}},setup(e){const t=e;let n=Je([]);F(t.menuData,()=>{n=Je(c(t.menuData))},{immediate:!0});const a=$(null);function o(p){Ce.forEach(p.parent.childNodes,d=>{d.data.config.isDefault=!1}),p.data.config.isDefault=!0}function s(p){Rs.prompt("","",{confirmButtonText:"OK",cancelButtonText:"Cancel",inputPattern:/.+/,inputValue:p.data.name,inputErrorMessage:""}).then(({value:d})=>{p.data.name=d,Gt({type:"success",message:""})}).catch(()=>{Gt({type:"info",message:""})})}function l(p){r(p),f(p)}function r(p){const d=p.childNodes;for(const u of d||[])u.data.checked=p.data.checked,r(u)}function f(p){const d=p.parent;if(d){const u=!!Ce.find(d.childNodes,"data.checked");u!==d.data.checked&&(d.data.checked=u,f(d))}}function i(){return!0}function g(p,d,u){return p.data.pid===d.data.pid?u!=="inner":!1}function v(p){var y,b;const u=((b=(y=a.value.getNode(p.data).parent)==null?void 0:y.data)==null?void 0:b.children)||a.value.data;Ce.forEach(u,(w,P)=>{w.order=P})}function c(p){for(const d of Ce.cloneDeep(p))d.id=d.id.toString?d.id.toString():d.id,d&&d.children&&d.children.length&&(d.children=c(d.children));return Ce.filter(Ce.orderBy(p,["order"],["asc"]),d=>d.enable!==!1)}return(p,d)=>(k(),I(h(Ss),{ref_key:"reactiveMenuTree",ref:a,class:"reactive-menu-tree","node-key":"id","highlight-current":"","allow-drop":g,"allow-drag":i,draggable:t.isOpenDrag,data:h(n),onNodeDragEnd:v},{default:z(({node:u})=>[O("div",Fs,[t.isOpenCheck?(k(),I(h(En),{key:0,modelValue:u.data.checked,"onUpdate:modelValue":y=>u.data.checked=y,onClick:d[0]||(d[0]=H(()=>{},["stop"])),onChange:y=>l(u)},null,8,["modelValue","onUpdate:modelValue","onChange"])):D("",!0),O("div",Hs,j(u.data.name),1),O("div",Vs,[t.isOpenRename?(k(),I(h(vt),{key:0,type:"primary",link:"",onClick:H(y=>s(u),["stop"])},{default:z(()=>[ge("  ")]),_:2},1032,["onClick"])):D("",!0),!u.data.config.notBeDefault&&t.isOpenDefault?(k(),I(h(vt),{key:1,type:u.data.config.isDefault?"danger":"primary",link:"",onClick:H(y=>o(u),["stop"])},{default:z(()=>[ge("  ")]),_:2},1032,["type","onClick"])):D("",!0)])])]),_:1},8,["draggable","data"]))}},qs=sa(Us,[["__scopeId","data-v-d6a25575"]]),Js={__name:"MenuTree",setup(e){const t=oe("reactiveMenuData");return(n,a)=>(k(),I(qs,{"menu-data":h(t).menus},null,8,["menu-data"]))}};export{Js as default};
