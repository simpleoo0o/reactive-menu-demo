import{f as Ve,S as xt,g as yn,h as bn,j as Cn,s as kn,k as Nn,l as En,n as wn,p as Sn,q as Dn,t as S,v as Bn,x as De,o as _e,y as xn,z as Rt,A as It,B as $e,C as In,D as _,F as Kn,G as Kt,H as F,I as Mn,J as Ht,K as $n,L as Ue,N as je,r as L,M as Ce,O as Ut,P as We,Q as Ge,R as vt,T as mt,U as ke,V as rt,W as Tn,X as de,Y,Z as Ln,$ as gt,a0 as et,a1 as yt,a2 as it,a3 as jt,a4 as An,a5 as zn,a6 as On,a7 as Vn,a8 as Pn,a9 as G,aa as Ye,ab as Fn,a as k,c as T,ac as x,ad as Ne,ae as N,u as f,af as Q,b as V,ag as M,w as P,ah as ne,ai as ce,aj as at,d as J,ak as Rn,al as H,am as Z,an as Te,ao as ue,ap as Le,aq as qt,ar as Mt,as as re,at as dt,i as oe,au as Xe,av as Ae,aw as Ze,ax as $t,ay as Hn,az as st,aA as le,aB as Je,e as he,aC as Se,aD as Wt,aE as Gt,aF as lt,aG as ut,aH as ze,aI as Qe,aJ as Un,aK as jn,aL as qn,aM as X,aN as Ee,aO as Yt,aP as Wn,aQ as Gn,aR as Yn,E as ct,aS as Xn,aT as Zn,aU as Jn,aV as Tt,aW as Lt,aX as Fe,aY as Qn,aZ as Xt,a_ as Zt,a$ as At,b0 as be,_ as _n}from"./index-DX1TNSH0.js";import{U as ve,i as eo}from"./validator-BcLgftF8.js";import{E as zt}from"./index-EA1KgoVO.js";const to=()=>Ve&&/firefox/i.test(window.navigator.userAgent);var Ot=xt?xt.isConcatSpreadable:void 0;function no(e){return yn(e)||bn(e)||!!(Ot&&e&&e[Ot])}function Jt(e,t,o,n,a){var s=-1,l=e.length;for(o||(o=no),a||(a=[]);++s<l;){var r=e[s];t>0&&o(r)?t>1?Jt(r,t-1,o,n,a):Cn(a,r):n||(a[a.length]=r)}return a}function oo(e){var t=e==null?0:e.length;return t?Jt(e,1):[]}function ao(e){return kn(Nn(e,void 0,oo),e+"")}function so(e,t,o){for(var n=-1,a=t.length,s={};++n<a;){var l=t[n],r=En(e,l);o(r,l)&&wn(s,Sn(l,e),r)}return s}function lo(e,t){return so(e,t,function(o,n){return Dn(e,n)})}var ro=ao(function(e,t){return e==null?{}:lo(e,t)});let Re;const io=e=>{var t;if(!Ve)return 0;if(Re!==void 0)return Re;const o=document.createElement("div");o.className=`${e}-scrollbar__wrap`,o.style.visibility="hidden",o.style.width="100px",o.style.position="absolute",o.style.top="-9999px",document.body.appendChild(o);const n=o.offsetWidth;o.style.overflow="scroll";const a=document.createElement("div");a.style.width="100%",o.appendChild(a);const s=a.offsetWidth;return(t=o.parentNode)==null||t.removeChild(o),Re=n-s,Re},uo=e=>/([\uAC00-\uD7AF\u3130-\u318F])+/gi.test(e),co=["class","style"],fo=/^on[A-Z]/,ho=(e={})=>{const{excludeListeners:t=!1,excludeKeys:o}=e,n=S(()=>((o==null?void 0:o.value)||[]).concat(co)),a=De();return a?S(()=>{var s;return Bn(Object.entries((s=a.proxy)==null?void 0:s.$attrs).filter(([l])=>!n.value.includes(l)&&!(t&&fo.test(l))))}):S(()=>({}))},po=(e,t,o,n)=>{let a={offsetX:0,offsetY:0};const s=v=>{const c=v.clientX,h=v.clientY,{offsetX:u,offsetY:p}=a,g=e.value.getBoundingClientRect(),i=g.left,d=g.top,E=g.width,C=g.height,y=document.documentElement.clientWidth,A=document.documentElement.clientHeight,z=-i+u,B=-d+p,ee=y-i-E+u,j=A-d-C+p,R=$=>{let K=u+$.clientX-c,W=p+$.clientY-h;n!=null&&n.value||(K=Math.min(Math.max(K,z),ee),W=Math.min(Math.max(W,B),j)),a={offsetX:K,offsetY:W},e.value&&(e.value.style.transform=`translate(${It(K)}, ${It(W)})`)},w=()=>{document.removeEventListener("mousemove",R),document.removeEventListener("mouseup",w)};document.addEventListener("mousemove",R),document.addEventListener("mouseup",w)},l=()=>{t.value&&e.value&&t.value.addEventListener("mousedown",s)},r=()=>{t.value&&e.value&&t.value.removeEventListener("mousedown",s)};_e(()=>{xn(()=>{o.value?l():r()})}),Rt(()=>{r()})},vo=(e,t={})=>{$e(e)||In("[useLockscreen]","You need to pass a ref param to this function");const o=t.ns||_("popup"),n=Kn(()=>o.bm("parent","hidden"));if(!Ve||Kt(document.body,n.value))return;let a=0,s=!1,l="0";const r=()=>{setTimeout(()=>{Ue(document==null?void 0:document.body,n.value),s&&document&&(document.body.style.width=l)},200)};F(e,v=>{if(!v){r();return}s=!Kt(document.body,n.value),s&&(l=document.body.style.width),a=io(o.namespace.value);const c=document.documentElement.clientHeight<document.body.scrollHeight,h=Mn(document.body,"overflowY");a>0&&(c||h==="scroll")&&s&&(document.body.style.width=`calc(100% - ${a}px)`),Ht(document.body,n.value)}),$n(()=>r())},Qt=e=>{if(!e)return{onClick:je,onMousedown:je,onMouseup:je};let t=!1,o=!1;return{onClick:l=>{t&&o&&e(l),t=o=!1},onMousedown:l=>{t=l.target===l.currentTarget},onMouseup:l=>{o=l.target===l.currentTarget}}};function mo(e){const t=L();function o(){if(e.value==null)return;const{selectionStart:a,selectionEnd:s,value:l}=e.value;if(a==null||s==null)return;const r=l.slice(0,Math.max(0,a)),v=l.slice(Math.max(0,s));t.value={selectionStart:a,selectionEnd:s,value:l,beforeTxt:r,afterTxt:v}}function n(){if(e.value==null||t.value==null)return;const{value:a}=e.value,{beforeTxt:s,afterTxt:l,selectionStart:r}=t.value;if(s==null||l==null||r==null)return;let v=a.length;if(a.endsWith(l))v=a.length-l.length;else if(a.startsWith(s))v=s.length;else{const c=s[r-1],h=a.indexOf(c,r-1);h!==-1&&(v=h+1)}e.value.setSelectionRange(v,v)}return[o,n]}function go(e,{afterFocus:t,beforeBlur:o,afterBlur:n}={}){const a=De(),{emit:s}=a,l=Ce(),r=L(!1),v=u=>{r.value||(r.value=!0,s("focus",u),t==null||t())},c=u=>{var p;We(o)&&o(u)||u.relatedTarget&&((p=l.value)!=null&&p.contains(u.relatedTarget))||(r.value=!1,s("blur",u),n==null||n())},h=()=>{var u;(u=e.value)==null||u.focus()};return F(l,u=>{u&&u.setAttribute("tabindex","-1")}),Ut(l,"click",h),{wrapperRef:l,isFocused:r,handleFocus:v,handleBlur:c}}let te;const yo=`
  height:0 !important;
  visibility:hidden !important;
  ${to()?"":"overflow:hidden !important;"}
  position:absolute !important;
  z-index:-1000 !important;
  top:0 !important;
  right:0 !important;
`,bo=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","text-rendering","text-transform","width","text-indent","padding-left","padding-right","border-width","box-sizing"];function Co(e){const t=window.getComputedStyle(e),o=t.getPropertyValue("box-sizing"),n=Number.parseFloat(t.getPropertyValue("padding-bottom"))+Number.parseFloat(t.getPropertyValue("padding-top")),a=Number.parseFloat(t.getPropertyValue("border-bottom-width"))+Number.parseFloat(t.getPropertyValue("border-top-width"));return{contextStyle:bo.map(l=>`${l}:${t.getPropertyValue(l)}`).join(";"),paddingSize:n,borderSize:a,boxSizing:o}}function Vt(e,t=1,o){var n;te||(te=document.createElement("textarea"),document.body.appendChild(te));const{paddingSize:a,borderSize:s,boxSizing:l,contextStyle:r}=Co(e);te.setAttribute("style",`${r};${yo}`),te.value=e.value||e.placeholder||"";let v=te.scrollHeight;const c={};l==="border-box"?v=v+s:l==="content-box"&&(v=v-a),te.value="";const h=te.scrollHeight-a;if(Ge(t)){let u=h*t;l==="border-box"&&(u=u+a+s),v=Math.max(u,v),c.minHeight=`${u}px`}if(Ge(o)){let u=h*o;l==="border-box"&&(u=u+a+s),v=Math.min(u,v)}return c.height=`${v}px`,(n=te.parentNode)==null||n.removeChild(te),te=void 0,c}const ko=vt({id:{type:String,default:void 0},size:mt,disabled:Boolean,modelValue:{type:ke([String,Number,Object]),default:""},maxlength:{type:[String,Number]},minlength:{type:[String,Number]},type:{type:String,default:"text"},resize:{type:String,values:["none","both","horizontal","vertical"]},autosize:{type:ke([Boolean,Object]),default:!1},autocomplete:{type:String,default:"off"},formatter:{type:Function},parser:{type:Function},placeholder:{type:String},form:{type:String},readonly:{type:Boolean,default:!1},clearable:{type:Boolean,default:!1},showPassword:{type:Boolean,default:!1},showWordLimit:{type:Boolean,default:!1},suffixIcon:{type:rt},prefixIcon:{type:rt},containerRole:{type:String,default:void 0},label:{type:String,default:void 0},tabindex:{type:[String,Number],default:0},validateEvent:{type:Boolean,default:!0},inputStyle:{type:ke([Object,Array,String]),default:()=>Tn({})},autofocus:{type:Boolean,default:!1}}),No={[ve]:e=>de(e),input:e=>de(e),change:e=>de(e),focus:e=>e instanceof FocusEvent,blur:e=>e instanceof FocusEvent,clear:()=>!0,mouseleave:e=>e instanceof MouseEvent,mouseenter:e=>e instanceof MouseEvent,keydown:e=>e instanceof Event,compositionstart:e=>e instanceof CompositionEvent,compositionupdate:e=>e instanceof CompositionEvent,compositionend:e=>e instanceof CompositionEvent},Eo=["role"],wo=["id","minlength","maxlength","type","disabled","readonly","autocomplete","tabindex","aria-label","placeholder","form","autofocus"],So=["id","minlength","maxlength","tabindex","disabled","readonly","autocomplete","aria-label","placeholder","form","autofocus"],Do=Y({name:"ElInput",inheritAttrs:!1}),Bo=Y({...Do,props:ko,emits:No,setup(e,{expose:t,emit:o}){const n=e,a=Ln(),s=gt(),l=S(()=>{const m={};return n.containerRole==="combobox"&&(m["aria-haspopup"]=a["aria-haspopup"],m["aria-owns"]=a["aria-owns"],m["aria-expanded"]=a["aria-expanded"]),m}),r=S(()=>[n.type==="textarea"?E.b():d.b(),d.m(g.value),d.is("disabled",i.value),d.is("exceed",rn.value),{[d.b("group")]:s.prepend||s.append,[d.bm("group","append")]:s.append,[d.bm("group","prepend")]:s.prepend,[d.m("prefix")]:s.prefix||n.prefixIcon,[d.m("suffix")]:s.suffix||n.suffixIcon||n.clearable||n.showPassword,[d.bm("suffix","password-clear")]:se.value&&tt.value,[d.b("hidden")]:n.type==="hidden"},a.class]),v=S(()=>[d.e("wrapper"),d.is("focus",$.value)]),c=ho({excludeKeys:S(()=>Object.keys(l.value))}),{form:h,formItem:u}=et(),{inputId:p}=yt(n,{formItemContext:u}),g=it(),i=jt(),d=_("input"),E=_("textarea"),C=Ce(),y=Ce(),A=L(!1),z=L(!1),B=L(!1),ee=L(),j=Ce(n.inputStyle),R=S(()=>C.value||y.value),{wrapperRef:w,isFocused:$,handleFocus:K,handleBlur:W}=go(R,{afterBlur(){var m;n.validateEvent&&((m=u==null?void 0:u.validate)==null||m.call(u,"blur").catch(I=>Ye()))}}),me=S(()=>{var m;return(m=h==null?void 0:h.statusIcon)!=null?m:!1}),ae=S(()=>(u==null?void 0:u.validateState)||""),ge=S(()=>ae.value&&An[ae.value]),O=S(()=>B.value?zn:On),b=S(()=>[a.style]),D=S(()=>[n.inputStyle,j.value,{resize:n.resize}]),U=S(()=>Vn(n.modelValue)?"":String(n.modelValue)),se=S(()=>n.clearable&&!i.value&&!n.readonly&&!!U.value&&($.value||A.value)),tt=S(()=>n.showPassword&&!i.value&&!n.readonly&&!!U.value&&(!!U.value||$.value)),ye=S(()=>n.showWordLimit&&!!n.maxlength&&(n.type==="text"||n.type==="textarea")&&!i.value&&!n.readonly&&!n.showPassword),nt=S(()=>U.value.length),rn=S(()=>!!ye.value&&nt.value>Number(n.maxlength)),dn=S(()=>!!s.suffix||!!n.suffixIcon||se.value||n.showPassword||ye.value||!!ae.value&&me.value),[un,cn]=mo(C);Pn(y,m=>{if(fn(),!ye.value||n.resize!=="both")return;const I=m[0],{width:q}=I.contentRect;ee.value={right:`calc(100% - ${q+15+6}px)`}});const Ie=()=>{const{type:m,autosize:I}=n;if(!(!Ve||m!=="textarea"||!y.value))if(I){const q=Le(I)?I.minRows:void 0,Pe=Le(I)?I.maxRows:void 0,Bt=Vt(y.value,q,Pe);j.value={overflowY:"hidden",...Bt},G(()=>{y.value.offsetHeight,j.value=Bt})}else j.value={minHeight:Vt(y.value).minHeight}},fn=(m=>{let I=!1;return()=>{var q;if(I||!n.autosize)return;((q=y.value)==null?void 0:q.offsetParent)===null||(m(),I=!0)}})(Ie),Ke=()=>{const m=R.value,I=n.formatter?n.formatter(U.value):U.value;!m||m.value===I||(m.value=I)},ot=async m=>{un();let{value:I}=m.target;if(n.formatter&&(I=n.parser?n.parser(I):I),!z.value){if(I===U.value){Ke();return}o(ve,I),o("input",I),await G(),Ke(),cn()}},Ct=m=>{o("change",m.target.value)},kt=m=>{o("compositionstart",m),z.value=!0},Nt=m=>{var I;o("compositionupdate",m);const q=(I=m.target)==null?void 0:I.value,Pe=q[q.length-1]||"";z.value=!uo(Pe)},Et=m=>{o("compositionend",m),z.value&&(z.value=!1,ot(m))},hn=()=>{B.value=!B.value,wt()},wt=async()=>{var m;await G(),(m=R.value)==null||m.focus()},pn=()=>{var m;return(m=R.value)==null?void 0:m.blur()},vn=m=>{A.value=!1,o("mouseleave",m)},mn=m=>{A.value=!0,o("mouseenter",m)},St=m=>{o("keydown",m)},gn=()=>{var m;(m=R.value)==null||m.select()},Dt=()=>{o(ve,""),o("change",""),o("clear"),o("input","")};return F(()=>n.modelValue,()=>{var m;G(()=>Ie()),n.validateEvent&&((m=u==null?void 0:u.validate)==null||m.call(u,"change").catch(I=>Ye()))}),F(U,()=>Ke()),F(()=>n.type,async()=>{await G(),Ke(),Ie()}),_e(()=>{!n.formatter&&n.parser,Ke(),G(Ie)}),t({input:C,textarea:y,ref:R,textareaStyle:D,autosize:Fn(n,"autosize"),focus:wt,blur:pn,select:gn,clear:Dt,resizeTextarea:Ie}),(m,I)=>(k(),T("div",at(f(l),{class:f(r),style:f(b),role:m.containerRole,onMouseenter:mn,onMouseleave:vn}),[x(" input "),m.type!=="textarea"?(k(),T(Ne,{key:0},[x(" prepend slot "),m.$slots.prepend?(k(),T("div",{key:0,class:N(f(d).be("group","prepend"))},[Q(m.$slots,"prepend")],2)):x("v-if",!0),V("div",{ref_key:"wrapperRef",ref:w,class:N(f(v))},[x(" prefix slot "),m.$slots.prefix||m.prefixIcon?(k(),T("span",{key:0,class:N(f(d).e("prefix"))},[V("span",{class:N(f(d).e("prefix-inner"))},[Q(m.$slots,"prefix"),m.prefixIcon?(k(),M(f(ce),{key:0,class:N(f(d).e("icon"))},{default:P(()=>[(k(),M(ne(m.prefixIcon)))]),_:1},8,["class"])):x("v-if",!0)],2)],2)):x("v-if",!0),V("input",at({id:f(p),ref_key:"input",ref:C,class:f(d).e("inner")},f(c),{minlength:m.minlength,maxlength:m.maxlength,type:m.showPassword?B.value?"text":"password":m.type,disabled:f(i),readonly:m.readonly,autocomplete:m.autocomplete,tabindex:m.tabindex,"aria-label":m.label,placeholder:m.placeholder,style:m.inputStyle,form:m.form,autofocus:m.autofocus,onCompositionstart:kt,onCompositionupdate:Nt,onCompositionend:Et,onInput:ot,onFocus:I[0]||(I[0]=(...q)=>f(K)&&f(K)(...q)),onBlur:I[1]||(I[1]=(...q)=>f(W)&&f(W)(...q)),onChange:Ct,onKeydown:St}),null,16,wo),x(" suffix slot "),f(dn)?(k(),T("span",{key:1,class:N(f(d).e("suffix"))},[V("span",{class:N(f(d).e("suffix-inner"))},[!f(se)||!f(tt)||!f(ye)?(k(),T(Ne,{key:0},[Q(m.$slots,"suffix"),m.suffixIcon?(k(),M(f(ce),{key:0,class:N(f(d).e("icon"))},{default:P(()=>[(k(),M(ne(m.suffixIcon)))]),_:1},8,["class"])):x("v-if",!0)],64)):x("v-if",!0),f(se)?(k(),M(f(ce),{key:1,class:N([f(d).e("icon"),f(d).e("clear")]),onMousedown:H(f(je),["prevent"]),onClick:Dt},{default:P(()=>[J(f(Rn))]),_:1},8,["class","onMousedown"])):x("v-if",!0),f(tt)?(k(),M(f(ce),{key:2,class:N([f(d).e("icon"),f(d).e("password")]),onClick:hn},{default:P(()=>[(k(),M(ne(f(O))))]),_:1},8,["class"])):x("v-if",!0),f(ye)?(k(),T("span",{key:3,class:N(f(d).e("count"))},[V("span",{class:N(f(d).e("count-inner"))},Z(f(nt))+" / "+Z(m.maxlength),3)],2)):x("v-if",!0),f(ae)&&f(ge)&&f(me)?(k(),M(f(ce),{key:4,class:N([f(d).e("icon"),f(d).e("validateIcon"),f(d).is("loading",f(ae)==="validating")])},{default:P(()=>[(k(),M(ne(f(ge))))]),_:1},8,["class"])):x("v-if",!0)],2)],2)):x("v-if",!0)],2),x(" append slot "),m.$slots.append?(k(),T("div",{key:1,class:N(f(d).be("group","append"))},[Q(m.$slots,"append")],2)):x("v-if",!0)],64)):(k(),T(Ne,{key:1},[x(" textarea "),V("textarea",at({id:f(p),ref_key:"textarea",ref:y,class:f(E).e("inner")},f(c),{minlength:m.minlength,maxlength:m.maxlength,tabindex:m.tabindex,disabled:f(i),readonly:m.readonly,autocomplete:m.autocomplete,style:f(D),"aria-label":m.label,placeholder:m.placeholder,form:m.form,autofocus:m.autofocus,onCompositionstart:kt,onCompositionupdate:Nt,onCompositionend:Et,onInput:ot,onFocus:I[2]||(I[2]=(...q)=>f(K)&&f(K)(...q)),onBlur:I[3]||(I[3]=(...q)=>f(W)&&f(W)(...q)),onChange:Ct,onKeydown:St}),null,16,So),f(ye)?(k(),T("span",{key:0,style:Te(ee.value),class:N(f(d).e("count"))},Z(f(nt))+" / "+Z(m.maxlength),7)):x("v-if",!0)],64))],16,Eo))}});var xo=ue(Bo,[["__file","input.vue"]]);const Io=qt(xo),ft="_trap-focus-children",fe=[],Pt=e=>{if(fe.length===0)return;const t=fe[fe.length-1][ft];if(t.length>0&&e.code===re.tab){if(t.length===1){e.preventDefault(),document.activeElement!==t[0]&&t[0].focus();return}const o=e.shiftKey,n=e.target===t[0],a=e.target===t[t.length-1];n&&o&&(e.preventDefault(),t[t.length-1].focus()),a&&!o&&(e.preventDefault(),t[0].focus())}},Ko={beforeMount(e){e[ft]=Mt(e),fe.push(e),fe.length<=1&&document.addEventListener("keydown",Pt)},updated(e){G(()=>{e[ft]=Mt(e)})},unmounted(){fe.shift(),fe.length===0&&document.removeEventListener("keydown",Pt)}},_t={modelValue:{type:[Number,String,Boolean],default:void 0},label:{type:[String,Boolean,Number,Object],default:void 0},value:{type:[String,Boolean,Number,Object],default:void 0},indeterminate:Boolean,disabled:Boolean,checked:Boolean,name:{type:String,default:void 0},trueValue:{type:[String,Number],default:void 0},falseValue:{type:[String,Number],default:void 0},trueLabel:{type:[String,Number],default:void 0},falseLabel:{type:[String,Number],default:void 0},id:{type:String,default:void 0},controls:{type:String,default:void 0},border:Boolean,size:mt,tabindex:[String,Number],validateEvent:{type:Boolean,default:!0}},en={[ve]:e=>de(e)||Ge(e)||dt(e),change:e=>de(e)||Ge(e)||dt(e)},Be=Symbol("checkboxGroupContextKey"),Mo=({model:e,isChecked:t})=>{const o=oe(Be,void 0),n=S(()=>{var s,l;const r=(s=o==null?void 0:o.max)==null?void 0:s.value,v=(l=o==null?void 0:o.min)==null?void 0:l.value;return!Xe(r)&&e.value.length>=r&&!t.value||!Xe(v)&&e.value.length<=v&&t.value});return{isDisabled:jt(S(()=>(o==null?void 0:o.disabled.value)||n.value)),isLimitDisabled:n}},$o=(e,{model:t,isLimitExceeded:o,hasOwnLabel:n,isDisabled:a,isLabeledByFormItem:s})=>{const l=oe(Be,void 0),{formItem:r}=et(),{emit:v}=De();function c(i){var d,E,C,y;return[!0,e.trueValue,e.trueLabel].includes(i)?(E=(d=e.trueValue)!=null?d:e.trueLabel)!=null?E:!0:(y=(C=e.falseValue)!=null?C:e.falseLabel)!=null?y:!1}function h(i,d){v("change",c(i),d)}function u(i){if(o.value)return;const d=i.target;v("change",c(d.checked),i)}async function p(i){o.value||!n.value&&!a.value&&s.value&&(i.composedPath().some(C=>C.tagName==="LABEL")||(t.value=c([!1,e.falseValue,e.falseLabel].includes(t.value)),await G(),h(t.value,i)))}const g=S(()=>(l==null?void 0:l.validateEvent)||e.validateEvent);return F(()=>e.modelValue,()=>{g.value&&(r==null||r.validate("change").catch(i=>Ye()))}),{handleChange:u,onClickRoot:p}},To=e=>{const t=L(!1),{emit:o}=De(),n=oe(Be,void 0),a=S(()=>Xe(n)===!1),s=L(!1),l=S({get(){var r,v;return a.value?(r=n==null?void 0:n.modelValue)==null?void 0:r.value:(v=e.modelValue)!=null?v:t.value},set(r){var v,c;a.value&&Ae(r)?(s.value=((v=n==null?void 0:n.max)==null?void 0:v.value)!==void 0&&r.length>(n==null?void 0:n.max.value)&&r.length>l.value.length,s.value===!1&&((c=n==null?void 0:n.changeEvent)==null||c.call(n,r))):(o(ve,r),t.value=r)}});return{model:l,isGroup:a,isLimitExceeded:s}},Lo=(e,t,{model:o})=>{const n=oe(Be,void 0),a=L(!1),s=S(()=>Ze(e.value)?e.label:e.value),l=S(()=>{const h=o.value;return dt(h)?h:Ae(h)?Le(s.value)?h.map($t).some(u=>Hn(u,s.value)):h.map($t).includes(s.value):h!=null?h===e.trueValue||h===e.trueLabel:!!h}),r=it(S(()=>{var h;return(h=n==null?void 0:n.size)==null?void 0:h.value}),{prop:!0}),v=it(S(()=>{var h;return(h=n==null?void 0:n.size)==null?void 0:h.value})),c=S(()=>!!t.default||!Ze(s.value));return{checkboxButtonSize:r,isChecked:l,isFocused:a,checkboxSize:v,hasOwnLabel:c,actualValue:s}},tn=(e,t)=>{const{formItem:o}=et(),{model:n,isGroup:a,isLimitExceeded:s}=To(e),{isFocused:l,isChecked:r,checkboxButtonSize:v,checkboxSize:c,hasOwnLabel:h,actualValue:u}=Lo(e,t,{model:n}),{isDisabled:p}=Mo({model:n,isChecked:r}),{inputId:g,isLabeledByFormItem:i}=yt(e,{formItemContext:o,disableIdGeneration:h,disableIdManagement:a}),{handleChange:d,onClickRoot:E}=$o(e,{model:n,isLimitExceeded:s,hasOwnLabel:h,isDisabled:p,isLabeledByFormItem:i});return(()=>{function y(){var A,z;Ae(n.value)&&!n.value.includes(u.value)?n.value.push(u.value):n.value=(z=(A=e.trueValue)!=null?A:e.trueLabel)!=null?z:!0}e.checked&&y()})(),st({from:"label act as value",replacement:"value",version:"3.0.0",scope:"el-checkbox",ref:"https://element-plus.org/en-US/component/checkbox.html"},S(()=>a.value&&Ze(e.value))),st({from:"true-label",replacement:"true-value",version:"3.0.0",scope:"el-checkbox",ref:"https://element-plus.org/en-US/component/checkbox.html"},S(()=>!!e.trueLabel)),st({from:"false-label",replacement:"false-value",version:"3.0.0",scope:"el-checkbox",ref:"https://element-plus.org/en-US/component/checkbox.html"},S(()=>!!e.falseLabel)),{inputId:g,isLabeledByFormItem:i,isChecked:r,isDisabled:p,isFocused:l,checkboxButtonSize:v,checkboxSize:c,hasOwnLabel:h,model:n,actualValue:u,handleChange:d,onClickRoot:E}},Ao=["id","indeterminate","name","tabindex","disabled","true-value","false-value"],zo=["id","indeterminate","disabled","value","name","tabindex"],Oo=Y({name:"ElCheckbox"}),Vo=Y({...Oo,props:_t,emits:en,setup(e){const t=e,o=gt(),{inputId:n,isLabeledByFormItem:a,isChecked:s,isDisabled:l,isFocused:r,checkboxSize:v,hasOwnLabel:c,model:h,actualValue:u,handleChange:p,onClickRoot:g}=tn(t,o),i=_("checkbox"),d=S(()=>[i.b(),i.m(v.value),i.is("disabled",l.value),i.is("bordered",t.border),i.is("checked",s.value)]),E=S(()=>[i.e("input"),i.is("disabled",l.value),i.is("checked",s.value),i.is("indeterminate",t.indeterminate),i.is("focus",r.value)]);return(C,y)=>(k(),M(ne(!f(c)&&f(a)?"span":"label"),{class:N(f(d)),"aria-controls":C.indeterminate?C.controls:null,onClick:f(g)},{default:P(()=>{var A,z;return[V("span",{class:N(f(E))},[C.trueValue||C.falseValue||C.trueLabel||C.falseLabel?le((k(),T("input",{key:0,id:f(n),"onUpdate:modelValue":y[0]||(y[0]=B=>$e(h)?h.value=B:null),class:N(f(i).e("original")),type:"checkbox",indeterminate:C.indeterminate,name:C.name,tabindex:C.tabindex,disabled:f(l),"true-value":(A=C.trueValue)!=null?A:C.trueLabel,"false-value":(z=C.falseValue)!=null?z:C.falseLabel,onChange:y[1]||(y[1]=(...B)=>f(p)&&f(p)(...B)),onFocus:y[2]||(y[2]=B=>r.value=!0),onBlur:y[3]||(y[3]=B=>r.value=!1),onClick:y[4]||(y[4]=H(()=>{},["stop"]))},null,42,Ao)),[[Je,f(h)]]):le((k(),T("input",{key:1,id:f(n),"onUpdate:modelValue":y[5]||(y[5]=B=>$e(h)?h.value=B:null),class:N(f(i).e("original")),type:"checkbox",indeterminate:C.indeterminate,disabled:f(l),value:f(u),name:C.name,tabindex:C.tabindex,onChange:y[6]||(y[6]=(...B)=>f(p)&&f(p)(...B)),onFocus:y[7]||(y[7]=B=>r.value=!0),onBlur:y[8]||(y[8]=B=>r.value=!1),onClick:y[9]||(y[9]=H(()=>{},["stop"]))},null,42,zo)),[[Je,f(h)]]),V("span",{class:N(f(i).e("inner"))},null,2)],2),f(c)?(k(),T("span",{key:0,class:N(f(i).e("label"))},[Q(C.$slots,"default"),C.$slots.default?x("v-if",!0):(k(),T(Ne,{key:0},[he(Z(C.label),1)],64))],2)):x("v-if",!0)]}),_:3},8,["class","aria-controls","onClick"]))}});var Po=ue(Vo,[["__file","checkbox.vue"]]);const Fo=["name","tabindex","disabled","true-value","false-value"],Ro=["name","tabindex","disabled","value"],Ho=Y({name:"ElCheckboxButton"}),Uo=Y({...Ho,props:_t,emits:en,setup(e){const t=e,o=gt(),{isFocused:n,isChecked:a,isDisabled:s,checkboxButtonSize:l,model:r,actualValue:v,handleChange:c}=tn(t,o),h=oe(Be,void 0),u=_("checkbox"),p=S(()=>{var i,d,E,C;const y=(d=(i=h==null?void 0:h.fill)==null?void 0:i.value)!=null?d:"";return{backgroundColor:y,borderColor:y,color:(C=(E=h==null?void 0:h.textColor)==null?void 0:E.value)!=null?C:"",boxShadow:y?`-1px 0 0 0 ${y}`:void 0}}),g=S(()=>[u.b("button"),u.bm("button",l.value),u.is("disabled",s.value),u.is("checked",a.value),u.is("focus",n.value)]);return(i,d)=>{var E,C;return k(),T("label",{class:N(f(g))},[i.trueValue||i.falseValue||i.trueLabel||i.falseLabel?le((k(),T("input",{key:0,"onUpdate:modelValue":d[0]||(d[0]=y=>$e(r)?r.value=y:null),class:N(f(u).be("button","original")),type:"checkbox",name:i.name,tabindex:i.tabindex,disabled:f(s),"true-value":(E=i.trueValue)!=null?E:i.trueLabel,"false-value":(C=i.falseValue)!=null?C:i.falseLabel,onChange:d[1]||(d[1]=(...y)=>f(c)&&f(c)(...y)),onFocus:d[2]||(d[2]=y=>n.value=!0),onBlur:d[3]||(d[3]=y=>n.value=!1),onClick:d[4]||(d[4]=H(()=>{},["stop"]))},null,42,Fo)),[[Je,f(r)]]):le((k(),T("input",{key:1,"onUpdate:modelValue":d[5]||(d[5]=y=>$e(r)?r.value=y:null),class:N(f(u).be("button","original")),type:"checkbox",name:i.name,tabindex:i.tabindex,disabled:f(s),value:f(v),onChange:d[6]||(d[6]=(...y)=>f(c)&&f(c)(...y)),onFocus:d[7]||(d[7]=y=>n.value=!0),onBlur:d[8]||(d[8]=y=>n.value=!1),onClick:d[9]||(d[9]=H(()=>{},["stop"]))},null,42,Ro)),[[Je,f(r)]]),i.$slots.default||i.label?(k(),T("span",{key:2,class:N(f(u).be("button","inner")),style:Te(f(a)?f(p):void 0)},[Q(i.$slots,"default",{},()=>[he(Z(i.label),1)])],6)):x("v-if",!0)],2)}}});var nn=ue(Uo,[["__file","checkbox-button.vue"]]);const jo=vt({modelValue:{type:ke(Array),default:()=>[]},disabled:Boolean,min:Number,max:Number,size:mt,label:String,fill:String,textColor:String,tag:{type:String,default:"div"},validateEvent:{type:Boolean,default:!0}}),qo={[ve]:e=>Ae(e),change:e=>Ae(e)},Wo=Y({name:"ElCheckboxGroup"}),Go=Y({...Wo,props:jo,emits:qo,setup(e,{emit:t}){const o=e,n=_("checkbox"),{formItem:a}=et(),{inputId:s,isLabeledByFormItem:l}=yt(o,{formItemContext:a}),r=async c=>{t(ve,c),await G(),t("change",c)},v=S({get(){return o.modelValue},set(c){r(c)}});return Se(Be,{...ro(Wt(o),["size","min","max","disabled","validateEvent","fill","textColor"]),modelValue:v,changeEvent:r}),F(()=>o.modelValue,()=>{o.validateEvent&&(a==null||a.validate("change").catch(c=>Ye()))}),(c,h)=>{var u;return k(),M(ne(c.tag),{id:f(s),class:N(f(n).b("group")),role:"group","aria-label":f(l)?void 0:c.label||"checkbox-group","aria-labelledby":f(l)?(u=f(a))==null?void 0:u.labelId:void 0},{default:P(()=>[Q(c.$slots,"default")]),_:3},8,["id","class","aria-label","aria-labelledby"])}}});var on=ue(Go,[["__file","checkbox-group.vue"]]);const an=qt(Po,{CheckboxButton:nn,CheckboxGroup:on});Gt(nn);Gt(on);const Yo=vt({mask:{type:Boolean,default:!0},customMaskEvent:{type:Boolean,default:!1},overlayClass:{type:ke([String,Array,Object])},zIndex:{type:ke([String,Number])}}),Xo={click:e=>e instanceof MouseEvent},Zo="overlay";var Jo=Y({name:"ElOverlay",props:Yo,emits:Xo,setup(e,{slots:t,emit:o}){const n=_(Zo),a=v=>{o("click",v)},{onClick:s,onMousedown:l,onMouseup:r}=Qt(e.customMaskEvent?void 0:a);return()=>e.mask?J("div",{class:[n.b(),e.overlayClass],style:{zIndex:e.zIndex},onClick:s,onMousedown:l,onMouseup:r},[Q(t,"default")],lt.STYLE|lt.CLASS|lt.PROPS,["onClick","onMouseup","onMousedown"]):ut("div",{class:e.overlayClass,style:{zIndex:e.zIndex,position:"fixed",top:"0px",right:"0px",bottom:"0px",left:"0px"}},[Q(t,"default")])}});const Qo=Jo,we="$treeNodeId",Ft=function(e,t){!t||t[we]||Object.defineProperty(t,we,{value:e.id,enumerable:!1,configurable:!1,writable:!1})},bt=function(e,t){return e?t[e]:t[we]},ht=(e,t,o)=>{const n=e.value.currentNode;o();const a=e.value.currentNode;n!==a&&t("current-change",a?a.data:null,a)},pt=e=>{let t=!0,o=!0,n=!0;for(let a=0,s=e.length;a<s;a++){const l=e[a];(l.checked!==!0||l.indeterminate)&&(t=!1,l.disabled||(n=!1)),(l.checked!==!1||l.indeterminate)&&(o=!1)}return{all:t,none:o,allWithoutDisable:n,half:!t&&!o}},Me=function(e){if(e.childNodes.length===0||e.loading)return;const{all:t,none:o,half:n}=pt(e.childNodes);t?(e.checked=!0,e.indeterminate=!1):n?(e.checked=!1,e.indeterminate=!0):o&&(e.checked=!1,e.indeterminate=!1);const a=e.parent;!a||a.level===0||e.store.checkStrictly||Me(a)},He=function(e,t){const o=e.store.props,n=e.data||{},a=o[t];if(typeof a=="function")return a(n,e);if(typeof a=="string")return n[a];if(typeof a>"u"){const s=n[t];return s===void 0?"":s}};let _o=0;class pe{constructor(t){this.id=_o++,this.text=null,this.checked=!1,this.indeterminate=!1,this.data=null,this.expanded=!1,this.parent=null,this.visible=!0,this.isCurrent=!1,this.canFocus=!1;for(const o in t)ze(t,o)&&(this[o]=t[o]);this.level=0,this.loaded=!1,this.childNodes=[],this.loading=!1,this.parent&&(this.level=this.parent.level+1)}initialize(){const t=this.store;if(!t)throw new Error("[Node]store is required!");t.registerNode(this);const o=t.props;if(o&&typeof o.isLeaf<"u"){const s=He(this,"isLeaf");typeof s=="boolean"&&(this.isLeafByUser=s)}if(t.lazy!==!0&&this.data?(this.setData(this.data),t.defaultExpandAll&&(this.expanded=!0,this.canFocus=!0)):this.level>0&&t.lazy&&t.defaultExpandAll&&this.expand(),Array.isArray(this.data)||Ft(this,this.data),!this.data)return;const n=t.defaultExpandedKeys,a=t.key;a&&n&&n.includes(this.key)&&this.expand(null,t.autoExpandParent),a&&t.currentNodeKey!==void 0&&this.key===t.currentNodeKey&&(t.currentNode=this,t.currentNode.isCurrent=!0),t.lazy&&t._initDefaultCheckedNode(this),this.updateLeafState(),this.parent&&(this.level===1||this.parent.expanded===!0)&&(this.canFocus=!0)}setData(t){Array.isArray(t)||Ft(this,t),this.data=t,this.childNodes=[];let o;this.level===0&&Array.isArray(this.data)?o=this.data:o=He(this,"children")||[];for(let n=0,a=o.length;n<a;n++)this.insertChild({data:o[n]})}get label(){return He(this,"label")}get key(){const t=this.store.key;return this.data?this.data[t]:null}get disabled(){return He(this,"disabled")}get nextSibling(){const t=this.parent;if(t){const o=t.childNodes.indexOf(this);if(o>-1)return t.childNodes[o+1]}return null}get previousSibling(){const t=this.parent;if(t){const o=t.childNodes.indexOf(this);if(o>-1)return o>0?t.childNodes[o-1]:null}return null}contains(t,o=!0){return(this.childNodes||[]).some(n=>n===t||o&&n.contains(t))}remove(){const t=this.parent;t&&t.removeChild(this)}insertChild(t,o,n){if(!t)throw new Error("InsertChild error: child is required.");if(!(t instanceof pe)){if(!n){const a=this.getChildren(!0);a.includes(t.data)||(typeof o>"u"||o<0?a.push(t.data):a.splice(o,0,t.data))}Object.assign(t,{parent:this,store:this.store}),t=Qe(new pe(t)),t instanceof pe&&t.initialize()}t.level=this.level+1,typeof o>"u"||o<0?this.childNodes.push(t):this.childNodes.splice(o,0,t),this.updateLeafState()}insertBefore(t,o){let n;o&&(n=this.childNodes.indexOf(o)),this.insertChild(t,n)}insertAfter(t,o){let n;o&&(n=this.childNodes.indexOf(o),n!==-1&&(n+=1)),this.insertChild(t,n)}removeChild(t){const o=this.getChildren()||[],n=o.indexOf(t.data);n>-1&&o.splice(n,1);const a=this.childNodes.indexOf(t);a>-1&&(this.store&&this.store.deregisterNode(t),t.parent=null,this.childNodes.splice(a,1)),this.updateLeafState()}removeChildByData(t){let o=null;for(let n=0;n<this.childNodes.length;n++)if(this.childNodes[n].data===t){o=this.childNodes[n];break}o&&this.removeChild(o)}expand(t,o){const n=()=>{if(o){let a=this.parent;for(;a.level>0;)a.expanded=!0,a=a.parent}this.expanded=!0,t&&t(),this.childNodes.forEach(a=>{a.canFocus=!0})};this.shouldLoadData()?this.loadData(a=>{Array.isArray(a)&&(this.checked?this.setChecked(!0,!0):this.store.checkStrictly||Me(this),n())}):n()}doCreateChildren(t,o={}){t.forEach(n=>{this.insertChild(Object.assign({data:n},o),void 0,!0)})}collapse(){this.expanded=!1,this.childNodes.forEach(t=>{t.canFocus=!1})}shouldLoadData(){return this.store.lazy===!0&&this.store.load&&!this.loaded}updateLeafState(){if(this.store.lazy===!0&&this.loaded!==!0&&typeof this.isLeafByUser<"u"){this.isLeaf=this.isLeafByUser;return}const t=this.childNodes;if(!this.store.lazy||this.store.lazy===!0&&this.loaded===!0){this.isLeaf=!t||t.length===0;return}this.isLeaf=!1}setChecked(t,o,n,a){if(this.indeterminate=t==="half",this.checked=t===!0,this.store.checkStrictly)return;if(!(this.shouldLoadData()&&!this.store.checkDescendants)){const{all:l,allWithoutDisable:r}=pt(this.childNodes);!this.isLeaf&&!l&&r&&(this.checked=!1,t=!1);const v=()=>{if(o){const c=this.childNodes;for(let p=0,g=c.length;p<g;p++){const i=c[p];a=a||t!==!1;const d=i.disabled?i.checked:a;i.setChecked(d,o,!0,a)}const{half:h,all:u}=pt(c);u||(this.checked=u,this.indeterminate=h)}};if(this.shouldLoadData()){this.loadData(()=>{v(),Me(this)},{checked:t!==!1});return}else v()}const s=this.parent;!s||s.level===0||n||Me(s)}getChildren(t=!1){if(this.level===0)return this.data;const o=this.data;if(!o)return null;const n=this.store.props;let a="children";return n&&(a=n.children||"children"),o[a]===void 0&&(o[a]=null),t&&!o[a]&&(o[a]=[]),o[a]}updateChildren(){const t=this.getChildren()||[],o=this.childNodes.map(s=>s.data),n={},a=[];t.forEach((s,l)=>{const r=s[we];!!r&&o.findIndex(c=>c[we]===r)>=0?n[r]={index:l,data:s}:a.push({index:l,data:s})}),this.store.lazy||o.forEach(s=>{n[s[we]]||this.removeChildByData(s)}),a.forEach(({index:s,data:l})=>{this.insertChild({data:l},s)}),this.updateLeafState()}loadData(t,o={}){if(this.store.lazy===!0&&this.store.load&&!this.loaded&&(!this.loading||Object.keys(o).length)){this.loading=!0;const n=s=>{this.childNodes=[],this.doCreateChildren(s,o),this.loaded=!0,this.loading=!1,this.updateLeafState(),t&&t.call(this,s)},a=()=>{this.loading=!1};this.store.load(this,n,a)}else t&&t.call(this)}eachNode(t){const o=[this];for(;o.length;){const n=o.shift();o.unshift(...n.childNodes),t(n)}}reInitChecked(){this.store.checkStrictly||Me(this)}}class ea{constructor(t){this.currentNode=null,this.currentNodeKey=null;for(const o in t)ze(t,o)&&(this[o]=t[o]);this.nodesMap={}}initialize(){if(this.root=new pe({data:this.data,store:this}),this.root.initialize(),this.lazy&&this.load){const t=this.load;t(this.root,o=>{this.root.doCreateChildren(o),this._initDefaultCheckedNodes()})}else this._initDefaultCheckedNodes()}filter(t){const o=this.filterNodeMethod,n=this.lazy,a=function(s){const l=s.root?s.root.childNodes:s.childNodes;if(l.forEach(r=>{r.visible=o.call(r,t,r.data,r),a(r)}),!s.visible&&l.length){let r=!0;r=!l.some(v=>v.visible),s.root?s.root.visible=r===!1:s.visible=r===!1}t&&s.visible&&!s.isLeaf&&(!n||s.loaded)&&s.expand()};a(this)}setData(t){t!==this.root.data?(this.root.setData(t),this._initDefaultCheckedNodes()):this.root.updateChildren()}getNode(t){if(t instanceof pe)return t;const o=Le(t)?bt(this.key,t):t;return this.nodesMap[o]||null}insertBefore(t,o){const n=this.getNode(o);n.parent.insertBefore({data:t},n)}insertAfter(t,o){const n=this.getNode(o);n.parent.insertAfter({data:t},n)}remove(t){const o=this.getNode(t);o&&o.parent&&(o===this.currentNode&&(this.currentNode=null),o.parent.removeChild(o))}append(t,o){const n=Ze(o)?this.root:this.getNode(o);n&&n.insertChild({data:t})}_initDefaultCheckedNodes(){const t=this.defaultCheckedKeys||[],o=this.nodesMap;t.forEach(n=>{const a=o[n];a&&a.setChecked(!0,!this.checkStrictly)})}_initDefaultCheckedNode(t){(this.defaultCheckedKeys||[]).includes(t.key)&&t.setChecked(!0,!this.checkStrictly)}setDefaultCheckedKey(t){t!==this.defaultCheckedKeys&&(this.defaultCheckedKeys=t,this._initDefaultCheckedNodes())}registerNode(t){const o=this.key;!t||!t.data||(o?t.key!==void 0&&(this.nodesMap[t.key]=t):this.nodesMap[t.id]=t)}deregisterNode(t){!this.key||!t||!t.data||(t.childNodes.forEach(n=>{this.deregisterNode(n)}),delete this.nodesMap[t.key])}getCheckedNodes(t=!1,o=!1){const n=[],a=function(s){(s.root?s.root.childNodes:s.childNodes).forEach(r=>{(r.checked||o&&r.indeterminate)&&(!t||t&&r.isLeaf)&&n.push(r.data),a(r)})};return a(this),n}getCheckedKeys(t=!1){return this.getCheckedNodes(t).map(o=>(o||{})[this.key])}getHalfCheckedNodes(){const t=[],o=function(n){(n.root?n.root.childNodes:n.childNodes).forEach(s=>{s.indeterminate&&t.push(s.data),o(s)})};return o(this),t}getHalfCheckedKeys(){return this.getHalfCheckedNodes().map(t=>(t||{})[this.key])}_getAllNodes(){const t=[],o=this.nodesMap;for(const n in o)ze(o,n)&&t.push(o[n]);return t}updateChildren(t,o){const n=this.nodesMap[t];if(!n)return;const a=n.childNodes;for(let s=a.length-1;s>=0;s--){const l=a[s];this.remove(l.data)}for(let s=0,l=o.length;s<l;s++){const r=o[s];this.append(r,n.data)}}_setCheckedKeys(t,o=!1,n){const a=this._getAllNodes().sort((v,c)=>v.level-c.level),s=Object.create(null),l=Object.keys(n);a.forEach(v=>v.setChecked(!1,!1));const r=v=>{v.childNodes.forEach(c=>{var h;s[c.data[t]]=!0,(h=c.childNodes)!=null&&h.length&&r(c)})};for(let v=0,c=a.length;v<c;v++){const h=a[v],u=h.data[t].toString();if(!l.includes(u)){h.checked&&!s[u]&&h.setChecked(!1,!1);continue}if(h.childNodes.length&&r(h),h.isLeaf||this.checkStrictly){h.setChecked(!0,!1);continue}if(h.setChecked(!0,!0),o){h.setChecked(!1,!1);const g=function(i){i.childNodes.forEach(E=>{E.isLeaf||E.setChecked(!1,!1),g(E)})};g(h)}}}setCheckedNodes(t,o=!1){const n=this.key,a={};t.forEach(s=>{a[(s||{})[n]]=!0}),this._setCheckedKeys(n,o,a)}setCheckedKeys(t,o=!1){this.defaultCheckedKeys=t;const n=this.key,a={};t.forEach(s=>{a[s]=!0}),this._setCheckedKeys(n,o,a)}setDefaultExpandedKeys(t){t=t||[],this.defaultExpandedKeys=t,t.forEach(o=>{const n=this.getNode(o);n&&n.expand(null,this.autoExpandParent)})}setChecked(t,o,n){const a=this.getNode(t);a&&a.setChecked(!!o,n)}getCurrentNode(){return this.currentNode}setCurrentNode(t){const o=this.currentNode;o&&(o.isCurrent=!1),this.currentNode=t,this.currentNode.isCurrent=!0}setUserCurrentNode(t,o=!0){const n=t[this.key],a=this.nodesMap[n];this.setCurrentNode(a),o&&this.currentNode.level>1&&this.currentNode.parent.expand(null,!0)}setCurrentNodeKey(t,o=!0){if(t==null){this.currentNode&&(this.currentNode.isCurrent=!1),this.currentNode=null;return}const n=this.getNode(t);n&&(this.setCurrentNode(n),o&&this.currentNode.level>1&&this.currentNode.parent.expand(null,!0))}}const ta=Y({name:"ElTreeNodeContent",props:{node:{type:Object,required:!0},renderContent:Function},setup(e){const t=_("tree"),o=oe("NodeInstance"),n=oe("RootTree");return()=>{const a=e.node,{data:s,store:l}=a;return e.renderContent?e.renderContent(ut,{_self:o,node:a,data:s,store:l}):Q(n.ctx.slots,"default",{node:a,data:s},()=>[ut("span",{class:t.be("node","label")},[a.label])])}}});var na=ue(ta,[["__file","tree-node-content.vue"]]);function sn(e){const t=oe("TreeNodeMap",null),o={treeNodeExpand:n=>{e.node!==n&&e.node.collapse()},children:[]};return t&&t.children.push(o),Se("TreeNodeMap",o),{broadcastExpanded:n=>{if(e.accordion)for(const a of o.children)a.treeNodeExpand(n)}}}const ln=Symbol("dragEvents");function oa({props:e,ctx:t,el$:o,dropIndicator$:n,store:a}){const s=_("tree"),l=L({showDropIndicator:!1,draggingNode:null,dropNode:null,allowDrop:!0,dropType:null});return Se(ln,{treeNodeDragStart:({event:h,treeNode:u})=>{if(typeof e.allowDrag=="function"&&!e.allowDrag(u.node))return h.preventDefault(),!1;h.dataTransfer.effectAllowed="move";try{h.dataTransfer.setData("text/plain","")}catch{}l.value.draggingNode=u,t.emit("node-drag-start",u.node,h)},treeNodeDragOver:({event:h,treeNode:u})=>{const p=u,g=l.value.dropNode;g&&g.node.id!==p.node.id&&Ue(g.$el,s.is("drop-inner"));const i=l.value.draggingNode;if(!i||!p)return;let d=!0,E=!0,C=!0,y=!0;typeof e.allowDrop=="function"&&(d=e.allowDrop(i.node,p.node,"prev"),y=E=e.allowDrop(i.node,p.node,"inner"),C=e.allowDrop(i.node,p.node,"next")),h.dataTransfer.dropEffect=E||d||C?"move":"none",(d||E||C)&&(g==null?void 0:g.node.id)!==p.node.id&&(g&&t.emit("node-drag-leave",i.node,g.node,h),t.emit("node-drag-enter",i.node,p.node,h)),d||E||C?l.value.dropNode=p:l.value.dropNode=null,p.node.nextSibling===i.node&&(C=!1),p.node.previousSibling===i.node&&(d=!1),p.node.contains(i.node,!1)&&(E=!1),(i.node===p.node||i.node.contains(p.node))&&(d=!1,E=!1,C=!1);const A=p.$el.querySelector(`.${s.be("node","content")}`).getBoundingClientRect(),z=o.value.getBoundingClientRect();let B;const ee=d?E?.25:C?.45:1:-1,j=C?E?.75:d?.55:0:1;let R=-9999;const w=h.clientY-A.top;w<A.height*ee?B="before":w>A.height*j?B="after":E?B="inner":B="none";const $=p.$el.querySelector(`.${s.be("node","expand-icon")}`).getBoundingClientRect(),K=n.value;B==="before"?R=$.top-z.top:B==="after"&&(R=$.bottom-z.top),K.style.top=`${R}px`,K.style.left=`${$.right-z.left}px`,B==="inner"?Ht(p.$el,s.is("drop-inner")):Ue(p.$el,s.is("drop-inner")),l.value.showDropIndicator=B==="before"||B==="after",l.value.allowDrop=l.value.showDropIndicator||y,l.value.dropType=B,t.emit("node-drag-over",i.node,p.node,h)},treeNodeDragEnd:h=>{const{draggingNode:u,dropType:p,dropNode:g}=l.value;if(h.preventDefault(),h.dataTransfer.dropEffect="move",u&&g){const i={data:u.node.data};p!=="none"&&u.node.remove(),p==="before"?g.node.parent.insertBefore(i,g.node):p==="after"?g.node.parent.insertAfter(i,g.node):p==="inner"&&g.node.insertChild(i),p!=="none"&&(a.value.registerNode(i),a.value.key&&u.node.eachNode(d=>{var E;(E=a.value.nodesMap[d.data[a.value.key]])==null||E.setChecked(d.checked,!a.value.checkStrictly)})),Ue(g.$el,s.is("drop-inner")),t.emit("node-drag-end",u.node,g.node,p,h),p!=="none"&&t.emit("node-drop",u.node,g.node,p,h)}u&&!g&&t.emit("node-drag-end",u.node,null,p,h),l.value.showDropIndicator=!1,l.value.draggingNode=null,l.value.dropNode=null,l.value.allowDrop=!0}}),{dragState:l}}const aa=Y({name:"ElTreeNode",components:{ElCollapseTransition:Un,ElCheckbox:an,NodeContent:na,ElIcon:ce,Loading:jn},props:{node:{type:pe,default:()=>({})},props:{type:Object,default:()=>({})},accordion:Boolean,renderContent:Function,renderAfterExpand:Boolean,showCheckbox:{type:Boolean,default:!1}},emits:["node-expand"],setup(e,t){const o=_("tree"),{broadcastExpanded:n}=sn(e),a=oe("RootTree"),s=L(!1),l=L(!1),r=L(null),v=L(null),c=L(null),h=oe(ln),u=De();Se("NodeInstance",u),e.node.expanded&&(s.value=!0,l.value=!0);const p=a.props.props.children||"children";F(()=>{const w=e.node.data[p];return w&&[...w]},()=>{e.node.updateChildren()}),F(()=>e.node.indeterminate,w=>{d(e.node.checked,w)}),F(()=>e.node.checked,w=>{d(w,e.node.indeterminate)}),F(()=>e.node.childNodes.length,()=>e.node.reInitChecked()),F(()=>e.node.expanded,w=>{G(()=>s.value=w),w&&(l.value=!0)});const g=w=>bt(a.props.nodeKey,w.data),i=w=>{const $=e.props.class;if(!$)return{};let K;if(We($)){const{data:W}=w;K=$(W,w)}else K=$;return de(K)?{[K]:!0}:K},d=(w,$)=>{(r.value!==w||v.value!==$)&&a.ctx.emit("check-change",e.node.data,w,$),r.value=w,v.value=$},E=w=>{ht(a.store,a.ctx.emit,()=>a.store.value.setCurrentNode(e.node)),a.currentNode.value=e.node,a.props.expandOnClickNode&&y(),a.props.checkOnClickNode&&!e.node.disabled&&A(null,{target:{checked:!e.node.checked}}),a.ctx.emit("node-click",e.node.data,e.node,u,w)},C=w=>{a.instance.vnode.props.onNodeContextmenu&&(w.stopPropagation(),w.preventDefault()),a.ctx.emit("node-contextmenu",w,e.node.data,e.node,u)},y=()=>{e.node.isLeaf||(s.value?(a.ctx.emit("node-collapse",e.node.data,e.node,u),e.node.collapse()):(e.node.expand(),t.emit("node-expand",e.node.data,e.node,u)))},A=(w,$)=>{e.node.setChecked($.target.checked,!a.props.checkStrictly),G(()=>{const K=a.store.value;a.ctx.emit("check",e.node.data,{checkedNodes:K.getCheckedNodes(),checkedKeys:K.getCheckedKeys(),halfCheckedNodes:K.getHalfCheckedNodes(),halfCheckedKeys:K.getHalfCheckedKeys()})})};return{ns:o,node$:c,tree:a,expanded:s,childNodeRendered:l,oldChecked:r,oldIndeterminate:v,getNodeKey:g,getNodeClass:i,handleSelectChange:d,handleClick:E,handleContextMenu:C,handleExpandIconClick:y,handleCheckChange:A,handleChildNodeExpand:(w,$,K)=>{n($),a.ctx.emit("node-expand",w,$,K)},handleDragStart:w=>{a.props.draggable&&h.treeNodeDragStart({event:w,treeNode:e})},handleDragOver:w=>{w.preventDefault(),a.props.draggable&&h.treeNodeDragOver({event:w,treeNode:{$el:c.value,node:e.node}})},handleDrop:w=>{w.preventDefault()},handleDragEnd:w=>{a.props.draggable&&h.treeNodeDragEnd(w)},CaretRight:qn}}}),sa=["aria-expanded","aria-disabled","aria-checked","draggable","data-key"],la=["aria-expanded"];function ra(e,t,o,n,a,s){const l=X("el-icon"),r=X("el-checkbox"),v=X("loading"),c=X("node-content"),h=X("el-tree-node"),u=X("el-collapse-transition");return le((k(),T("div",{ref:"node$",class:N([e.ns.b("node"),e.ns.is("expanded",e.expanded),e.ns.is("current",e.node.isCurrent),e.ns.is("hidden",!e.node.visible),e.ns.is("focusable",!e.node.disabled),e.ns.is("checked",!e.node.disabled&&e.node.checked),e.getNodeClass(e.node)]),role:"treeitem",tabindex:"-1","aria-expanded":e.expanded,"aria-disabled":e.node.disabled,"aria-checked":e.node.checked,draggable:e.tree.props.draggable,"data-key":e.getNodeKey(e.node),onClick:t[1]||(t[1]=H((...p)=>e.handleClick&&e.handleClick(...p),["stop"])),onContextmenu:t[2]||(t[2]=(...p)=>e.handleContextMenu&&e.handleContextMenu(...p)),onDragstart:t[3]||(t[3]=H((...p)=>e.handleDragStart&&e.handleDragStart(...p),["stop"])),onDragover:t[4]||(t[4]=H((...p)=>e.handleDragOver&&e.handleDragOver(...p),["stop"])),onDragend:t[5]||(t[5]=H((...p)=>e.handleDragEnd&&e.handleDragEnd(...p),["stop"])),onDrop:t[6]||(t[6]=H((...p)=>e.handleDrop&&e.handleDrop(...p),["stop"]))},[V("div",{class:N(e.ns.be("node","content")),style:Te({paddingLeft:(e.node.level-1)*e.tree.props.indent+"px"})},[e.tree.props.icon||e.CaretRight?(k(),M(l,{key:0,class:N([e.ns.be("node","expand-icon"),e.ns.is("leaf",e.node.isLeaf),{expanded:!e.node.isLeaf&&e.expanded}]),onClick:H(e.handleExpandIconClick,["stop"])},{default:P(()=>[(k(),M(ne(e.tree.props.icon||e.CaretRight)))]),_:1},8,["class","onClick"])):x("v-if",!0),e.showCheckbox?(k(),M(r,{key:1,"model-value":e.node.checked,indeterminate:e.node.indeterminate,disabled:!!e.node.disabled,onClick:t[0]||(t[0]=H(()=>{},["stop"])),onChange:e.handleCheckChange},null,8,["model-value","indeterminate","disabled","onChange"])):x("v-if",!0),e.node.loading?(k(),M(l,{key:2,class:N([e.ns.be("node","loading-icon"),e.ns.is("loading")])},{default:P(()=>[J(v)]),_:1},8,["class"])):x("v-if",!0),J(c,{node:e.node,"render-content":e.renderContent},null,8,["node","render-content"])],6),J(u,null,{default:P(()=>[!e.renderAfterExpand||e.childNodeRendered?le((k(),T("div",{key:0,class:N(e.ns.be("node","children")),role:"group","aria-expanded":e.expanded},[(k(!0),T(Ne,null,Yt(e.node.childNodes,p=>(k(),M(h,{key:e.getNodeKey(p),"render-content":e.renderContent,"render-after-expand":e.renderAfterExpand,"show-checkbox":e.showCheckbox,node:p,accordion:e.accordion,props:e.props,onNodeExpand:e.handleChildNodeExpand},null,8,["render-content","render-after-expand","show-checkbox","node","accordion","props","onNodeExpand"]))),128))],10,la)),[[Ee,e.expanded]]):x("v-if",!0)]),_:1})],42,sa)),[[Ee,e.node.visible]])}var ia=ue(aa,[["render",ra],["__file","tree-node.vue"]]);function da({el$:e},t){const o=_("tree"),n=Ce([]),a=Ce([]);_e(()=>{l()}),Wn(()=>{n.value=Array.from(e.value.querySelectorAll("[role=treeitem]")),a.value=Array.from(e.value.querySelectorAll("input[type=checkbox]"))}),F(a,r=>{r.forEach(v=>{v.setAttribute("tabindex","-1")})}),Ut(e,"keydown",r=>{const v=r.target;if(!v.className.includes(o.b("node")))return;const c=r.code;n.value=Array.from(e.value.querySelectorAll(`.${o.is("focusable")}[role=treeitem]`));const h=n.value.indexOf(v);let u;if([re.up,re.down].includes(c)){if(r.preventDefault(),c===re.up){u=h===-1?0:h!==0?h-1:n.value.length-1;const g=u;for(;!t.value.getNode(n.value[u].dataset.key).canFocus;){if(u--,u===g){u=-1;break}u<0&&(u=n.value.length-1)}}else{u=h===-1?0:h<n.value.length-1?h+1:0;const g=u;for(;!t.value.getNode(n.value[u].dataset.key).canFocus;){if(u++,u===g){u=-1;break}u>=n.value.length&&(u=0)}}u!==-1&&n.value[u].focus()}[re.left,re.right].includes(c)&&(r.preventDefault(),v.click());const p=v.querySelector('[type="checkbox"]');[re.enter,re.space].includes(c)&&p&&(r.preventDefault(),p.click())});const l=()=>{var r;n.value=Array.from(e.value.querySelectorAll(`.${o.is("focusable")}[role=treeitem]`)),a.value=Array.from(e.value.querySelectorAll("input[type=checkbox]"));const v=e.value.querySelectorAll(`.${o.is("checked")}[role=treeitem]`);if(v.length){v[0].setAttribute("tabindex","0");return}(r=n.value[0])==null||r.setAttribute("tabindex","0")}}const ua=Y({name:"ElTree",components:{ElTreeNode:ia},props:{data:{type:Array,default:()=>[]},emptyText:{type:String},renderAfterExpand:{type:Boolean,default:!0},nodeKey:String,checkStrictly:Boolean,defaultExpandAll:Boolean,expandOnClickNode:{type:Boolean,default:!0},checkOnClickNode:Boolean,checkDescendants:{type:Boolean,default:!1},autoExpandParent:{type:Boolean,default:!0},defaultCheckedKeys:Array,defaultExpandedKeys:Array,currentNodeKey:[String,Number],renderContent:Function,showCheckbox:{type:Boolean,default:!1},draggable:{type:Boolean,default:!1},allowDrag:Function,allowDrop:Function,props:{type:Object,default:()=>({children:"children",label:"label",disabled:"disabled"})},lazy:{type:Boolean,default:!1},highlightCurrent:Boolean,load:Function,filterNodeMethod:Function,accordion:Boolean,indent:{type:Number,default:18},icon:{type:rt}},emits:["check-change","current-change","node-click","node-contextmenu","node-collapse","node-expand","check","node-drag-start","node-drag-end","node-drop","node-drag-leave","node-drag-enter","node-drag-over"],setup(e,t){const{t:o}=Gn(),n=_("tree"),a=L(new ea({key:e.nodeKey,data:e.data,lazy:e.lazy,props:e.props,load:e.load,currentNodeKey:e.currentNodeKey,checkStrictly:e.checkStrictly,checkDescendants:e.checkDescendants,defaultCheckedKeys:e.defaultCheckedKeys,defaultExpandedKeys:e.defaultExpandedKeys,autoExpandParent:e.autoExpandParent,defaultExpandAll:e.defaultExpandAll,filterNodeMethod:e.filterNodeMethod}));a.value.initialize();const s=L(a.value.root),l=L(null),r=L(null),v=L(null),{broadcastExpanded:c}=sn(e),{dragState:h}=oa({props:e,ctx:t,el$:r,dropIndicator$:v,store:a});da({el$:r},a);const u=S(()=>{const{childNodes:b}=s.value;return!b||b.length===0||b.every(({visible:D})=>!D)});F(()=>e.currentNodeKey,b=>{a.value.setCurrentNodeKey(b)}),F(()=>e.defaultCheckedKeys,b=>{a.value.setDefaultCheckedKey(b)}),F(()=>e.defaultExpandedKeys,b=>{a.value.setDefaultExpandedKeys(b)}),F(()=>e.data,b=>{a.value.setData(b)},{deep:!0}),F(()=>e.checkStrictly,b=>{a.value.checkStrictly=b});const p=b=>{if(!e.filterNodeMethod)throw new Error("[Tree] filterNodeMethod is required when filter");a.value.filter(b)},g=b=>bt(e.nodeKey,b.data),i=b=>{if(!e.nodeKey)throw new Error("[Tree] nodeKey is required in getNodePath");const D=a.value.getNode(b);if(!D)return[];const U=[D.data];let se=D.parent;for(;se&&se!==s.value;)U.push(se.data),se=se.parent;return U.reverse()},d=(b,D)=>a.value.getCheckedNodes(b,D),E=b=>a.value.getCheckedKeys(b),C=()=>{const b=a.value.getCurrentNode();return b?b.data:null},y=()=>{if(!e.nodeKey)throw new Error("[Tree] nodeKey is required in getCurrentKey");const b=C();return b?b[e.nodeKey]:null},A=(b,D)=>{if(!e.nodeKey)throw new Error("[Tree] nodeKey is required in setCheckedNodes");a.value.setCheckedNodes(b,D)},z=(b,D)=>{if(!e.nodeKey)throw new Error("[Tree] nodeKey is required in setCheckedKeys");a.value.setCheckedKeys(b,D)},B=(b,D,U)=>{a.value.setChecked(b,D,U)},ee=()=>a.value.getHalfCheckedNodes(),j=()=>a.value.getHalfCheckedKeys(),R=(b,D=!0)=>{if(!e.nodeKey)throw new Error("[Tree] nodeKey is required in setCurrentNode");ht(a,t.emit,()=>a.value.setUserCurrentNode(b,D))},w=(b,D=!0)=>{if(!e.nodeKey)throw new Error("[Tree] nodeKey is required in setCurrentKey");ht(a,t.emit,()=>a.value.setCurrentNodeKey(b,D))},$=b=>a.value.getNode(b),K=b=>{a.value.remove(b)},W=(b,D)=>{a.value.append(b,D)},me=(b,D)=>{a.value.insertBefore(b,D)},ae=(b,D)=>{a.value.insertAfter(b,D)},ge=(b,D,U)=>{c(D),t.emit("node-expand",b,D,U)},O=(b,D)=>{if(!e.nodeKey)throw new Error("[Tree] nodeKey is required in updateKeyChild");a.value.updateChildren(b,D)};return Se("RootTree",{ctx:t,props:e,store:a,root:s,currentNode:l,instance:De()}),Se(Yn,void 0),{ns:n,store:a,root:s,currentNode:l,dragState:h,el$:r,dropIndicator$:v,isEmpty:u,filter:p,getNodeKey:g,getNodePath:i,getCheckedNodes:d,getCheckedKeys:E,getCurrentNode:C,getCurrentKey:y,setCheckedNodes:A,setCheckedKeys:z,setChecked:B,getHalfCheckedNodes:ee,getHalfCheckedKeys:j,setCurrentNode:R,setCurrentKey:w,t:o,getNode:$,remove:K,append:W,insertBefore:me,insertAfter:ae,handleNodeExpand:ge,updateKeyChildren:O}}});function ca(e,t,o,n,a,s){const l=X("el-tree-node");return k(),T("div",{ref:"el$",class:N([e.ns.b(),e.ns.is("dragging",!!e.dragState.draggingNode),e.ns.is("drop-not-allow",!e.dragState.allowDrop),e.ns.is("drop-inner",e.dragState.dropType==="inner"),{[e.ns.m("highlight-current")]:e.highlightCurrent}]),role:"tree"},[(k(!0),T(Ne,null,Yt(e.root.childNodes,r=>(k(),M(l,{key:e.getNodeKey(r),node:r,props:e.props,accordion:e.accordion,"render-after-expand":e.renderAfterExpand,"show-checkbox":e.showCheckbox,"render-content":e.renderContent,onNodeExpand:e.handleNodeExpand},null,8,["node","props","accordion","render-after-expand","show-checkbox","render-content","onNodeExpand"]))),128)),e.isEmpty?(k(),T("div",{key:0,class:N(e.ns.e("empty-block"))},[Q(e.$slots,"empty",{},()=>{var r;return[V("span",{class:N(e.ns.e("empty-text"))},Z((r=e.emptyText)!=null?r:e.t("el.tree.emptyText")),3)]})],2)):x("v-if",!0),le(V("div",{ref:"dropIndicator$",class:N(e.ns.e("drop-indicator"))},null,2),[[Ee,e.dragState.showDropIndicator]])],2)}var qe=ue(ua,[["render",ca],["__file","tree.vue"]]);qe.install=e=>{e.component(qe.name,qe)};const fa=qe,ha=fa,pa=Y({name:"ElMessageBox",directives:{TrapFocus:Ko},components:{ElButton:ct,ElFocusTrap:Xn,ElInput:Io,ElOverlay:Qo,ElIcon:ce,...Zn},inheritAttrs:!1,props:{buttonSize:{type:String,validator:eo},modal:{type:Boolean,default:!0},lockScroll:{type:Boolean,default:!0},showClose:{type:Boolean,default:!0},closeOnClickModal:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},closeOnHashChange:{type:Boolean,default:!0},center:Boolean,draggable:Boolean,overflow:Boolean,roundButton:{default:!1,type:Boolean},container:{type:String,default:"body"},boxType:{type:String,default:""}},emits:["vanish","action"],setup(e,{emit:t}){const{locale:o,zIndex:n,ns:a,size:s}=Jn("message-box",S(()=>e.buttonSize)),{t:l}=o,{nextZIndex:r}=n,v=L(!1),c=Qe({autofocus:!0,beforeClose:null,callback:null,cancelButtonText:"",cancelButtonClass:"",confirmButtonText:"",confirmButtonClass:"",customClass:"",customStyle:{},dangerouslyUseHTMLString:!1,distinguishCancelAndClose:!1,icon:"",inputPattern:null,inputPlaceholder:"",inputType:"text",inputValue:null,inputValidator:null,inputErrorMessage:"",message:null,modalFade:!0,modalClass:"",showCancelButton:!1,showConfirmButton:!0,type:"",title:void 0,showInput:!1,action:"",confirmButtonLoading:!1,cancelButtonLoading:!1,confirmButtonDisabled:!1,editorErrorMessage:"",validateError:!1,zIndex:r()}),h=S(()=>{const O=c.type;return{[a.bm("icon",O)]:O&&Tt[O]}}),u=Lt(),p=Lt(),g=S(()=>c.icon||Tt[c.type]||""),i=S(()=>!!c.message),d=L(),E=L(),C=L(),y=L(),A=L(),z=S(()=>c.confirmButtonClass);F(()=>c.inputValue,async O=>{await G(),e.boxType==="prompt"&&O!==null&&W()},{immediate:!0}),F(()=>v.value,O=>{var b,D;O&&(e.boxType!=="prompt"&&(c.autofocus?C.value=(D=(b=A.value)==null?void 0:b.$el)!=null?D:d.value:C.value=d.value),c.zIndex=r()),e.boxType==="prompt"&&(O?G().then(()=>{var U;y.value&&y.value.$el&&(c.autofocus?C.value=(U=me())!=null?U:d.value:C.value=d.value)}):(c.editorErrorMessage="",c.validateError=!1))});const B=S(()=>e.draggable),ee=S(()=>e.overflow);po(d,E,B,ee),_e(async()=>{await G(),e.closeOnHashChange&&window.addEventListener("hashchange",j)}),Rt(()=>{e.closeOnHashChange&&window.removeEventListener("hashchange",j)});function j(){v.value&&(v.value=!1,G(()=>{c.action&&t("action",c.action)}))}const R=()=>{e.closeOnClickModal&&K(c.distinguishCancelAndClose?"close":"cancel")},w=Qt(R),$=O=>{if(c.inputType!=="textarea")return O.preventDefault(),K("confirm")},K=O=>{var b;e.boxType==="prompt"&&O==="confirm"&&!W()||(c.action=O,c.beforeClose?(b=c.beforeClose)==null||b.call(c,O,c,j):j())},W=()=>{if(e.boxType==="prompt"){const O=c.inputPattern;if(O&&!O.test(c.inputValue||""))return c.editorErrorMessage=c.inputErrorMessage||l("el.messagebox.error"),c.validateError=!0,!1;const b=c.inputValidator;if(typeof b=="function"){const D=b(c.inputValue);if(D===!1)return c.editorErrorMessage=c.inputErrorMessage||l("el.messagebox.error"),c.validateError=!0,!1;if(typeof D=="string")return c.editorErrorMessage=D,c.validateError=!0,!1}}return c.editorErrorMessage="",c.validateError=!1,!0},me=()=>{const O=y.value.$refs;return O.input||O.textarea},ae=()=>{K("close")},ge=()=>{e.closeOnPressEscape&&ae()};return e.lockScroll&&vo(v),{...Wt(c),ns:a,overlayEvent:w,visible:v,hasMessage:i,typeClass:h,contentId:u,inputId:p,btnSize:s,iconComponent:g,confirmButtonClasses:z,rootRef:d,focusStartRef:C,headerRef:E,inputRef:y,confirmRef:A,doClose:j,handleClose:ae,onCloseRequested:ge,handleWrapperClick:R,handleInputEnter:$,handleAction:K,t:l}}}),va=["aria-label","aria-describedby"],ma=["aria-label"],ga=["id"];function ya(e,t,o,n,a,s){const l=X("el-icon"),r=X("close"),v=X("el-input"),c=X("el-button"),h=X("el-focus-trap"),u=X("el-overlay");return k(),M(Qn,{name:"fade-in-linear",onAfterLeave:t[11]||(t[11]=p=>e.$emit("vanish")),persisted:""},{default:P(()=>[le(J(u,{"z-index":e.zIndex,"overlay-class":[e.ns.is("message-box"),e.modalClass],mask:e.modal},{default:P(()=>[V("div",{role:"dialog","aria-label":e.title,"aria-modal":"true","aria-describedby":e.showInput?void 0:e.contentId,class:N(`${e.ns.namespace.value}-overlay-message-box`),onClick:t[8]||(t[8]=(...p)=>e.overlayEvent.onClick&&e.overlayEvent.onClick(...p)),onMousedown:t[9]||(t[9]=(...p)=>e.overlayEvent.onMousedown&&e.overlayEvent.onMousedown(...p)),onMouseup:t[10]||(t[10]=(...p)=>e.overlayEvent.onMouseup&&e.overlayEvent.onMouseup(...p))},[J(h,{loop:"",trapped:e.visible,"focus-trap-el":e.rootRef,"focus-start-el":e.focusStartRef,onReleaseRequested:e.onCloseRequested},{default:P(()=>[V("div",{ref:"rootRef",class:N([e.ns.b(),e.customClass,e.ns.is("draggable",e.draggable),{[e.ns.m("center")]:e.center}]),style:Te(e.customStyle),tabindex:"-1",onClick:t[7]||(t[7]=H(()=>{},["stop"]))},[e.title!==null&&e.title!==void 0?(k(),T("div",{key:0,ref:"headerRef",class:N([e.ns.e("header"),{"show-close":e.showClose}])},[V("div",{class:N(e.ns.e("title"))},[e.iconComponent&&e.center?(k(),M(l,{key:0,class:N([e.ns.e("status"),e.typeClass])},{default:P(()=>[(k(),M(ne(e.iconComponent)))]),_:1},8,["class"])):x("v-if",!0),V("span",null,Z(e.title),1)],2),e.showClose?(k(),T("button",{key:0,type:"button",class:N(e.ns.e("headerbtn")),"aria-label":e.t("el.messagebox.close"),onClick:t[0]||(t[0]=p=>e.handleAction(e.distinguishCancelAndClose?"close":"cancel")),onKeydown:t[1]||(t[1]=Fe(H(p=>e.handleAction(e.distinguishCancelAndClose?"close":"cancel"),["prevent"]),["enter"]))},[J(l,{class:N(e.ns.e("close"))},{default:P(()=>[J(r)]),_:1},8,["class"])],42,ma)):x("v-if",!0)],2)):x("v-if",!0),V("div",{id:e.contentId,class:N(e.ns.e("content"))},[V("div",{class:N(e.ns.e("container"))},[e.iconComponent&&!e.center&&e.hasMessage?(k(),M(l,{key:0,class:N([e.ns.e("status"),e.typeClass])},{default:P(()=>[(k(),M(ne(e.iconComponent)))]),_:1},8,["class"])):x("v-if",!0),e.hasMessage?(k(),T("div",{key:1,class:N(e.ns.e("message"))},[Q(e.$slots,"default",{},()=>[e.dangerouslyUseHTMLString?(k(),M(ne(e.showInput?"label":"p"),{key:1,for:e.showInput?e.inputId:void 0,innerHTML:e.message},null,8,["for","innerHTML"])):(k(),M(ne(e.showInput?"label":"p"),{key:0,for:e.showInput?e.inputId:void 0},{default:P(()=>[he(Z(e.dangerouslyUseHTMLString?"":e.message),1)]),_:1},8,["for"]))])],2)):x("v-if",!0)],2),le(V("div",{class:N(e.ns.e("input"))},[J(v,{id:e.inputId,ref:"inputRef",modelValue:e.inputValue,"onUpdate:modelValue":t[2]||(t[2]=p=>e.inputValue=p),type:e.inputType,placeholder:e.inputPlaceholder,"aria-invalid":e.validateError,class:N({invalid:e.validateError}),onKeydown:Fe(e.handleInputEnter,["enter"])},null,8,["id","modelValue","type","placeholder","aria-invalid","class","onKeydown"]),V("div",{class:N(e.ns.e("errormsg")),style:Te({visibility:e.editorErrorMessage?"visible":"hidden"})},Z(e.editorErrorMessage),7)],2),[[Ee,e.showInput]])],10,ga),V("div",{class:N(e.ns.e("btns"))},[e.showCancelButton?(k(),M(c,{key:0,loading:e.cancelButtonLoading,class:N([e.cancelButtonClass]),round:e.roundButton,size:e.btnSize,onClick:t[3]||(t[3]=p=>e.handleAction("cancel")),onKeydown:t[4]||(t[4]=Fe(H(p=>e.handleAction("cancel"),["prevent"]),["enter"]))},{default:P(()=>[he(Z(e.cancelButtonText||e.t("el.messagebox.cancel")),1)]),_:1},8,["loading","class","round","size"])):x("v-if",!0),le(J(c,{ref:"confirmRef",type:"primary",loading:e.confirmButtonLoading,class:N([e.confirmButtonClasses]),round:e.roundButton,disabled:e.confirmButtonDisabled,size:e.btnSize,onClick:t[5]||(t[5]=p=>e.handleAction("confirm")),onKeydown:t[6]||(t[6]=Fe(H(p=>e.handleAction("confirm"),["prevent"]),["enter"]))},{default:P(()=>[he(Z(e.confirmButtonText||e.t("el.messagebox.confirm")),1)]),_:1},8,["loading","class","round","disabled","size"]),[[Ee,e.showConfirmButton]])],2)],6)]),_:3},8,["trapped","focus-trap-el","focus-start-el","onReleaseRequested"])],42,va)]),_:3},8,["z-index","overlay-class","mask"]),[[Ee,e.visible]])]),_:3})}var ba=ue(pa,[["render",ya],["__file","index.vue"]]);const Oe=new Map,Ca=e=>{let t=document.body;return e.appendTo&&(de(e.appendTo)&&(t=document.querySelector(e.appendTo)),At(e.appendTo)&&(t=e.appendTo),At(t)||(t=document.body)),t},ka=(e,t,o=null)=>{const n=J(ba,e,We(e.message)||Xt(e.message)?{default:We(e.message)?e.message:()=>e.message}:null);return n.appContext=o,Zt(n,t),Ca(e).appendChild(t.firstElementChild),n.component},Na=()=>document.createElement("div"),Ea=(e,t)=>{const o=Na();e.onVanish=()=>{Zt(null,o),Oe.delete(a)},e.onAction=s=>{const l=Oe.get(a);let r;e.showInput?r={value:a.inputValue,action:s}:r=s,e.callback?e.callback(r,n.proxy):s==="cancel"||s==="close"?e.distinguishCancelAndClose&&s!=="cancel"?l.reject("close"):l.reject("cancel"):l.resolve(r)};const n=ka(e,o,t),a=n.proxy;for(const s in e)ze(e,s)&&!ze(a.$props,s)&&(a[s]=e[s]);return a.visible=!0,a};function xe(e,t=null){if(!Ve)return Promise.reject();let o;return de(e)||Xt(e)?e={message:e}:o=e.callback,new Promise((n,a)=>{const s=Ea(e,t??xe._context);Oe.set(s,{options:e,callback:o,resolve:n,reject:a})})}const wa=["alert","confirm","prompt"],Sa={alert:{closeOnPressEscape:!1,closeOnClickModal:!1},confirm:{showCancelButton:!0},prompt:{showCancelButton:!0,showInput:!0}};wa.forEach(e=>{xe[e]=Da(e)});function Da(e){return(t,o,n,a)=>{let s="";return Le(o)?(n=o,s=""):Xe(o)?s="":s=o,xe(Object.assign({title:s,message:t,type:"",...Sa[e]},n,{boxType:e}),a)}}xe.close=()=>{Oe.forEach((e,t)=>{t.doClose()}),Oe.clear()};xe._context=null;const ie=xe;ie.install=e=>{ie._context=e._context,e.config.globalProperties.$msgbox=ie,e.config.globalProperties.$messageBox=ie,e.config.globalProperties.$alert=ie.alert,e.config.globalProperties.$confirm=ie.confirm,e.config.globalProperties.$prompt=ie.prompt};const Ba=ie,xa={class:"reactive-menu-tree-node"},Ia={class:"reactive-menu-tree-node-name"},Ka={class:"reactive-menu-tree-node-tool"},Ma=Y({__name:"ReactiveMenuTree",props:{menuData:{default:()=>[]},isOpenDrag:{type:Boolean,default:!0},isOpenRename:{type:Boolean,default:!0},isOpenDefault:{type:Boolean,default:!0},isOpenCheck:{type:Boolean,default:!0}},setup(e){const t=e;let o=Qe([]);F(t.menuData,()=>{o=Qe(p(t.menuData))},{immediate:!0});const n=L();function a(g){be.forEach(g.parent.childNodes,i=>{i.data.config.isDefault=!1}),g.data.config.isDefault=!0}function s(g){Ba.prompt("","重命名",{confirmButtonText:"OK",cancelButtonText:"Cancel",inputPattern:/.+/,inputValue:g.data.name,inputErrorMessage:"请输入名称"}).then(({value:i})=>{g.data.name=i,zt({type:"success",message:"重命名成功"})}).catch(()=>{zt({type:"info",message:"已取消重命名"})})}function l(g){r(g),v(g)}function r(g){const i=g.childNodes;for(const d of i||[])d.data.checked=g.data.checked,r(d)}function v(g){const i=g.parent;if(i){const d=!!be.find(i.childNodes,"data.checked");d!==i.data.checked&&(i.data.checked=d,v(i))}}function c(){return!0}function h(g,i,d){return g.data.pid===i.data.pid?d!=="inner":!1}function u(g){var E,C,y,A;const d=((y=(C=((E=n.value)==null?void 0:E.getNode(g.data)).parent)==null?void 0:C.data)==null?void 0:y.children)||((A=n.value)==null?void 0:A.data);be.forEach(d,(z,B)=>{z.order=B})}function p(g){for(const i of be.cloneDeep(g))i.id=i.id.toString?i.id.toString():i.id,i&&i.children&&i.children.length&&(i.children=p(i.children));return be.filter(be.orderBy(g,["order"],["asc"]),i=>i.checked!==!1)}return(g,i)=>(k(),M(f(ha),{ref_key:"reactiveMenuTree",ref:n,class:"reactive-menu-tree","node-key":"id","highlight-current":"","allow-drop":h,"allow-drag":c,draggable:t.isOpenDrag,data:f(o),onNodeDragEnd:u},{default:P(({node:d})=>[V("div",xa,[t.isOpenCheck?(k(),M(f(an),{key:0,modelValue:d.data.checked,"onUpdate:modelValue":E=>d.data.checked=E,onClick:i[0]||(i[0]=H(()=>{},["stop"])),onChange:E=>l(d)},null,8,["modelValue","onUpdate:modelValue","onChange"])):x("",!0),V("div",Ia,Z(d.data.name),1),V("div",Ka,[t.isOpenRename?(k(),M(f(ct),{key:0,type:"primary",link:"",onClick:H(E=>s(d),["stop"])},{default:P(()=>[he(" 重命名 ")]),_:2},1032,["onClick"])):x("",!0),!d.data.config.notBeDefault&&t.isOpenDefault?(k(),M(f(ct),{key:1,type:d.data.config.isDefault?"danger":"primary",link:"",onClick:H(E=>a(d),["stop"])},{default:P(()=>[he(" 设为默认 ")]),_:2},1032,["type","onClick"])):x("",!0)])])]),_:1},8,["draggable","data"]))}}),$a=_n(Ma,[["__scopeId","data-v-0592ee54"]]),Oa={__name:"MenuTree",setup(e){const t=oe("reactiveMenuData");return(o,n)=>(k(),M($a,{"menu-data":f(t).menus},null,8,["menu-data"]))}};export{Oa as default};
