import{f as Oe,S as Dt,g as mn,h as gn,j as yn,k as bn,l as w,n as Cn,p as De,o as Je,q as kn,s as Ft,t as xt,v as $e,x as Nn,y as _,z as En,A as Bt,B as P,C as wn,D as Rt,F as Sn,G as He,N as Ue,r as T,H as ke,I as Vt,J as Ge,K as ht,L as pt,M as Ne,O as at,P as Dn,Q as ue,R as Z,T as xn,U as vt,V as Qe,W as mt,X as st,Y as Ht,Z as Bn,$ as In,a0 as Kn,a1 as $n,a2 as Mn,a3 as W,a4 as We,a5 as Tn,a6 as oe,a7 as ve,a as k,c as M,a8 as D,a9 as Ee,aa as N,u,ab as te,b as A,ac as K,w as O,ad as ne,ae as he,af as nt,d as Q,ag as Ln,ah as R,ai as X,aj as Me,ak as ce,al as Te,am as Ut,an as It,ao as ie,ap as lt,i as ae,aq as Ye,ar as Le,as as Kt,at as Xe,e as me,au as Se,av as qt,aw as jt,ax as ot,ay as rt,az as Ae,aA as Ze,aB as An,aC as zn,aD as On,aE as Y,aF as Gt,aG as it,aH as Pn,aI as Fn,aJ as Rn,E as dt,aK as Vn,aL as Hn,aM as Un,aN as $t,aO as Mt,aP as Fe,aQ as qn,aR as Wt,aS as Yt,aT as Tt,_ as jn,aU as Ce}from"./index-e5a2ad71.js";import{U as ye,i as Gn}from"./validator-290515ed.js";import{i as Wn}from"./isEqual-9f431db2.js";import{s as Yn,o as Xn,h as Zn}from"./hasIn-482b4771.js";import{i as Jn,a as Qn}from"./_Uint8Array-ee4e6bac.js";import{E as Lt}from"./index-780793e3.js";import"./_baseIsEqual-0c2e5905.js";const _n=()=>Oe&&/firefox/i.test(window.navigator.userAgent);var At=Dt?Dt.isConcatSpreadable:void 0;function eo(e){return mn(e)||Jn(e)||!!(At&&e&&e[At])}function Xt(e,t,o,n,a){var s=-1,l=e.length;for(o||(o=eo),a||(a=[]);++s<l;){var r=e[s];t>0&&o(r)?t>1?Xt(r,t-1,o,n,a):Qn(a,r):n||(a[a.length]=r)}return a}function to(e){var t=e==null?0:e.length;return t?Xt(e,1):[]}function no(e){return Yn(Xn(e,void 0,to),e+"")}function oo(e,t,o){for(var n=-1,a=t.length,s={};++n<a;){var l=t[n],r=gn(e,l);o(r,l)&&yn(s,bn(l,e),r)}return s}function ao(e,t){return oo(e,t,function(o,n){return Zn(e,n)})}var so=no(function(e,t){return e==null?{}:ao(e,t)});const lo=so;let Re;const ro=e=>{var t;if(!Oe)return 0;if(Re!==void 0)return Re;const o=document.createElement("div");o.className=`${e}-scrollbar__wrap`,o.style.visibility="hidden",o.style.width="100px",o.style.position="absolute",o.style.top="-9999px",document.body.appendChild(o);const n=o.offsetWidth;o.style.overflow="scroll";const a=document.createElement("div");a.style.width="100%",o.appendChild(a);const s=a.offsetWidth;return(t=o.parentNode)==null||t.removeChild(o),Re=n-s,Re},io=e=>/([\uAC00-\uD7AF\u3130-\u318F])+/gi.test(e),uo=["class","style"],co=/^on[A-Z]/,fo=(e={})=>{const{excludeListeners:t=!1,excludeKeys:o}=e,n=w(()=>((o==null?void 0:o.value)||[]).concat(uo)),a=De();return a?w(()=>{var s;return Cn(Object.entries((s=a.proxy)==null?void 0:s.$attrs).filter(([l])=>!n.value.includes(l)&&!(t&&co.test(l))))}):w(()=>({}))},ho=(e,t,o)=>{let n={offsetX:0,offsetY:0};const a=r=>{const v=r.clientX,i=r.clientY,{offsetX:p,offsetY:m}=n,f=e.value.getBoundingClientRect(),h=f.left,d=f.top,c=f.width,b=f.height,C=document.documentElement.clientWidth,S=document.documentElement.clientHeight,F=-h+p,U=-d+m,z=C-h-c+p,q=S-d-b+m,j=E=>{const I=Math.min(Math.max(p+E.clientX-v,F),z),$=Math.min(Math.max(m+E.clientY-i,U),q);n={offsetX:I,offsetY:$},e.value.style.transform=`translate(${xt(I)}, ${xt($)})`},V=()=>{document.removeEventListener("mousemove",j),document.removeEventListener("mouseup",V)};document.addEventListener("mousemove",j),document.addEventListener("mouseup",V)},s=()=>{t.value&&e.value&&t.value.addEventListener("mousedown",a)},l=()=>{t.value&&e.value&&t.value.removeEventListener("mousedown",a)};Je(()=>{kn(()=>{o.value?s():l()})}),Ft(()=>{l()})},po=(e,t={})=>{$e(e)||Nn("[useLockscreen]","You need to pass a ref param to this function");const o=t.ns||_("popup"),n=En(()=>o.bm("parent","hidden"));if(!Oe||Bt(document.body,n.value))return;let a=0,s=!1,l="0";const r=()=>{setTimeout(()=>{He(document==null?void 0:document.body,n.value),s&&document&&(document.body.style.width=l)},200)};P(e,v=>{if(!v){r();return}s=!Bt(document.body,n.value),s&&(l=document.body.style.width),a=ro(o.namespace.value);const i=document.documentElement.clientHeight<document.body.scrollHeight,p=wn(document.body,"overflowY");a>0&&(i||p==="scroll")&&s&&(document.body.style.width=`calc(100% - ${a}px)`),Rt(document.body,n.value)}),Sn(()=>r())},Zt=e=>{if(!e)return{onClick:Ue,onMousedown:Ue,onMouseup:Ue};let t=!1,o=!1;return{onClick:l=>{t&&o&&e(l),t=o=!1},onMousedown:l=>{t=l.target===l.currentTarget},onMouseup:l=>{o=l.target===l.currentTarget}}};function vo(e){const t=T();function o(){if(e.value==null)return;const{selectionStart:a,selectionEnd:s,value:l}=e.value;if(a==null||s==null)return;const r=l.slice(0,Math.max(0,a)),v=l.slice(Math.max(0,s));t.value={selectionStart:a,selectionEnd:s,value:l,beforeTxt:r,afterTxt:v}}function n(){if(e.value==null||t.value==null)return;const{value:a}=e.value,{beforeTxt:s,afterTxt:l,selectionStart:r}=t.value;if(s==null||l==null||r==null)return;let v=a.length;if(a.endsWith(l))v=a.length-l.length;else if(a.startsWith(s))v=s.length;else{const i=s[r-1],p=a.indexOf(i,r-1);p!==-1&&(v=p+1)}e.value.setSelectionRange(v,v)}return[o,n]}function mo(e,{afterFocus:t,afterBlur:o}={}){const n=De(),{emit:a}=n,s=ke(),l=T(!1),r=p=>{l.value||(l.value=!0,a("focus",p),t==null||t())},v=p=>{var m;p.relatedTarget&&((m=s.value)!=null&&m.contains(p.relatedTarget))||(l.value=!1,a("blur",p),o==null||o())},i=()=>{var p;(p=e.value)==null||p.focus()};return P(s,p=>{p&&p.setAttribute("tabindex","-1")}),Vt(s,"click",i),{wrapperRef:s,isFocused:l,handleFocus:r,handleBlur:v}}let ee;const go=`
  height:0 !important;
  visibility:hidden !important;
  ${_n()?"":"overflow:hidden !important;"}
  position:absolute !important;
  z-index:-1000 !important;
  top:0 !important;
  right:0 !important;
`,yo=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","text-rendering","text-transform","width","text-indent","padding-left","padding-right","border-width","box-sizing"];function bo(e){const t=window.getComputedStyle(e),o=t.getPropertyValue("box-sizing"),n=Number.parseFloat(t.getPropertyValue("padding-bottom"))+Number.parseFloat(t.getPropertyValue("padding-top")),a=Number.parseFloat(t.getPropertyValue("border-bottom-width"))+Number.parseFloat(t.getPropertyValue("border-top-width"));return{contextStyle:yo.map(l=>`${l}:${t.getPropertyValue(l)}`).join(";"),paddingSize:n,borderSize:a,boxSizing:o}}function zt(e,t=1,o){var n;ee||(ee=document.createElement("textarea"),document.body.appendChild(ee));const{paddingSize:a,borderSize:s,boxSizing:l,contextStyle:r}=bo(e);ee.setAttribute("style",`${r};${go}`),ee.value=e.value||e.placeholder||"";let v=ee.scrollHeight;const i={};l==="border-box"?v=v+s:l==="content-box"&&(v=v-a),ee.value="";const p=ee.scrollHeight-a;if(Ge(t)){let m=p*t;l==="border-box"&&(m=m+a+s),v=Math.max(m,v),i.minHeight=`${m}px`}if(Ge(o)){let m=p*o;l==="border-box"&&(m=m+a+s),v=Math.min(m,v)}return i.height=`${v}px`,(n=ee.parentNode)==null||n.removeChild(ee),ee=void 0,i}const Co=ht({id:{type:String,default:void 0},size:pt,disabled:Boolean,modelValue:{type:Ne([String,Number,Object]),default:""},type:{type:String,default:"text"},resize:{type:String,values:["none","both","horizontal","vertical"]},autosize:{type:Ne([Boolean,Object]),default:!1},autocomplete:{type:String,default:"off"},formatter:{type:Function},parser:{type:Function},placeholder:{type:String},form:{type:String},readonly:{type:Boolean,default:!1},clearable:{type:Boolean,default:!1},showPassword:{type:Boolean,default:!1},showWordLimit:{type:Boolean,default:!1},suffixIcon:{type:at},prefixIcon:{type:at},containerRole:{type:String,default:void 0},label:{type:String,default:void 0},tabindex:{type:[String,Number],default:0},validateEvent:{type:Boolean,default:!0},inputStyle:{type:Ne([Object,Array,String]),default:()=>Dn({})}}),ko={[ye]:e=>ue(e),input:e=>ue(e),change:e=>ue(e),focus:e=>e instanceof FocusEvent,blur:e=>e instanceof FocusEvent,clear:()=>!0,mouseleave:e=>e instanceof MouseEvent,mouseenter:e=>e instanceof MouseEvent,keydown:e=>e instanceof Event,compositionstart:e=>e instanceof CompositionEvent,compositionupdate:e=>e instanceof CompositionEvent,compositionend:e=>e instanceof CompositionEvent},No=["role"],Eo=["id","type","disabled","formatter","parser","readonly","autocomplete","tabindex","aria-label","placeholder","form"],wo=["id","tabindex","disabled","readonly","autocomplete","aria-label","placeholder","form"],So=Z({name:"ElInput",inheritAttrs:!1}),Do=Z({...So,props:Co,emits:ko,setup(e,{expose:t,emit:o}){const n=e,a=xn(),s=vt(),l=w(()=>{const g={};return n.containerRole==="combobox"&&(g["aria-haspopup"]=a["aria-haspopup"],g["aria-owns"]=a["aria-owns"],g["aria-expanded"]=a["aria-expanded"]),g}),r=w(()=>[n.type==="textarea"?b.b():c.b(),c.m(h.value),c.is("disabled",d.value),c.is("exceed",sn.value),{[c.b("group")]:s.prepend||s.append,[c.bm("group","append")]:s.append,[c.bm("group","prepend")]:s.prepend,[c.m("prefix")]:s.prefix||n.prefixIcon,[c.m("suffix")]:s.suffix||n.suffixIcon||n.clearable||n.showPassword,[c.bm("suffix","password-clear")]:le.value&&_e.value},a.class]),v=w(()=>[c.e("wrapper"),c.is("focus",I.value)]),i=fo({excludeKeys:w(()=>Object.keys(l.value))}),{form:p,formItem:m}=Qe(),{inputId:f}=mt(n,{formItemContext:m}),h=st(),d=Ht(),c=_("input"),b=_("textarea"),C=ke(),S=ke(),F=T(!1),U=T(!1),z=T(!1),q=T(),j=ke(n.inputStyle),V=w(()=>C.value||S.value),{wrapperRef:E,isFocused:I,handleFocus:$,handleBlur:se}=mo(V,{afterBlur(){var g;n.validateEvent&&((g=m==null?void 0:m.validate)==null||g.call(m,"blur").catch(B=>We()))}}),fe=w(()=>{var g;return(g=p==null?void 0:p.statusIcon)!=null?g:!1}),re=w(()=>(m==null?void 0:m.validateState)||""),L=w(()=>re.value&&Bn[re.value]),J=w(()=>z.value?In:Kn),y=w(()=>[a.style,n.inputStyle]),x=w(()=>[n.inputStyle,j.value,{resize:n.resize}]),G=w(()=>$n(n.modelValue)?"":String(n.modelValue)),le=w(()=>n.clearable&&!d.value&&!n.readonly&&!!G.value&&(I.value||F.value)),_e=w(()=>n.showPassword&&!d.value&&!n.readonly&&!!G.value&&(!!G.value||I.value)),be=w(()=>n.showWordLimit&&!!i.value.maxlength&&(n.type==="text"||n.type==="textarea")&&!d.value&&!n.readonly&&!n.showPassword),et=w(()=>G.value.length),sn=w(()=>!!be.value&&et.value>Number(i.value.maxlength)),ln=w(()=>!!s.suffix||!!n.suffixIcon||le.value||n.showPassword||be.value||!!re.value&&fe.value),[rn,dn]=vo(C);Mn(S,g=>{if(un(),!be.value||n.resize!=="both")return;const B=g[0],{width:H}=B.contentRect;q.value={right:`calc(100% - ${H+15+6}px)`}});const Ie=()=>{const{type:g,autosize:B}=n;if(!(!Oe||g!=="textarea"||!S.value))if(B){const H=Te(B)?B.minRows:void 0,Pe=Te(B)?B.maxRows:void 0,St=zt(S.value,H,Pe);j.value={overflowY:"hidden",...St},W(()=>{S.value.offsetHeight,j.value=St})}else j.value={minHeight:zt(S.value).minHeight}},un=(g=>{let B=!1;return()=>{var H;if(B||!n.autosize)return;((H=S.value)==null?void 0:H.offsetParent)===null||(g(),B=!0)}})(Ie),Ke=()=>{const g=V.value,B=n.formatter?n.formatter(G.value):G.value;!g||g.value===B||(g.value=B)},tt=async g=>{rn();let{value:B}=g.target;if(n.formatter&&(B=n.parser?n.parser(B):B),!U.value){if(B===G.value){Ke();return}o(ye,B),o("input",B),await W(),Ke(),dn()}},yt=g=>{o("change",g.target.value)},bt=g=>{o("compositionstart",g),U.value=!0},Ct=g=>{var B;o("compositionupdate",g);const H=(B=g.target)==null?void 0:B.value,Pe=H[H.length-1]||"";U.value=!io(Pe)},kt=g=>{o("compositionend",g),U.value&&(U.value=!1,tt(g))},cn=()=>{z.value=!z.value,Nt()},Nt=async()=>{var g;await W(),(g=V.value)==null||g.focus()},fn=()=>{var g;return(g=V.value)==null?void 0:g.blur()},hn=g=>{F.value=!1,o("mouseleave",g)},pn=g=>{F.value=!0,o("mouseenter",g)},Et=g=>{o("keydown",g)},vn=()=>{var g;(g=V.value)==null||g.select()},wt=()=>{o(ye,""),o("change",""),o("clear"),o("input","")};return P(()=>n.modelValue,()=>{var g;W(()=>Ie()),n.validateEvent&&((g=m==null?void 0:m.validate)==null||g.call(m,"change").catch(B=>We()))}),P(G,()=>Ke()),P(()=>n.type,async()=>{await W(),Ke(),Ie()}),Je(()=>{!n.formatter&&n.parser,Ke(),W(Ie)}),t({input:C,textarea:S,ref:V,textareaStyle:x,autosize:Tn(n,"autosize"),focus:Nt,blur:fn,select:vn,clear:wt,resizeTextarea:Ie}),(g,B)=>oe((k(),M("div",nt(u(l),{class:u(r),style:u(y),role:g.containerRole,onMouseenter:pn,onMouseleave:hn}),[D(" input "),g.type!=="textarea"?(k(),M(Ee,{key:0},[D(" prepend slot "),g.$slots.prepend?(k(),M("div",{key:0,class:N(u(c).be("group","prepend"))},[te(g.$slots,"prepend")],2)):D("v-if",!0),A("div",{ref_key:"wrapperRef",ref:E,class:N(u(v))},[D(" prefix slot "),g.$slots.prefix||g.prefixIcon?(k(),M("span",{key:0,class:N(u(c).e("prefix"))},[A("span",{class:N(u(c).e("prefix-inner"))},[te(g.$slots,"prefix"),g.prefixIcon?(k(),K(u(he),{key:0,class:N(u(c).e("icon"))},{default:O(()=>[(k(),K(ne(g.prefixIcon)))]),_:1},8,["class"])):D("v-if",!0)],2)],2)):D("v-if",!0),A("input",nt({id:u(f),ref_key:"input",ref:C,class:u(c).e("inner")},u(i),{type:g.showPassword?z.value?"text":"password":g.type,disabled:u(d),formatter:g.formatter,parser:g.parser,readonly:g.readonly,autocomplete:g.autocomplete,tabindex:g.tabindex,"aria-label":g.label,placeholder:g.placeholder,style:g.inputStyle,form:n.form,onCompositionstart:bt,onCompositionupdate:Ct,onCompositionend:kt,onInput:tt,onFocus:B[0]||(B[0]=(...H)=>u($)&&u($)(...H)),onBlur:B[1]||(B[1]=(...H)=>u(se)&&u(se)(...H)),onChange:yt,onKeydown:Et}),null,16,Eo),D(" suffix slot "),u(ln)?(k(),M("span",{key:1,class:N(u(c).e("suffix"))},[A("span",{class:N(u(c).e("suffix-inner"))},[!u(le)||!u(_e)||!u(be)?(k(),M(Ee,{key:0},[te(g.$slots,"suffix"),g.suffixIcon?(k(),K(u(he),{key:0,class:N(u(c).e("icon"))},{default:O(()=>[(k(),K(ne(g.suffixIcon)))]),_:1},8,["class"])):D("v-if",!0)],64)):D("v-if",!0),u(le)?(k(),K(u(he),{key:1,class:N([u(c).e("icon"),u(c).e("clear")]),onMousedown:R(u(Ue),["prevent"]),onClick:wt},{default:O(()=>[Q(u(Ln))]),_:1},8,["class","onMousedown"])):D("v-if",!0),u(_e)?(k(),K(u(he),{key:2,class:N([u(c).e("icon"),u(c).e("password")]),onClick:cn},{default:O(()=>[(k(),K(ne(u(J))))]),_:1},8,["class"])):D("v-if",!0),u(be)?(k(),M("span",{key:3,class:N(u(c).e("count"))},[A("span",{class:N(u(c).e("count-inner"))},X(u(et))+" / "+X(u(i).maxlength),3)],2)):D("v-if",!0),u(re)&&u(L)&&u(fe)?(k(),K(u(he),{key:4,class:N([u(c).e("icon"),u(c).e("validateIcon"),u(c).is("loading",u(re)==="validating")])},{default:O(()=>[(k(),K(ne(u(L))))]),_:1},8,["class"])):D("v-if",!0)],2)],2)):D("v-if",!0)],2),D(" append slot "),g.$slots.append?(k(),M("div",{key:1,class:N(u(c).be("group","append"))},[te(g.$slots,"append")],2)):D("v-if",!0)],64)):(k(),M(Ee,{key:1},[D(" textarea "),A("textarea",nt({id:u(f),ref_key:"textarea",ref:S,class:u(b).e("inner")},u(i),{tabindex:g.tabindex,disabled:u(d),readonly:g.readonly,autocomplete:g.autocomplete,style:u(x),"aria-label":g.label,placeholder:g.placeholder,form:n.form,onCompositionstart:bt,onCompositionupdate:Ct,onCompositionend:kt,onInput:tt,onFocus:B[2]||(B[2]=(...H)=>u($)&&u($)(...H)),onBlur:B[3]||(B[3]=(...H)=>u(se)&&u(se)(...H)),onChange:yt,onKeydown:Et}),null,16,wo),u(be)?(k(),M("span",{key:0,style:Me(q.value),class:N(u(c).e("count"))},X(u(et))+" / "+X(u(i).maxlength),7)):D("v-if",!0)],64))],16,No)),[[ve,g.type!=="hidden"]])}});var xo=ce(Do,[["__file","/home/runner/work/element-plus/element-plus/packages/components/input/src/input.vue"]]);const Bo=Ut(xo),ut="_trap-focus-children",pe=[],Ot=e=>{if(pe.length===0)return;const t=pe[pe.length-1][ut];if(t.length>0&&e.code===ie.tab){if(t.length===1){e.preventDefault(),document.activeElement!==t[0]&&t[0].focus();return}const o=e.shiftKey,n=e.target===t[0],a=e.target===t[t.length-1];n&&o&&(e.preventDefault(),t[t.length-1].focus()),a&&!o&&(e.preventDefault(),t[0].focus())}},Io={beforeMount(e){e[ut]=It(e),pe.push(e),pe.length<=1&&document.addEventListener("keydown",Ot)},updated(e){W(()=>{e[ut]=It(e)})},unmounted(){pe.shift(),pe.length===0&&document.removeEventListener("keydown",Ot)}},Jt={modelValue:{type:[Number,String,Boolean],default:void 0},label:{type:[String,Boolean,Number,Object]},indeterminate:Boolean,disabled:Boolean,checked:Boolean,name:{type:String,default:void 0},trueLabel:{type:[String,Number],default:void 0},falseLabel:{type:[String,Number],default:void 0},id:{type:String,default:void 0},controls:{type:String,default:void 0},border:Boolean,size:pt,tabindex:[String,Number],validateEvent:{type:Boolean,default:!0}},Qt={[ye]:e=>ue(e)||Ge(e)||lt(e),change:e=>ue(e)||Ge(e)||lt(e)},xe=Symbol("checkboxGroupContextKey"),Ko=({model:e,isChecked:t})=>{const o=ae(xe,void 0),n=w(()=>{var s,l;const r=(s=o==null?void 0:o.max)==null?void 0:s.value,v=(l=o==null?void 0:o.min)==null?void 0:l.value;return!Ye(r)&&e.value.length>=r&&!t.value||!Ye(v)&&e.value.length<=v&&t.value});return{isDisabled:Ht(w(()=>(o==null?void 0:o.disabled.value)||n.value)),isLimitDisabled:n}},$o=(e,{model:t,isLimitExceeded:o,hasOwnLabel:n,isDisabled:a,isLabeledByFormItem:s})=>{const l=ae(xe,void 0),{formItem:r}=Qe(),{emit:v}=De();function i(d){var c,b;return d===e.trueLabel||d===!0?(c=e.trueLabel)!=null?c:!0:(b=e.falseLabel)!=null?b:!1}function p(d,c){v("change",i(d),c)}function m(d){if(o.value)return;const c=d.target;v("change",i(c.checked),d)}async function f(d){o.value||!n.value&&!a.value&&s.value&&(d.composedPath().some(C=>C.tagName==="LABEL")||(t.value=i([!1,e.falseLabel].includes(t.value)),await W(),p(t.value,d)))}const h=w(()=>(l==null?void 0:l.validateEvent)||e.validateEvent);return P(()=>e.modelValue,()=>{h.value&&(r==null||r.validate("change").catch(d=>We()))}),{handleChange:m,onClickRoot:f}},Mo=e=>{const t=T(!1),{emit:o}=De(),n=ae(xe,void 0),a=w(()=>Ye(n)===!1),s=T(!1);return{model:w({get(){var r,v;return a.value?(r=n==null?void 0:n.modelValue)==null?void 0:r.value:(v=e.modelValue)!=null?v:t.value},set(r){var v,i;a.value&&Le(r)?(s.value=((v=n==null?void 0:n.max)==null?void 0:v.value)!==void 0&&r.length>(n==null?void 0:n.max.value),s.value===!1&&((i=n==null?void 0:n.changeEvent)==null||i.call(n,r))):(o(ye,r),t.value=r)}}),isGroup:a,isLimitExceeded:s}},To=(e,t,{model:o})=>{const n=ae(xe,void 0),a=T(!1),s=w(()=>{const i=o.value;return lt(i)?i:Le(i)?Te(e.label)?i.map(Kt).some(p=>Wn(p,e.label)):i.map(Kt).includes(e.label):i!=null?i===e.trueLabel:!!i}),l=st(w(()=>{var i;return(i=n==null?void 0:n.size)==null?void 0:i.value}),{prop:!0}),r=st(w(()=>{var i;return(i=n==null?void 0:n.size)==null?void 0:i.value})),v=w(()=>!!(t.default||e.label));return{checkboxButtonSize:l,isChecked:s,isFocused:a,checkboxSize:r,hasOwnLabel:v}},Lo=(e,{model:t})=>{function o(){Le(t.value)&&!t.value.includes(e.label)?t.value.push(e.label):t.value=e.trueLabel||!0}e.checked&&o()},_t=(e,t)=>{const{formItem:o}=Qe(),{model:n,isGroup:a,isLimitExceeded:s}=Mo(e),{isFocused:l,isChecked:r,checkboxButtonSize:v,checkboxSize:i,hasOwnLabel:p}=To(e,t,{model:n}),{isDisabled:m}=Ko({model:n,isChecked:r}),{inputId:f,isLabeledByFormItem:h}=mt(e,{formItemContext:o,disableIdGeneration:p,disableIdManagement:a}),{handleChange:d,onClickRoot:c}=$o(e,{model:n,isLimitExceeded:s,hasOwnLabel:p,isDisabled:m,isLabeledByFormItem:h});return Lo(e,{model:n}),{inputId:f,isLabeledByFormItem:h,isChecked:r,isDisabled:m,isFocused:l,checkboxButtonSize:v,checkboxSize:i,hasOwnLabel:p,model:n,handleChange:d,onClickRoot:c}},Ao=["tabindex","role","aria-checked"],zo=["id","aria-hidden","name","tabindex","disabled","true-value","false-value"],Oo=["id","aria-hidden","disabled","value","name","tabindex"],Po=Z({name:"ElCheckbox"}),Fo=Z({...Po,props:Jt,emits:Qt,setup(e){const t=e,o=vt(),{inputId:n,isLabeledByFormItem:a,isChecked:s,isDisabled:l,isFocused:r,checkboxSize:v,hasOwnLabel:i,model:p,handleChange:m,onClickRoot:f}=_t(t,o),h=_("checkbox"),d=w(()=>[h.b(),h.m(v.value),h.is("disabled",l.value),h.is("bordered",t.border),h.is("checked",s.value)]),c=w(()=>[h.e("input"),h.is("disabled",l.value),h.is("checked",s.value),h.is("indeterminate",t.indeterminate),h.is("focus",r.value)]);return(b,C)=>(k(),K(ne(!u(i)&&u(a)?"span":"label"),{class:N(u(d)),"aria-controls":b.indeterminate?b.controls:null,onClick:u(f)},{default:O(()=>[A("span",{class:N(u(c)),tabindex:b.indeterminate?0:void 0,role:b.indeterminate?"checkbox":void 0,"aria-checked":b.indeterminate?"mixed":void 0},[b.trueLabel||b.falseLabel?oe((k(),M("input",{key:0,id:u(n),"onUpdate:modelValue":C[0]||(C[0]=S=>$e(p)?p.value=S:null),class:N(u(h).e("original")),type:"checkbox","aria-hidden":b.indeterminate?"true":"false",name:b.name,tabindex:b.tabindex,disabled:u(l),"true-value":b.trueLabel,"false-value":b.falseLabel,onChange:C[1]||(C[1]=(...S)=>u(m)&&u(m)(...S)),onFocus:C[2]||(C[2]=S=>r.value=!0),onBlur:C[3]||(C[3]=S=>r.value=!1),onClick:C[4]||(C[4]=R(()=>{},["stop"]))},null,42,zo)),[[Xe,u(p)]]):oe((k(),M("input",{key:1,id:u(n),"onUpdate:modelValue":C[5]||(C[5]=S=>$e(p)?p.value=S:null),class:N(u(h).e("original")),type:"checkbox","aria-hidden":b.indeterminate?"true":"false",disabled:u(l),value:b.label,name:b.name,tabindex:b.tabindex,onChange:C[6]||(C[6]=(...S)=>u(m)&&u(m)(...S)),onFocus:C[7]||(C[7]=S=>r.value=!0),onBlur:C[8]||(C[8]=S=>r.value=!1),onClick:C[9]||(C[9]=R(()=>{},["stop"]))},null,42,Oo)),[[Xe,u(p)]]),A("span",{class:N(u(h).e("inner"))},null,2)],10,Ao),u(i)?(k(),M("span",{key:0,class:N(u(h).e("label"))},[te(b.$slots,"default"),b.$slots.default?D("v-if",!0):(k(),M(Ee,{key:0},[me(X(b.label),1)],64))],2)):D("v-if",!0)]),_:3},8,["class","aria-controls","onClick"]))}});var Ro=ce(Fo,[["__file","/home/runner/work/element-plus/element-plus/packages/components/checkbox/src/checkbox.vue"]]);const Vo=["name","tabindex","disabled","true-value","false-value"],Ho=["name","tabindex","disabled","value"],Uo=Z({name:"ElCheckboxButton"}),qo=Z({...Uo,props:Jt,emits:Qt,setup(e){const t=e,o=vt(),{isFocused:n,isChecked:a,isDisabled:s,checkboxButtonSize:l,model:r,handleChange:v}=_t(t,o),i=ae(xe,void 0),p=_("checkbox"),m=w(()=>{var h,d,c,b;const C=(d=(h=i==null?void 0:i.fill)==null?void 0:h.value)!=null?d:"";return{backgroundColor:C,borderColor:C,color:(b=(c=i==null?void 0:i.textColor)==null?void 0:c.value)!=null?b:"",boxShadow:C?`-1px 0 0 0 ${C}`:void 0}}),f=w(()=>[p.b("button"),p.bm("button",l.value),p.is("disabled",s.value),p.is("checked",a.value),p.is("focus",n.value)]);return(h,d)=>(k(),M("label",{class:N(u(f))},[h.trueLabel||h.falseLabel?oe((k(),M("input",{key:0,"onUpdate:modelValue":d[0]||(d[0]=c=>$e(r)?r.value=c:null),class:N(u(p).be("button","original")),type:"checkbox",name:h.name,tabindex:h.tabindex,disabled:u(s),"true-value":h.trueLabel,"false-value":h.falseLabel,onChange:d[1]||(d[1]=(...c)=>u(v)&&u(v)(...c)),onFocus:d[2]||(d[2]=c=>n.value=!0),onBlur:d[3]||(d[3]=c=>n.value=!1),onClick:d[4]||(d[4]=R(()=>{},["stop"]))},null,42,Vo)),[[Xe,u(r)]]):oe((k(),M("input",{key:1,"onUpdate:modelValue":d[5]||(d[5]=c=>$e(r)?r.value=c:null),class:N(u(p).be("button","original")),type:"checkbox",name:h.name,tabindex:h.tabindex,disabled:u(s),value:h.label,onChange:d[6]||(d[6]=(...c)=>u(v)&&u(v)(...c)),onFocus:d[7]||(d[7]=c=>n.value=!0),onBlur:d[8]||(d[8]=c=>n.value=!1),onClick:d[9]||(d[9]=R(()=>{},["stop"]))},null,42,Ho)),[[Xe,u(r)]]),h.$slots.default||h.label?(k(),M("span",{key:2,class:N(u(p).be("button","inner")),style:Me(u(a)?u(m):void 0)},[te(h.$slots,"default",{},()=>[me(X(h.label),1)])],6)):D("v-if",!0)],2))}});var en=ce(qo,[["__file","/home/runner/work/element-plus/element-plus/packages/components/checkbox/src/checkbox-button.vue"]]);const jo=ht({modelValue:{type:Ne(Array),default:()=>[]},disabled:Boolean,min:Number,max:Number,size:pt,label:String,fill:String,textColor:String,tag:{type:String,default:"div"},validateEvent:{type:Boolean,default:!0}}),Go={[ye]:e=>Le(e),change:e=>Le(e)},Wo=Z({name:"ElCheckboxGroup"}),Yo=Z({...Wo,props:jo,emits:Go,setup(e,{emit:t}){const o=e,n=_("checkbox"),{formItem:a}=Qe(),{inputId:s,isLabeledByFormItem:l}=mt(o,{formItemContext:a}),r=async i=>{t(ye,i),await W(),t("change",i)},v=w({get(){return o.modelValue},set(i){r(i)}});return Se(xe,{...lo(qt(o),["size","min","max","disabled","validateEvent","fill","textColor"]),modelValue:v,changeEvent:r}),P(()=>o.modelValue,()=>{o.validateEvent&&(a==null||a.validate("change").catch(i=>We()))}),(i,p)=>{var m;return k(),K(ne(i.tag),{id:u(s),class:N(u(n).b("group")),role:"group","aria-label":u(l)?void 0:i.label||"checkbox-group","aria-labelledby":u(l)?(m=u(a))==null?void 0:m.labelId:void 0},{default:O(()=>[te(i.$slots,"default")]),_:3},8,["id","class","aria-label","aria-labelledby"])}}});var tn=ce(Yo,[["__file","/home/runner/work/element-plus/element-plus/packages/components/checkbox/src/checkbox-group.vue"]]);const nn=Ut(Ro,{CheckboxButton:en,CheckboxGroup:tn});jt(en);jt(tn);const Xo=ht({mask:{type:Boolean,default:!0},customMaskEvent:{type:Boolean,default:!1},overlayClass:{type:Ne([String,Array,Object])},zIndex:{type:Ne([String,Number])}}),Zo={click:e=>e instanceof MouseEvent},Jo="overlay";var Qo=Z({name:"ElOverlay",props:Xo,emits:Zo,setup(e,{slots:t,emit:o}){const n=_(Jo),a=v=>{o("click",v)},{onClick:s,onMousedown:l,onMouseup:r}=Zt(e.customMaskEvent?void 0:a);return()=>e.mask?Q("div",{class:[n.b(),e.overlayClass],style:{zIndex:e.zIndex},onClick:s,onMousedown:l,onMouseup:r},[te(t,"default")],ot.STYLE|ot.CLASS|ot.PROPS,["onClick","onMouseup","onMousedown"]):rt("div",{class:e.overlayClass,style:{zIndex:e.zIndex,position:"fixed",top:"0px",right:"0px",bottom:"0px",left:"0px"}},[te(t,"default")])}});const _o=Qo,we="$treeNodeId",Pt=function(e,t){!t||t[we]||Object.defineProperty(t,we,{value:e.id,enumerable:!1,configurable:!1,writable:!1})},gt=function(e,t){return e?t[e]:t[we]},ct=(e,t,o)=>{const n=e.value.currentNode;o();const a=e.value.currentNode;n!==a&&t("current-change",a?a.data:null,a)},ft=e=>{let t=!0,o=!0,n=!0;for(let a=0,s=e.length;a<s;a++){const l=e[a];(l.checked!==!0||l.indeterminate)&&(t=!1,l.disabled||(n=!1)),(l.checked!==!1||l.indeterminate)&&(o=!1)}return{all:t,none:o,allWithoutDisable:n,half:!t&&!o}},qe=function(e){if(e.childNodes.length===0||e.loading)return;const{all:t,none:o,half:n}=ft(e.childNodes);t?(e.checked=!0,e.indeterminate=!1):n?(e.checked=!1,e.indeterminate=!0):o&&(e.checked=!1,e.indeterminate=!1);const a=e.parent;!a||a.level===0||e.store.checkStrictly||qe(a)},Ve=function(e,t){const o=e.store.props,n=e.data||{},a=o[t];if(typeof a=="function")return a(n,e);if(typeof a=="string")return n[a];if(typeof a>"u"){const s=n[t];return s===void 0?"":s}};let ea=0;class ge{constructor(t){this.id=ea++,this.text=null,this.checked=!1,this.indeterminate=!1,this.data=null,this.expanded=!1,this.parent=null,this.visible=!0,this.isCurrent=!1,this.canFocus=!1;for(const o in t)Ae(t,o)&&(this[o]=t[o]);this.level=0,this.loaded=!1,this.childNodes=[],this.loading=!1,this.parent&&(this.level=this.parent.level+1)}initialize(){const t=this.store;if(!t)throw new Error("[Node]store is required!");t.registerNode(this);const o=t.props;if(o&&typeof o.isLeaf<"u"){const s=Ve(this,"isLeaf");typeof s=="boolean"&&(this.isLeafByUser=s)}if(t.lazy!==!0&&this.data?(this.setData(this.data),t.defaultExpandAll&&(this.expanded=!0,this.canFocus=!0)):this.level>0&&t.lazy&&t.defaultExpandAll&&this.expand(),Array.isArray(this.data)||Pt(this,this.data),!this.data)return;const n=t.defaultExpandedKeys,a=t.key;a&&n&&n.includes(this.key)&&this.expand(null,t.autoExpandParent),a&&t.currentNodeKey!==void 0&&this.key===t.currentNodeKey&&(t.currentNode=this,t.currentNode.isCurrent=!0),t.lazy&&t._initDefaultCheckedNode(this),this.updateLeafState(),this.parent&&(this.level===1||this.parent.expanded===!0)&&(this.canFocus=!0)}setData(t){Array.isArray(t)||Pt(this,t),this.data=t,this.childNodes=[];let o;this.level===0&&Array.isArray(this.data)?o=this.data:o=Ve(this,"children")||[];for(let n=0,a=o.length;n<a;n++)this.insertChild({data:o[n]})}get label(){return Ve(this,"label")}get key(){const t=this.store.key;return this.data?this.data[t]:null}get disabled(){return Ve(this,"disabled")}get nextSibling(){const t=this.parent;if(t){const o=t.childNodes.indexOf(this);if(o>-1)return t.childNodes[o+1]}return null}get previousSibling(){const t=this.parent;if(t){const o=t.childNodes.indexOf(this);if(o>-1)return o>0?t.childNodes[o-1]:null}return null}contains(t,o=!0){return(this.childNodes||[]).some(n=>n===t||o&&n.contains(t))}remove(){const t=this.parent;t&&t.removeChild(this)}insertChild(t,o,n){if(!t)throw new Error("InsertChild error: child is required.");if(!(t instanceof ge)){if(!n){const a=this.getChildren(!0);a.includes(t.data)||(typeof o>"u"||o<0?a.push(t.data):a.splice(o,0,t.data))}Object.assign(t,{parent:this,store:this.store}),t=Ze(new ge(t)),t instanceof ge&&t.initialize()}t.level=this.level+1,typeof o>"u"||o<0?this.childNodes.push(t):this.childNodes.splice(o,0,t),this.updateLeafState()}insertBefore(t,o){let n;o&&(n=this.childNodes.indexOf(o)),this.insertChild(t,n)}insertAfter(t,o){let n;o&&(n=this.childNodes.indexOf(o),n!==-1&&(n+=1)),this.insertChild(t,n)}removeChild(t){const o=this.getChildren()||[],n=o.indexOf(t.data);n>-1&&o.splice(n,1);const a=this.childNodes.indexOf(t);a>-1&&(this.store&&this.store.deregisterNode(t),t.parent=null,this.childNodes.splice(a,1)),this.updateLeafState()}removeChildByData(t){let o=null;for(let n=0;n<this.childNodes.length;n++)if(this.childNodes[n].data===t){o=this.childNodes[n];break}o&&this.removeChild(o)}expand(t,o){const n=()=>{if(o){let a=this.parent;for(;a.level>0;)a.expanded=!0,a=a.parent}this.expanded=!0,t&&t(),this.childNodes.forEach(a=>{a.canFocus=!0})};this.shouldLoadData()?this.loadData(a=>{Array.isArray(a)&&(this.checked?this.setChecked(!0,!0):this.store.checkStrictly||qe(this),n())}):n()}doCreateChildren(t,o={}){t.forEach(n=>{this.insertChild(Object.assign({data:n},o),void 0,!0)})}collapse(){this.expanded=!1,this.childNodes.forEach(t=>{t.canFocus=!1})}shouldLoadData(){return this.store.lazy===!0&&this.store.load&&!this.loaded}updateLeafState(){if(this.store.lazy===!0&&this.loaded!==!0&&typeof this.isLeafByUser<"u"){this.isLeaf=this.isLeafByUser;return}const t=this.childNodes;if(!this.store.lazy||this.store.lazy===!0&&this.loaded===!0){this.isLeaf=!t||t.length===0;return}this.isLeaf=!1}setChecked(t,o,n,a){if(this.indeterminate=t==="half",this.checked=t===!0,this.store.checkStrictly)return;if(!(this.shouldLoadData()&&!this.store.checkDescendants)){const{all:l,allWithoutDisable:r}=ft(this.childNodes);!this.isLeaf&&!l&&r&&(this.checked=!1,t=!1);const v=()=>{if(o){const i=this.childNodes;for(let f=0,h=i.length;f<h;f++){const d=i[f];a=a||t!==!1;const c=d.disabled?d.checked:a;d.setChecked(c,o,!0,a)}const{half:p,all:m}=ft(i);m||(this.checked=m,this.indeterminate=p)}};if(this.shouldLoadData()){this.loadData(()=>{v(),qe(this)},{checked:t!==!1});return}else v()}const s=this.parent;!s||s.level===0||n||qe(s)}getChildren(t=!1){if(this.level===0)return this.data;const o=this.data;if(!o)return null;const n=this.store.props;let a="children";return n&&(a=n.children||"children"),o[a]===void 0&&(o[a]=null),t&&!o[a]&&(o[a]=[]),o[a]}updateChildren(){const t=this.getChildren()||[],o=this.childNodes.map(s=>s.data),n={},a=[];t.forEach((s,l)=>{const r=s[we];!!r&&o.findIndex(i=>i[we]===r)>=0?n[r]={index:l,data:s}:a.push({index:l,data:s})}),this.store.lazy||o.forEach(s=>{n[s[we]]||this.removeChildByData(s)}),a.forEach(({index:s,data:l})=>{this.insertChild({data:l},s)}),this.updateLeafState()}loadData(t,o={}){if(this.store.lazy===!0&&this.store.load&&!this.loaded&&(!this.loading||Object.keys(o).length)){this.loading=!0;const n=a=>{this.childNodes=[],this.doCreateChildren(a,o),this.loaded=!0,this.loading=!1,this.updateLeafState(),t&&t.call(this,a)};this.store.load(this,n)}else t&&t.call(this)}}class ta{constructor(t){this.currentNode=null,this.currentNodeKey=null;for(const o in t)Ae(t,o)&&(this[o]=t[o]);this.nodesMap={}}initialize(){if(this.root=new ge({data:this.data,store:this}),this.root.initialize(),this.lazy&&this.load){const t=this.load;t(this.root,o=>{this.root.doCreateChildren(o),this._initDefaultCheckedNodes()})}else this._initDefaultCheckedNodes()}filter(t){const o=this.filterNodeMethod,n=this.lazy,a=function(s){const l=s.root?s.root.childNodes:s.childNodes;if(l.forEach(r=>{r.visible=o.call(r,t,r.data,r),a(r)}),!s.visible&&l.length){let r=!0;r=!l.some(v=>v.visible),s.root?s.root.visible=r===!1:s.visible=r===!1}t&&s.visible&&!s.isLeaf&&!n&&s.expand()};a(this)}setData(t){t!==this.root.data?(this.root.setData(t),this._initDefaultCheckedNodes()):this.root.updateChildren()}getNode(t){if(t instanceof ge)return t;const o=Te(t)?gt(this.key,t):t;return this.nodesMap[o]||null}insertBefore(t,o){const n=this.getNode(o);n.parent.insertBefore({data:t},n)}insertAfter(t,o){const n=this.getNode(o);n.parent.insertAfter({data:t},n)}remove(t){const o=this.getNode(t);o&&o.parent&&(o===this.currentNode&&(this.currentNode=null),o.parent.removeChild(o))}append(t,o){const n=o?this.getNode(o):this.root;n&&n.insertChild({data:t})}_initDefaultCheckedNodes(){const t=this.defaultCheckedKeys||[],o=this.nodesMap;t.forEach(n=>{const a=o[n];a&&a.setChecked(!0,!this.checkStrictly)})}_initDefaultCheckedNode(t){(this.defaultCheckedKeys||[]).includes(t.key)&&t.setChecked(!0,!this.checkStrictly)}setDefaultCheckedKey(t){t!==this.defaultCheckedKeys&&(this.defaultCheckedKeys=t,this._initDefaultCheckedNodes())}registerNode(t){const o=this.key;!t||!t.data||(o?t.key!==void 0&&(this.nodesMap[t.key]=t):this.nodesMap[t.id]=t)}deregisterNode(t){!this.key||!t||!t.data||(t.childNodes.forEach(n=>{this.deregisterNode(n)}),delete this.nodesMap[t.key])}getCheckedNodes(t=!1,o=!1){const n=[],a=function(s){(s.root?s.root.childNodes:s.childNodes).forEach(r=>{(r.checked||o&&r.indeterminate)&&(!t||t&&r.isLeaf)&&n.push(r.data),a(r)})};return a(this),n}getCheckedKeys(t=!1){return this.getCheckedNodes(t).map(o=>(o||{})[this.key])}getHalfCheckedNodes(){const t=[],o=function(n){(n.root?n.root.childNodes:n.childNodes).forEach(s=>{s.indeterminate&&t.push(s.data),o(s)})};return o(this),t}getHalfCheckedKeys(){return this.getHalfCheckedNodes().map(t=>(t||{})[this.key])}_getAllNodes(){const t=[],o=this.nodesMap;for(const n in o)Ae(o,n)&&t.push(o[n]);return t}updateChildren(t,o){const n=this.nodesMap[t];if(!n)return;const a=n.childNodes;for(let s=a.length-1;s>=0;s--){const l=a[s];this.remove(l.data)}for(let s=0,l=o.length;s<l;s++){const r=o[s];this.append(r,n.data)}}_setCheckedKeys(t,o=!1,n){const a=this._getAllNodes().sort((r,v)=>v.level-r.level),s=Object.create(null),l=Object.keys(n);a.forEach(r=>r.setChecked(!1,!1));for(let r=0,v=a.length;r<v;r++){const i=a[r],p=i.data[t].toString();if(!l.includes(p)){i.checked&&!s[p]&&i.setChecked(!1,!1);continue}let f=i.parent;for(;f&&f.level>0;)s[f.data[t]]=!0,f=f.parent;if(i.isLeaf||this.checkStrictly){i.setChecked(!0,!1);continue}if(i.setChecked(!0,!0),o){i.setChecked(!1,!1);const h=function(d){d.childNodes.forEach(b=>{b.isLeaf||b.setChecked(!1,!1),h(b)})};h(i)}}}setCheckedNodes(t,o=!1){const n=this.key,a={};t.forEach(s=>{a[(s||{})[n]]=!0}),this._setCheckedKeys(n,o,a)}setCheckedKeys(t,o=!1){this.defaultCheckedKeys=t;const n=this.key,a={};t.forEach(s=>{a[s]=!0}),this._setCheckedKeys(n,o,a)}setDefaultExpandedKeys(t){t=t||[],this.defaultExpandedKeys=t,t.forEach(o=>{const n=this.getNode(o);n&&n.expand(null,this.autoExpandParent)})}setChecked(t,o,n){const a=this.getNode(t);a&&a.setChecked(!!o,n)}getCurrentNode(){return this.currentNode}setCurrentNode(t){const o=this.currentNode;o&&(o.isCurrent=!1),this.currentNode=t,this.currentNode.isCurrent=!0}setUserCurrentNode(t,o=!0){const n=t[this.key],a=this.nodesMap[n];this.setCurrentNode(a),o&&this.currentNode.level>1&&this.currentNode.parent.expand(null,!0)}setCurrentNodeKey(t,o=!0){if(t==null){this.currentNode&&(this.currentNode.isCurrent=!1),this.currentNode=null;return}const n=this.getNode(t);n&&(this.setCurrentNode(n),o&&this.currentNode.level>1&&this.currentNode.parent.expand(null,!0))}}const na=Z({name:"ElTreeNodeContent",props:{node:{type:Object,required:!0},renderContent:Function},setup(e){const t=_("tree"),o=ae("NodeInstance"),n=ae("RootTree");return()=>{const a=e.node,{data:s,store:l}=a;return e.renderContent?e.renderContent(rt,{_self:o,node:a,data:s,store:l}):n.ctx.slots.default?n.ctx.slots.default({node:a,data:s}):rt("span",{class:t.be("node","label")},[a.label])}}});var oa=ce(na,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tree/src/tree-node-content.vue"]]);function on(e){const t=ae("TreeNodeMap",null),o={treeNodeExpand:n=>{e.node!==n&&e.node.collapse()},children:[]};return t&&t.children.push(o),Se("TreeNodeMap",o),{broadcastExpanded:n=>{if(e.accordion)for(const a of o.children)a.treeNodeExpand(n)}}}const an=Symbol("dragEvents");function aa({props:e,ctx:t,el$:o,dropIndicator$:n,store:a}){const s=_("tree"),l=T({showDropIndicator:!1,draggingNode:null,dropNode:null,allowDrop:!0,dropType:null});return Se(an,{treeNodeDragStart:({event:p,treeNode:m})=>{if(typeof e.allowDrag=="function"&&!e.allowDrag(m.node))return p.preventDefault(),!1;p.dataTransfer.effectAllowed="move";try{p.dataTransfer.setData("text/plain","")}catch{}l.value.draggingNode=m,t.emit("node-drag-start",m.node,p)},treeNodeDragOver:({event:p,treeNode:m})=>{const f=m,h=l.value.dropNode;h&&h.node.id!==f.node.id&&He(h.$el,s.is("drop-inner"));const d=l.value.draggingNode;if(!d||!f)return;let c=!0,b=!0,C=!0,S=!0;typeof e.allowDrop=="function"&&(c=e.allowDrop(d.node,f.node,"prev"),S=b=e.allowDrop(d.node,f.node,"inner"),C=e.allowDrop(d.node,f.node,"next")),p.dataTransfer.dropEffect=b||c||C?"move":"none",(c||b||C)&&(h==null?void 0:h.node.id)!==f.node.id&&(h&&t.emit("node-drag-leave",d.node,h.node,p),t.emit("node-drag-enter",d.node,f.node,p)),(c||b||C)&&(l.value.dropNode=f),f.node.nextSibling===d.node&&(C=!1),f.node.previousSibling===d.node&&(c=!1),f.node.contains(d.node,!1)&&(b=!1),(d.node===f.node||d.node.contains(f.node))&&(c=!1,b=!1,C=!1);const F=f.$el.querySelector(`.${s.be("node","content")}`).getBoundingClientRect(),U=o.value.getBoundingClientRect();let z;const q=c?b?.25:C?.45:1:-1,j=C?b?.75:c?.55:0:1;let V=-9999;const E=p.clientY-F.top;E<F.height*q?z="before":E>F.height*j?z="after":b?z="inner":z="none";const I=f.$el.querySelector(`.${s.be("node","expand-icon")}`).getBoundingClientRect(),$=n.value;z==="before"?V=I.top-U.top:z==="after"&&(V=I.bottom-U.top),$.style.top=`${V}px`,$.style.left=`${I.right-U.left}px`,z==="inner"?Rt(f.$el,s.is("drop-inner")):He(f.$el,s.is("drop-inner")),l.value.showDropIndicator=z==="before"||z==="after",l.value.allowDrop=l.value.showDropIndicator||S,l.value.dropType=z,t.emit("node-drag-over",d.node,f.node,p)},treeNodeDragEnd:p=>{const{draggingNode:m,dropType:f,dropNode:h}=l.value;if(p.preventDefault(),p.dataTransfer.dropEffect="move",m&&h){const d={data:m.node.data};f!=="none"&&m.node.remove(),f==="before"?h.node.parent.insertBefore(d,h.node):f==="after"?h.node.parent.insertAfter(d,h.node):f==="inner"&&h.node.insertChild(d),f!=="none"&&a.value.registerNode(d),He(h.$el,s.is("drop-inner")),t.emit("node-drag-end",m.node,h.node,f,p),f!=="none"&&t.emit("node-drop",m.node,h.node,f,p)}m&&!h&&t.emit("node-drag-end",m.node,null,f,p),l.value.showDropIndicator=!1,l.value.draggingNode=null,l.value.dropNode=null,l.value.allowDrop=!0}}),{dragState:l}}const sa=Z({name:"ElTreeNode",components:{ElCollapseTransition:An,ElCheckbox:nn,NodeContent:oa,ElIcon:he,Loading:zn},props:{node:{type:ge,default:()=>({})},props:{type:Object,default:()=>({})},accordion:Boolean,renderContent:Function,renderAfterExpand:Boolean,showCheckbox:{type:Boolean,default:!1}},emits:["node-expand"],setup(e,t){const o=_("tree"),{broadcastExpanded:n}=on(e),a=ae("RootTree"),s=T(!1),l=T(!1),r=T(null),v=T(null),i=T(null),p=ae(an),m=De();Se("NodeInstance",m),e.node.expanded&&(s.value=!0,l.value=!0);const f=a.props.props.children||"children";P(()=>{const E=e.node.data[f];return E&&[...E]},()=>{e.node.updateChildren()}),P(()=>e.node.indeterminate,E=>{c(e.node.checked,E)}),P(()=>e.node.checked,E=>{c(E,e.node.indeterminate)}),P(()=>e.node.expanded,E=>{W(()=>s.value=E),E&&(l.value=!0)});const h=E=>gt(a.props.nodeKey,E.data),d=E=>{const I=e.props.class;if(!I)return{};let $;if(it(I)){const{data:se}=E;$=I(se,E)}else $=I;return ue($)?{[$]:!0}:$},c=(E,I)=>{(r.value!==E||v.value!==I)&&a.ctx.emit("check-change",e.node.data,E,I),r.value=E,v.value=I},b=E=>{ct(a.store,a.ctx.emit,()=>a.store.value.setCurrentNode(e.node)),a.currentNode.value=e.node,a.props.expandOnClickNode&&S(),a.props.checkOnClickNode&&!e.node.disabled&&F(null,{target:{checked:!e.node.checked}}),a.ctx.emit("node-click",e.node.data,e.node,m,E)},C=E=>{a.instance.vnode.props.onNodeContextmenu&&(E.stopPropagation(),E.preventDefault()),a.ctx.emit("node-contextmenu",E,e.node.data,e.node,m)},S=()=>{e.node.isLeaf||(s.value?(a.ctx.emit("node-collapse",e.node.data,e.node,m),e.node.collapse()):(e.node.expand(),t.emit("node-expand",e.node.data,e.node,m)))},F=(E,I)=>{e.node.setChecked(I.target.checked,!a.props.checkStrictly),W(()=>{const $=a.store.value;a.ctx.emit("check",e.node.data,{checkedNodes:$.getCheckedNodes(),checkedKeys:$.getCheckedKeys(),halfCheckedNodes:$.getHalfCheckedNodes(),halfCheckedKeys:$.getHalfCheckedKeys()})})};return{ns:o,node$:i,tree:a,expanded:s,childNodeRendered:l,oldChecked:r,oldIndeterminate:v,getNodeKey:h,getNodeClass:d,handleSelectChange:c,handleClick:b,handleContextMenu:C,handleExpandIconClick:S,handleCheckChange:F,handleChildNodeExpand:(E,I,$)=>{n(I),a.ctx.emit("node-expand",E,I,$)},handleDragStart:E=>{a.props.draggable&&p.treeNodeDragStart({event:E,treeNode:e})},handleDragOver:E=>{E.preventDefault(),a.props.draggable&&p.treeNodeDragOver({event:E,treeNode:{$el:i.value,node:e.node}})},handleDrop:E=>{E.preventDefault()},handleDragEnd:E=>{a.props.draggable&&p.treeNodeDragEnd(E)},CaretRight:On}}}),la=["aria-expanded","aria-disabled","aria-checked","draggable","data-key"],ra=["aria-expanded"];function ia(e,t,o,n,a,s){const l=Y("el-icon"),r=Y("el-checkbox"),v=Y("loading"),i=Y("node-content"),p=Y("el-tree-node"),m=Y("el-collapse-transition");return oe((k(),M("div",{ref:"node$",class:N([e.ns.b("node"),e.ns.is("expanded",e.expanded),e.ns.is("current",e.node.isCurrent),e.ns.is("hidden",!e.node.visible),e.ns.is("focusable",!e.node.disabled),e.ns.is("checked",!e.node.disabled&&e.node.checked),e.getNodeClass(e.node)]),role:"treeitem",tabindex:"-1","aria-expanded":e.expanded,"aria-disabled":e.node.disabled,"aria-checked":e.node.checked,draggable:e.tree.props.draggable,"data-key":e.getNodeKey(e.node),onClick:t[1]||(t[1]=R((...f)=>e.handleClick&&e.handleClick(...f),["stop"])),onContextmenu:t[2]||(t[2]=(...f)=>e.handleContextMenu&&e.handleContextMenu(...f)),onDragstart:t[3]||(t[3]=R((...f)=>e.handleDragStart&&e.handleDragStart(...f),["stop"])),onDragover:t[4]||(t[4]=R((...f)=>e.handleDragOver&&e.handleDragOver(...f),["stop"])),onDragend:t[5]||(t[5]=R((...f)=>e.handleDragEnd&&e.handleDragEnd(...f),["stop"])),onDrop:t[6]||(t[6]=R((...f)=>e.handleDrop&&e.handleDrop(...f),["stop"]))},[A("div",{class:N(e.ns.be("node","content")),style:Me({paddingLeft:(e.node.level-1)*e.tree.props.indent+"px"})},[e.tree.props.icon||e.CaretRight?(k(),K(l,{key:0,class:N([e.ns.be("node","expand-icon"),e.ns.is("leaf",e.node.isLeaf),{expanded:!e.node.isLeaf&&e.expanded}]),onClick:R(e.handleExpandIconClick,["stop"])},{default:O(()=>[(k(),K(ne(e.tree.props.icon||e.CaretRight)))]),_:1},8,["class","onClick"])):D("v-if",!0),e.showCheckbox?(k(),K(r,{key:1,"model-value":e.node.checked,indeterminate:e.node.indeterminate,disabled:!!e.node.disabled,onClick:t[0]||(t[0]=R(()=>{},["stop"])),onChange:e.handleCheckChange},null,8,["model-value","indeterminate","disabled","onChange"])):D("v-if",!0),e.node.loading?(k(),K(l,{key:2,class:N([e.ns.be("node","loading-icon"),e.ns.is("loading")])},{default:O(()=>[Q(v)]),_:1},8,["class"])):D("v-if",!0),Q(i,{node:e.node,"render-content":e.renderContent},null,8,["node","render-content"])],6),Q(m,null,{default:O(()=>[!e.renderAfterExpand||e.childNodeRendered?oe((k(),M("div",{key:0,class:N(e.ns.be("node","children")),role:"group","aria-expanded":e.expanded},[(k(!0),M(Ee,null,Gt(e.node.childNodes,f=>(k(),K(p,{key:e.getNodeKey(f),"render-content":e.renderContent,"render-after-expand":e.renderAfterExpand,"show-checkbox":e.showCheckbox,node:f,accordion:e.accordion,props:e.props,onNodeExpand:e.handleChildNodeExpand},null,8,["render-content","render-after-expand","show-checkbox","node","accordion","props","onNodeExpand"]))),128))],10,ra)),[[ve,e.expanded]]):D("v-if",!0)]),_:1})],42,la)),[[ve,e.node.visible]])}var da=ce(sa,[["render",ia],["__file","/home/runner/work/element-plus/element-plus/packages/components/tree/src/tree-node.vue"]]);function ua({el$:e},t){const o=_("tree"),n=ke([]),a=ke([]);Je(()=>{l()}),Pn(()=>{n.value=Array.from(e.value.querySelectorAll("[role=treeitem]")),a.value=Array.from(e.value.querySelectorAll("input[type=checkbox]"))}),P(a,r=>{r.forEach(v=>{v.setAttribute("tabindex","-1")})}),Vt(e,"keydown",r=>{const v=r.target;if(!v.className.includes(o.b("node")))return;const i=r.code;n.value=Array.from(e.value.querySelectorAll(`.${o.is("focusable")}[role=treeitem]`));const p=n.value.indexOf(v);let m;if([ie.up,ie.down].includes(i)){if(r.preventDefault(),i===ie.up){m=p===-1?0:p!==0?p-1:n.value.length-1;const h=m;for(;!t.value.getNode(n.value[m].dataset.key).canFocus;){if(m--,m===h){m=-1;break}m<0&&(m=n.value.length-1)}}else{m=p===-1?0:p<n.value.length-1?p+1:0;const h=m;for(;!t.value.getNode(n.value[m].dataset.key).canFocus;){if(m++,m===h){m=-1;break}m>=n.value.length&&(m=0)}}m!==-1&&n.value[m].focus()}[ie.left,ie.right].includes(i)&&(r.preventDefault(),v.click());const f=v.querySelector('[type="checkbox"]');[ie.enter,ie.space].includes(i)&&f&&(r.preventDefault(),f.click())});const l=()=>{var r;n.value=Array.from(e.value.querySelectorAll(`.${o.is("focusable")}[role=treeitem]`)),a.value=Array.from(e.value.querySelectorAll("input[type=checkbox]"));const v=e.value.querySelectorAll(`.${o.is("checked")}[role=treeitem]`);if(v.length){v[0].setAttribute("tabindex","0");return}(r=n.value[0])==null||r.setAttribute("tabindex","0")}}const ca=Z({name:"ElTree",components:{ElTreeNode:da},props:{data:{type:Array,default:()=>[]},emptyText:{type:String},renderAfterExpand:{type:Boolean,default:!0},nodeKey:String,checkStrictly:Boolean,defaultExpandAll:Boolean,expandOnClickNode:{type:Boolean,default:!0},checkOnClickNode:Boolean,checkDescendants:{type:Boolean,default:!1},autoExpandParent:{type:Boolean,default:!0},defaultCheckedKeys:Array,defaultExpandedKeys:Array,currentNodeKey:[String,Number],renderContent:Function,showCheckbox:{type:Boolean,default:!1},draggable:{type:Boolean,default:!1},allowDrag:Function,allowDrop:Function,props:{type:Object,default:()=>({children:"children",label:"label",disabled:"disabled"})},lazy:{type:Boolean,default:!1},highlightCurrent:Boolean,load:Function,filterNodeMethod:Function,accordion:Boolean,indent:{type:Number,default:18},icon:{type:at}},emits:["check-change","current-change","node-click","node-contextmenu","node-collapse","node-expand","check","node-drag-start","node-drag-end","node-drop","node-drag-leave","node-drag-enter","node-drag-over"],setup(e,t){const{t:o}=Fn(),n=_("tree"),a=T(new ta({key:e.nodeKey,data:e.data,lazy:e.lazy,props:e.props,load:e.load,currentNodeKey:e.currentNodeKey,checkStrictly:e.checkStrictly,checkDescendants:e.checkDescendants,defaultCheckedKeys:e.defaultCheckedKeys,defaultExpandedKeys:e.defaultExpandedKeys,autoExpandParent:e.autoExpandParent,defaultExpandAll:e.defaultExpandAll,filterNodeMethod:e.filterNodeMethod}));a.value.initialize();const s=T(a.value.root),l=T(null),r=T(null),v=T(null),{broadcastExpanded:i}=on(e),{dragState:p}=aa({props:e,ctx:t,el$:r,dropIndicator$:v,store:a});ua({el$:r},a);const m=w(()=>{const{childNodes:y}=s.value;return!y||y.length===0||y.every(({visible:x})=>!x)});P(()=>e.currentNodeKey,y=>{a.value.setCurrentNodeKey(y)}),P(()=>e.defaultCheckedKeys,y=>{a.value.setDefaultCheckedKey(y)}),P(()=>e.defaultExpandedKeys,y=>{a.value.setDefaultExpandedKeys(y)}),P(()=>e.data,y=>{a.value.setData(y)},{deep:!0}),P(()=>e.checkStrictly,y=>{a.value.checkStrictly=y});const f=y=>{if(!e.filterNodeMethod)throw new Error("[Tree] filterNodeMethod is required when filter");a.value.filter(y)},h=y=>gt(e.nodeKey,y.data),d=y=>{if(!e.nodeKey)throw new Error("[Tree] nodeKey is required in getNodePath");const x=a.value.getNode(y);if(!x)return[];const G=[x.data];let le=x.parent;for(;le&&le!==s.value;)G.push(le.data),le=le.parent;return G.reverse()},c=(y,x)=>a.value.getCheckedNodes(y,x),b=y=>a.value.getCheckedKeys(y),C=()=>{const y=a.value.getCurrentNode();return y?y.data:null},S=()=>{if(!e.nodeKey)throw new Error("[Tree] nodeKey is required in getCurrentKey");const y=C();return y?y[e.nodeKey]:null},F=(y,x)=>{if(!e.nodeKey)throw new Error("[Tree] nodeKey is required in setCheckedNodes");a.value.setCheckedNodes(y,x)},U=(y,x)=>{if(!e.nodeKey)throw new Error("[Tree] nodeKey is required in setCheckedKeys");a.value.setCheckedKeys(y,x)},z=(y,x,G)=>{a.value.setChecked(y,x,G)},q=()=>a.value.getHalfCheckedNodes(),j=()=>a.value.getHalfCheckedKeys(),V=(y,x=!0)=>{if(!e.nodeKey)throw new Error("[Tree] nodeKey is required in setCurrentNode");ct(a,t.emit,()=>a.value.setUserCurrentNode(y,x))},E=(y,x=!0)=>{if(!e.nodeKey)throw new Error("[Tree] nodeKey is required in setCurrentKey");ct(a,t.emit,()=>a.value.setCurrentNodeKey(y,x))},I=y=>a.value.getNode(y),$=y=>{a.value.remove(y)},se=(y,x)=>{a.value.append(y,x)},fe=(y,x)=>{a.value.insertBefore(y,x)},re=(y,x)=>{a.value.insertAfter(y,x)},L=(y,x,G)=>{i(x),t.emit("node-expand",y,x,G)},J=(y,x)=>{if(!e.nodeKey)throw new Error("[Tree] nodeKey is required in updateKeyChild");a.value.updateChildren(y,x)};return Se("RootTree",{ctx:t,props:e,store:a,root:s,currentNode:l,instance:De()}),Se(Rn,void 0),{ns:n,store:a,root:s,currentNode:l,dragState:p,el$:r,dropIndicator$:v,isEmpty:m,filter:f,getNodeKey:h,getNodePath:d,getCheckedNodes:c,getCheckedKeys:b,getCurrentNode:C,getCurrentKey:S,setCheckedNodes:F,setCheckedKeys:U,setChecked:z,getHalfCheckedNodes:q,getHalfCheckedKeys:j,setCurrentNode:V,setCurrentKey:E,t:o,getNode:I,remove:$,append:se,insertBefore:fe,insertAfter:re,handleNodeExpand:L,updateKeyChildren:J}}});function fa(e,t,o,n,a,s){const l=Y("el-tree-node");return k(),M("div",{ref:"el$",class:N([e.ns.b(),e.ns.is("dragging",!!e.dragState.draggingNode),e.ns.is("drop-not-allow",!e.dragState.allowDrop),e.ns.is("drop-inner",e.dragState.dropType==="inner"),{[e.ns.m("highlight-current")]:e.highlightCurrent}]),role:"tree"},[(k(!0),M(Ee,null,Gt(e.root.childNodes,r=>(k(),K(l,{key:e.getNodeKey(r),node:r,props:e.props,accordion:e.accordion,"render-after-expand":e.renderAfterExpand,"show-checkbox":e.showCheckbox,"render-content":e.renderContent,onNodeExpand:e.handleNodeExpand},null,8,["node","props","accordion","render-after-expand","show-checkbox","render-content","onNodeExpand"]))),128)),e.isEmpty?(k(),M("div",{key:0,class:N(e.ns.e("empty-block"))},[te(e.$slots,"empty",{},()=>{var r;return[A("span",{class:N(e.ns.e("empty-text"))},X((r=e.emptyText)!=null?r:e.t("el.tree.emptyText")),3)]})],2)):D("v-if",!0),oe(A("div",{ref:"dropIndicator$",class:N(e.ns.e("drop-indicator"))},null,2),[[ve,e.dragState.showDropIndicator]])],2)}var je=ce(ca,[["render",fa],["__file","/home/runner/work/element-plus/element-plus/packages/components/tree/src/tree.vue"]]);je.install=e=>{e.component(je.name,je)};const ha=je,pa=ha,va=Z({name:"ElMessageBox",directives:{TrapFocus:Io},components:{ElButton:dt,ElFocusTrap:Vn,ElInput:Bo,ElOverlay:_o,ElIcon:he,...Hn},inheritAttrs:!1,props:{buttonSize:{type:String,validator:Gn},modal:{type:Boolean,default:!0},lockScroll:{type:Boolean,default:!0},showClose:{type:Boolean,default:!0},closeOnClickModal:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},closeOnHashChange:{type:Boolean,default:!0},center:Boolean,draggable:Boolean,roundButton:{default:!1,type:Boolean},container:{type:String,default:"body"},boxType:{type:String,default:""}},emits:["vanish","action"],setup(e,{emit:t}){const{locale:o,zIndex:n,ns:a,size:s}=Un("message-box",w(()=>e.buttonSize)),{t:l}=o,{nextZIndex:r}=n,v=T(!1),i=Ze({autofocus:!0,beforeClose:null,callback:null,cancelButtonText:"",cancelButtonClass:"",confirmButtonText:"",confirmButtonClass:"",customClass:"",customStyle:{},dangerouslyUseHTMLString:!1,distinguishCancelAndClose:!1,icon:"",inputPattern:null,inputPlaceholder:"",inputType:"text",inputValue:null,inputValidator:null,inputErrorMessage:"",message:null,modalFade:!0,modalClass:"",showCancelButton:!1,showConfirmButton:!0,type:"",title:void 0,showInput:!1,action:"",confirmButtonLoading:!1,cancelButtonLoading:!1,confirmButtonDisabled:!1,editorErrorMessage:"",validateError:!1,zIndex:r()}),p=w(()=>{const L=i.type;return{[a.bm("icon",L)]:L&&$t[L]}}),m=Mt(),f=Mt(),h=w(()=>i.icon||$t[i.type]||""),d=w(()=>!!i.message),c=T(),b=T(),C=T(),S=T(),F=T(),U=w(()=>i.confirmButtonClass);P(()=>i.inputValue,async L=>{await W(),e.boxType==="prompt"&&L!==null&&$()},{immediate:!0}),P(()=>v.value,L=>{var J,y;L&&(e.boxType!=="prompt"&&(i.autofocus?C.value=(y=(J=F.value)==null?void 0:J.$el)!=null?y:c.value:C.value=c.value),i.zIndex=r()),e.boxType==="prompt"&&(L?W().then(()=>{var x;S.value&&S.value.$el&&(i.autofocus?C.value=(x=se())!=null?x:c.value:C.value=c.value)}):(i.editorErrorMessage="",i.validateError=!1))});const z=w(()=>e.draggable);ho(c,b,z),Je(async()=>{await W(),e.closeOnHashChange&&window.addEventListener("hashchange",q)}),Ft(()=>{e.closeOnHashChange&&window.removeEventListener("hashchange",q)});function q(){v.value&&(v.value=!1,W(()=>{i.action&&t("action",i.action)}))}const j=()=>{e.closeOnClickModal&&I(i.distinguishCancelAndClose?"close":"cancel")},V=Zt(j),E=L=>{if(i.inputType!=="textarea")return L.preventDefault(),I("confirm")},I=L=>{var J;e.boxType==="prompt"&&L==="confirm"&&!$()||(i.action=L,i.beforeClose?(J=i.beforeClose)==null||J.call(i,L,i,q):q())},$=()=>{if(e.boxType==="prompt"){const L=i.inputPattern;if(L&&!L.test(i.inputValue||""))return i.editorErrorMessage=i.inputErrorMessage||l("el.messagebox.error"),i.validateError=!0,!1;const J=i.inputValidator;if(typeof J=="function"){const y=J(i.inputValue);if(y===!1)return i.editorErrorMessage=i.inputErrorMessage||l("el.messagebox.error"),i.validateError=!0,!1;if(typeof y=="string")return i.editorErrorMessage=y,i.validateError=!0,!1}}return i.editorErrorMessage="",i.validateError=!1,!0},se=()=>{const L=S.value.$refs;return L.input||L.textarea},fe=()=>{I("close")},re=()=>{e.closeOnPressEscape&&fe()};return e.lockScroll&&po(v),{...qt(i),ns:a,overlayEvent:V,visible:v,hasMessage:d,typeClass:p,contentId:m,inputId:f,btnSize:s,iconComponent:h,confirmButtonClasses:U,rootRef:c,focusStartRef:C,headerRef:b,inputRef:S,confirmRef:F,doClose:q,handleClose:fe,onCloseRequested:re,handleWrapperClick:j,handleInputEnter:E,handleAction:I,t:l}}}),ma=["aria-label","aria-describedby"],ga=["aria-label"],ya=["id"];function ba(e,t,o,n,a,s){const l=Y("el-icon"),r=Y("close"),v=Y("el-input"),i=Y("el-button"),p=Y("el-focus-trap"),m=Y("el-overlay");return k(),K(qn,{name:"fade-in-linear",onAfterLeave:t[11]||(t[11]=f=>e.$emit("vanish")),persisted:""},{default:O(()=>[oe(Q(m,{"z-index":e.zIndex,"overlay-class":[e.ns.is("message-box"),e.modalClass],mask:e.modal},{default:O(()=>[A("div",{role:"dialog","aria-label":e.title,"aria-modal":"true","aria-describedby":e.showInput?void 0:e.contentId,class:N(`${e.ns.namespace.value}-overlay-message-box`),onClick:t[8]||(t[8]=(...f)=>e.overlayEvent.onClick&&e.overlayEvent.onClick(...f)),onMousedown:t[9]||(t[9]=(...f)=>e.overlayEvent.onMousedown&&e.overlayEvent.onMousedown(...f)),onMouseup:t[10]||(t[10]=(...f)=>e.overlayEvent.onMouseup&&e.overlayEvent.onMouseup(...f))},[Q(p,{loop:"",trapped:e.visible,"focus-trap-el":e.rootRef,"focus-start-el":e.focusStartRef,onReleaseRequested:e.onCloseRequested},{default:O(()=>[A("div",{ref:"rootRef",class:N([e.ns.b(),e.customClass,e.ns.is("draggable",e.draggable),{[e.ns.m("center")]:e.center}]),style:Me(e.customStyle),tabindex:"-1",onClick:t[7]||(t[7]=R(()=>{},["stop"]))},[e.title!==null&&e.title!==void 0?(k(),M("div",{key:0,ref:"headerRef",class:N(e.ns.e("header"))},[A("div",{class:N(e.ns.e("title"))},[e.iconComponent&&e.center?(k(),K(l,{key:0,class:N([e.ns.e("status"),e.typeClass])},{default:O(()=>[(k(),K(ne(e.iconComponent)))]),_:1},8,["class"])):D("v-if",!0),A("span",null,X(e.title),1)],2),e.showClose?(k(),M("button",{key:0,type:"button",class:N(e.ns.e("headerbtn")),"aria-label":e.t("el.messagebox.close"),onClick:t[0]||(t[0]=f=>e.handleAction(e.distinguishCancelAndClose?"close":"cancel")),onKeydown:t[1]||(t[1]=Fe(R(f=>e.handleAction(e.distinguishCancelAndClose?"close":"cancel"),["prevent"]),["enter"]))},[Q(l,{class:N(e.ns.e("close"))},{default:O(()=>[Q(r)]),_:1},8,["class"])],42,ga)):D("v-if",!0)],2)):D("v-if",!0),A("div",{id:e.contentId,class:N(e.ns.e("content"))},[A("div",{class:N(e.ns.e("container"))},[e.iconComponent&&!e.center&&e.hasMessage?(k(),K(l,{key:0,class:N([e.ns.e("status"),e.typeClass])},{default:O(()=>[(k(),K(ne(e.iconComponent)))]),_:1},8,["class"])):D("v-if",!0),e.hasMessage?(k(),M("div",{key:1,class:N(e.ns.e("message"))},[te(e.$slots,"default",{},()=>[e.dangerouslyUseHTMLString?(k(),K(ne(e.showInput?"label":"p"),{key:1,for:e.showInput?e.inputId:void 0,innerHTML:e.message},null,8,["for","innerHTML"])):(k(),K(ne(e.showInput?"label":"p"),{key:0,for:e.showInput?e.inputId:void 0},{default:O(()=>[me(X(e.dangerouslyUseHTMLString?"":e.message),1)]),_:1},8,["for"]))])],2)):D("v-if",!0)],2),oe(A("div",{class:N(e.ns.e("input"))},[Q(v,{id:e.inputId,ref:"inputRef",modelValue:e.inputValue,"onUpdate:modelValue":t[2]||(t[2]=f=>e.inputValue=f),type:e.inputType,placeholder:e.inputPlaceholder,"aria-invalid":e.validateError,class:N({invalid:e.validateError}),onKeydown:Fe(e.handleInputEnter,["enter"])},null,8,["id","modelValue","type","placeholder","aria-invalid","class","onKeydown"]),A("div",{class:N(e.ns.e("errormsg")),style:Me({visibility:e.editorErrorMessage?"visible":"hidden"})},X(e.editorErrorMessage),7)],2),[[ve,e.showInput]])],10,ya),A("div",{class:N(e.ns.e("btns"))},[e.showCancelButton?(k(),K(i,{key:0,loading:e.cancelButtonLoading,class:N([e.cancelButtonClass]),round:e.roundButton,size:e.btnSize,onClick:t[3]||(t[3]=f=>e.handleAction("cancel")),onKeydown:t[4]||(t[4]=Fe(R(f=>e.handleAction("cancel"),["prevent"]),["enter"]))},{default:O(()=>[me(X(e.cancelButtonText||e.t("el.messagebox.cancel")),1)]),_:1},8,["loading","class","round","size"])):D("v-if",!0),oe(Q(i,{ref:"confirmRef",type:"primary",loading:e.confirmButtonLoading,class:N([e.confirmButtonClasses]),round:e.roundButton,disabled:e.confirmButtonDisabled,size:e.btnSize,onClick:t[5]||(t[5]=f=>e.handleAction("confirm")),onKeydown:t[6]||(t[6]=Fe(R(f=>e.handleAction("confirm"),["prevent"]),["enter"]))},{default:O(()=>[me(X(e.confirmButtonText||e.t("el.messagebox.confirm")),1)]),_:1},8,["loading","class","round","disabled","size"]),[[ve,e.showConfirmButton]])],2)],6)]),_:3},8,["trapped","focus-trap-el","focus-start-el","onReleaseRequested"])],42,ma)]),_:3},8,["z-index","overlay-class","mask"]),[[ve,e.visible]])]),_:3})}var Ca=ce(va,[["render",ba],["__file","/home/runner/work/element-plus/element-plus/packages/components/message-box/src/index.vue"]]);const ze=new Map,ka=e=>{let t=document.body;return e.appendTo&&(ue(e.appendTo)&&(t=document.querySelector(e.appendTo)),Tt(e.appendTo)&&(t=e.appendTo),Tt(t)||(t=document.body)),t},Na=(e,t,o=null)=>{const n=Q(Ca,e,it(e.message)||Wt(e.message)?{default:it(e.message)?e.message:()=>e.message}:null);return n.appContext=o,Yt(n,t),ka(e).appendChild(t.firstElementChild),n.component},Ea=()=>document.createElement("div"),wa=(e,t)=>{const o=Ea();e.onVanish=()=>{Yt(null,o),ze.delete(a)},e.onAction=s=>{const l=ze.get(a);let r;e.showInput?r={value:a.inputValue,action:s}:r=s,e.callback?e.callback(r,n.proxy):s==="cancel"||s==="close"?e.distinguishCancelAndClose&&s!=="cancel"?l.reject("close"):l.reject("cancel"):l.resolve(r)};const n=Na(e,o,t),a=n.proxy;for(const s in e)Ae(e,s)&&!Ae(a.$props,s)&&(a[s]=e[s]);return a.visible=!0,a};function Be(e,t=null){if(!Oe)return Promise.reject();let o;return ue(e)||Wt(e)?e={message:e}:o=e.callback,new Promise((n,a)=>{const s=wa(e,t??Be._context);ze.set(s,{options:e,callback:o,resolve:n,reject:a})})}const Sa=["alert","confirm","prompt"],Da={alert:{closeOnPressEscape:!1,closeOnClickModal:!1},confirm:{showCancelButton:!0},prompt:{showCancelButton:!0,showInput:!0}};Sa.forEach(e=>{Be[e]=xa(e)});function xa(e){return(t,o,n,a)=>{let s="";return Te(o)?(n=o,s=""):Ye(o)?s="":s=o,Be(Object.assign({title:s,message:t,type:"",...Da[e]},n,{boxType:e}),a)}}Be.close=()=>{ze.forEach((e,t)=>{t.doClose()}),ze.clear()};Be._context=null;const de=Be;de.install=e=>{de._context=e._context,e.config.globalProperties.$msgbox=de,e.config.globalProperties.$messageBox=de,e.config.globalProperties.$alert=de.alert,e.config.globalProperties.$confirm=de.confirm,e.config.globalProperties.$prompt=de.prompt};const Ba=de;const Ia={class:"reactive-menu-tree-node"},Ka={class:"reactive-menu-tree-node-name"},$a={class:"reactive-menu-tree-node-tool"},Ma={__name:"ReactiveMenuTree",props:{menuData:{type:Array,default:()=>[]},isOpenDrag:{type:Boolean,default:!0},isOpenRename:{type:Boolean,default:!0},isOpenDefault:{type:Boolean,default:!0},isOpenCheck:{type:Boolean,default:!0}},setup(e){const t=e;let o=Ze([]);P(t.menuData,()=>{o=Ze(f(t.menuData))},{immediate:!0});const n=T(null);function a(h){Ce.forEach(h.parent.childNodes,d=>{d.data.config.isDefault=!1}),h.data.config.isDefault=!0}function s(h){Ba.prompt("","重命名",{confirmButtonText:"OK",cancelButtonText:"Cancel",inputPattern:/.+/,inputValue:h.data.name,inputErrorMessage:"请输入名称"}).then(({value:d})=>{h.data.name=d,Lt({type:"success",message:"重命名成功"})}).catch(()=>{Lt({type:"info",message:"已取消重命名"})})}function l(h){r(h),v(h)}function r(h){const d=h.childNodes;for(const c of d||[])c.data.checked=h.data.checked,r(c)}function v(h){const d=h.parent;if(d){const c=!!Ce.find(d.childNodes,"data.checked");c!==d.data.checked&&(d.data.checked=c,v(d))}}function i(){return!0}function p(h,d,c){return h.data.pid===d.data.pid?c!=="inner":!1}function m(h){var b,C;const c=((C=(b=n.value.getNode(h.data).parent)==null?void 0:b.data)==null?void 0:C.children)||n.value.data;Ce.forEach(c,(S,F)=>{S.order=F})}function f(h){for(const d of Ce.cloneDeep(h))d.id=d.id.toString?d.id.toString():d.id,d&&d.children&&d.children.length&&(d.children=f(d.children));return Ce.filter(Ce.orderBy(h,["order"],["asc"]),d=>d.enable!==!1)}return(h,d)=>(k(),K(u(pa),{ref_key:"reactiveMenuTree",ref:n,class:"reactive-menu-tree","node-key":"id","highlight-current":"","allow-drop":p,"allow-drag":i,draggable:t.isOpenDrag,data:u(o),onNodeDragEnd:m},{default:O(({node:c})=>[A("div",Ia,[t.isOpenCheck?(k(),K(u(nn),{key:0,modelValue:c.data.checked,"onUpdate:modelValue":b=>c.data.checked=b,onClick:d[0]||(d[0]=R(()=>{},["stop"])),onChange:b=>l(c)},null,8,["modelValue","onUpdate:modelValue","onChange"])):D("",!0),A("div",Ka,X(c.data.name),1),A("div",$a,[t.isOpenRename?(k(),K(u(dt),{key:0,type:"primary",link:"",onClick:R(b=>s(c),["stop"])},{default:O(()=>[me(" 重命名 ")]),_:2},1032,["onClick"])):D("",!0),!c.data.config.notBeDefault&&t.isOpenDefault?(k(),K(u(dt),{key:1,type:c.data.config.isDefault?"danger":"primary",link:"",onClick:R(b=>a(c),["stop"])},{default:O(()=>[me(" 设为默认 ")]),_:2},1032,["type","onClick"])):D("",!0)])])]),_:1},8,["draggable","data"]))}},Ta=jn(Ma,[["__scopeId","data-v-d6a25575"]]),Ha={__name:"MenuTree",setup(e){const t=ae("reactiveMenuData");return(o,n)=>(k(),K(Ta,{"menu-data":u(t).menus},null,8,["menu-data"]))}};export{Ha as default};
