import{n as $e,c as w,p as Ln,q as Ke,k as tt,s as $n,v as _t,x as It,y as Ee,z as Kn,A as j,B as On,C as At,D as F,E as Pn,G as en,H as zn,I as Ve,N as Ue,j as L,J as We,K as mt,L as Ce,M as dt,O as Rn,P as ue,Q as Z,S as Fn,T as yt,U as Te,V as Hn,W as Vn,X as Un,Y as qn,Z as Gn,$ as U,a0 as Ye,a1 as Wn,a2 as ae,a3 as ve,o as k,a as M,f as D,F as ke,a4 as E,d as v,a5 as se,g as z,h as T,w as R,a6 as ne,a7 as he,a8 as st,b as _,a9 as Yn,aa as V,t as X,ab as Be,ac as ce,ad as Ie,ae as tn,af as Mt,ag as ie,ah as ut,i as oe,ai as Xe,aj as Ae,ak as Lt,al as je,e as ge,am as we,an as nn,ao as an,ap as lt,aq as ct,ar as Me,as as Ze,at as Xn,au as jn,av as Zn,aw as ft,ax as Y,r as on,ay as Jn,az as Qn,aA as _n,aB as ea,aC as ta,aD as na,aE as $t,aF as Kt,aG as ze,aH as aa,aI as sn,aJ as ln,aK as Ot,_ as oa,l as be}from"./index-8269a175.js";import{d as Pt,S as Je,i as Qe,M as sa,e as la,a as zt,c as rn,t as ra,b as ia,f as da,g as ua,u as bt,h as nt,j as Ct,k as _e,l as dn}from"./use-form-item-b0c17b18.js";import{i as un,a as ca,U as Rt,g as Ft,b as Ht,c as Vt,S as rt,d as fa,e as ha,f as ye,h as pa}from"./validator-13b06479.js";import{u as cn,E as ht}from"./index-54d04b6f.js";import{E as Ut}from"./index-e5683eb3.js";function va(e){return e}function ga(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}var ma=800,ya=16,ba=Date.now;function Ca(e){var t=0,n=0;return function(){var a=ba(),o=ya-(a-n);if(n=a,o>0){if(++t>=ma)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}function ka(e){return function(){return e}}var Na=Pt?function(e,t){return Pt(e,"toString",{configurable:!0,enumerable:!1,value:ka(t),writable:!0})}:va;const Ea=Na;var wa=Ca(Ea);const Sa=wa;var qt=Math.max;function Da(e,t,n){return t=qt(t===void 0?e.length-1:t,0),function(){for(var a=arguments,o=-1,s=qt(a.length-t,0),l=Array(s);++o<s;)l[o]=a[t+o];o=-1;for(var r=Array(t+1);++o<t;)r[o]=a[o];return r[t]=n(l),ga(e,this,r)}}var Gt=Je?Je.isConcatSpreadable:void 0;function xa(e){return Qe(e)||un(e)||!!(Gt&&e&&e[Gt])}function fn(e,t,n,a,o){var s=-1,l=e.length;for(n||(n=xa),o||(o=[]);++s<l;){var r=e[s];t>0&&n(r)?t>1?fn(r,t-1,n,a,o):ca(o,r):a||(o[o.length]=r)}return o}function Ta(e){var t=e==null?0:e.length;return t?fn(e,1):[]}function Ba(e){return Sa(Da(e,void 0,Ta),e+"")}var Ia="__lodash_hash_undefined__";function Aa(e){return this.__data__.set(e,Ia),this}function Ma(e){return this.__data__.has(e)}function et(e){var t=-1,n=e==null?0:e.length;for(this.__data__=new sa;++t<n;)this.add(e[t])}et.prototype.add=et.prototype.push=Aa;et.prototype.has=Ma;function La(e,t){for(var n=-1,a=e==null?0:e.length;++n<a;)if(t(e[n],n,e))return!0;return!1}function $a(e,t){return e.has(t)}var Ka=1,Oa=2;function hn(e,t,n,a,o,s){var l=n&Ka,r=e.length,h=t.length;if(r!=h&&!(l&&h>r))return!1;var f=s.get(e),g=s.get(t);if(f&&g)return f==t&&g==e;var p=-1,d=!0,c=n&Oa?new et:void 0;for(s.set(e,t),s.set(t,e);++p<r;){var i=e[p],u=t[p];if(a)var y=l?a(u,i,p,t,e,s):a(i,u,p,e,t,s);if(y!==void 0){if(y)continue;d=!1;break}if(c){if(!La(t,function(b,S){if(!$a(c,S)&&(i===b||o(i,b,n,a,s)))return c.push(S)})){d=!1;break}}else if(!(i===u||o(i,u,n,a,s))){d=!1;break}}return s.delete(e),s.delete(t),d}function Pa(e){var t=-1,n=Array(e.size);return e.forEach(function(a,o){n[++t]=[o,a]}),n}function za(e){var t=-1,n=Array(e.size);return e.forEach(function(a){n[++t]=a}),n}var Ra=1,Fa=2,Ha="[object Boolean]",Va="[object Date]",Ua="[object Error]",qa="[object Map]",Ga="[object Number]",Wa="[object RegExp]",Ya="[object Set]",Xa="[object String]",ja="[object Symbol]",Za="[object ArrayBuffer]",Ja="[object DataView]",Wt=Je?Je.prototype:void 0,it=Wt?Wt.valueOf:void 0;function Qa(e,t,n,a,o,s,l){switch(n){case Ja:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case Za:return!(e.byteLength!=t.byteLength||!s(new Rt(e),new Rt(t)));case Ha:case Va:case Ga:return la(+e,+t);case Ua:return e.name==t.name&&e.message==t.message;case Wa:case Xa:return e==t+"";case qa:var r=Pa;case Ya:var h=a&Ra;if(r||(r=za),e.size!=t.size&&!h)return!1;var f=l.get(e);if(f)return f==t;a|=Fa,l.set(e,t);var g=hn(r(e),r(t),a,o,s,l);return l.delete(e),g;case ja:if(it)return it.call(e)==it.call(t)}return!1}var _a=1,eo=Object.prototype,to=eo.hasOwnProperty;function no(e,t,n,a,o,s){var l=n&_a,r=Ft(e),h=r.length,f=Ft(t),g=f.length;if(h!=g&&!l)return!1;for(var p=h;p--;){var d=r[p];if(!(l?d in t:to.call(t,d)))return!1}var c=s.get(e),i=s.get(t);if(c&&i)return c==t&&i==e;var u=!0;s.set(e,t),s.set(t,e);for(var y=l;++p<h;){d=r[p];var b=e[d],S=t[d];if(a)var O=l?a(S,b,d,t,e,s):a(b,S,d,e,t,s);if(!(O===void 0?b===S||o(b,S,n,a,s):O)){u=!1;break}y||(y=d=="constructor")}if(u&&!y){var P=e.constructor,B=t.constructor;P!=B&&"constructor"in e&&"constructor"in t&&!(typeof P=="function"&&P instanceof P&&typeof B=="function"&&B instanceof B)&&(u=!1)}return s.delete(e),s.delete(t),u}var ao=1,Yt="[object Arguments]",Xt="[object Array]",Re="[object Object]",oo=Object.prototype,jt=oo.hasOwnProperty;function so(e,t,n,a,o,s){var l=Qe(e),r=Qe(t),h=l?Xt:Ht(e),f=r?Xt:Ht(t);h=h==Yt?Re:h,f=f==Yt?Re:f;var g=h==Re,p=f==Re,d=h==f;if(d&&Vt(e)){if(!Vt(t))return!1;l=!0,g=!1}if(d&&!g)return s||(s=new rt),l||fa(e)?hn(e,t,n,a,o,s):Qa(e,t,h,n,a,o,s);if(!(n&ao)){var c=g&&jt.call(e,"__wrapped__"),i=p&&jt.call(t,"__wrapped__");if(c||i){var u=c?e.value():e,y=i?t.value():t;return s||(s=new rt),o(u,y,n,a,s)}}return d?(s||(s=new rt),no(e,t,n,a,o,s)):!1}function pn(e,t,n,a,o){return e===t?!0:e==null||t==null||!zt(e)&&!zt(t)?e!==e&&t!==t:so(e,t,n,a,pn,o)}function lo(e,t){return e!=null&&t in Object(e)}function ro(e,t,n){t=rn(t,e);for(var a=-1,o=t.length,s=!1;++a<o;){var l=ra(t[a]);if(!(s=e!=null&&n(e,l)))break;e=e[l]}return s||++a!=o?s:(o=e==null?0:e.length,!!o&&ha(o)&&ia(l,o)&&(Qe(e)||un(e)))}function io(e,t){return e!=null&&ro(e,t,lo)}function uo(e,t){return pn(e,t)}function co(e,t,n){for(var a=-1,o=t.length,s={};++a<o;){var l=t[a],r=da(e,l);n(r,l)&&ua(s,rn(l,e),r)}return s}function fo(e,t){return co(e,t,function(n,a){return io(e,a)})}var ho=Ba(function(e,t){return e==null?{}:fo(e,t)});const po=ho;let Fe;const vo=e=>{var t;if(!$e)return 0;if(Fe!==void 0)return Fe;const n=document.createElement("div");n.className=`${e}-scrollbar__wrap`,n.style.visibility="hidden",n.style.width="100px",n.style.position="absolute",n.style.top="-9999px",document.body.appendChild(n);const a=n.offsetWidth;n.style.overflow="scroll";const o=document.createElement("div");o.style.width="100%",n.appendChild(o);const s=o.offsetWidth;return(t=n.parentNode)==null||t.removeChild(n),Fe=a-s,Fe},go=()=>$e&&/firefox/i.test(window.navigator.userAgent),mo=e=>/([(\uAC00-\uD7AF)|(\u3130-\u318F)])+/gi.test(e),yo=["class","style"],bo=/^on[A-Z]/,Co=(e={})=>{const{excludeListeners:t=!1,excludeKeys:n}=e,a=w(()=>((n==null?void 0:n.value)||[]).concat(yo)),o=Ke();return o?w(()=>{var s;return Ln(Object.entries((s=o.proxy)==null?void 0:s.$attrs).filter(([l])=>!a.value.includes(l)&&!(t&&bo.test(l))))}):w(()=>({}))},ko=(e,t,n)=>{let a={offsetX:0,offsetY:0};const o=r=>{const h=r.clientX,f=r.clientY,{offsetX:g,offsetY:p}=a,d=e.value.getBoundingClientRect(),c=d.left,i=d.top,u=d.width,y=d.height,b=document.documentElement.clientWidth,S=document.documentElement.clientHeight,O=-c+g,P=-i+p,B=b-c-u+g,q=S-i-y+p,J=N=>{const A=Math.min(Math.max(g+N.clientX-h,O),B),I=Math.min(Math.max(p+N.clientY-f,P),q);a={offsetX:A,offsetY:I},e.value.style.transform=`translate(${It(A)}, ${It(I)})`},H=()=>{document.removeEventListener("mousemove",J),document.removeEventListener("mouseup",H)};document.addEventListener("mousemove",J),document.addEventListener("mouseup",H)},s=()=>{t.value&&e.value&&t.value.addEventListener("mousedown",o)},l=()=>{t.value&&e.value&&t.value.removeEventListener("mousedown",o)};tt(()=>{$n(()=>{n.value?s():l()})}),_t(()=>{l()})},No=e=>{Ee(e)||Kn("[useLockscreen]","You need to pass a ref param to this function");const t=j("popup"),n=On(()=>t.bm("parent","hidden"));if(!$e||At(document.body,n.value))return;let a=0,o=!1,s="0";const l=()=>{setTimeout(()=>{Ve(document==null?void 0:document.body,n.value),o&&document&&(document.body.style.width=s)},200)};F(e,r=>{if(!r){l();return}o=!At(document.body,n.value),o&&(s=document.body.style.width),a=vo(t.namespace.value);const h=document.documentElement.clientHeight<document.body.scrollHeight,f=Pn(document.body,"overflowY");a>0&&(h||f==="scroll")&&o&&(document.body.style.width=`calc(100% - ${a}px)`),en(document.body,n.value)}),zn(()=>l())},Eo=(e,t)=>{let n;F(()=>e.value,a=>{var o,s;a?(n=document.activeElement,Ee(t)&&((s=(o=t.value).focus)==null||s.call(o))):n.focus()})},vn=e=>{if(!e)return{onClick:Ue,onMousedown:Ue,onMouseup:Ue};let t=!1,n=!1;return{onClick:l=>{t&&n&&e(l),t=n=!1},onMousedown:l=>{t=l.target===l.currentTarget},onMouseup:l=>{n=l.target===l.currentTarget}}};function wo(e){const t=L();function n(){if(e.value==null)return;const{selectionStart:o,selectionEnd:s,value:l}=e.value;if(o==null||s==null)return;const r=l.slice(0,Math.max(0,o)),h=l.slice(Math.max(0,s));t.value={selectionStart:o,selectionEnd:s,value:l,beforeTxt:r,afterTxt:h}}function a(){if(e.value==null||t.value==null)return;const{value:o}=e.value,{beforeTxt:s,afterTxt:l,selectionStart:r}=t.value;if(s==null||l==null||r==null)return;let h=o.length;if(o.endsWith(l))h=o.length-l.length;else if(o.startsWith(s))h=s.length;else{const f=s[r-1],g=o.indexOf(f,r-1);g!==-1&&(h=g+1)}e.value.setSelectionRange(h,h)}return[n,a]}let te;const So=`
  height:0 !important;
  visibility:hidden !important;
  ${go()?"":"overflow:hidden !important;"}
  position:absolute !important;
  z-index:-1000 !important;
  top:0 !important;
  right:0 !important;
`,Do=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","text-rendering","text-transform","width","text-indent","padding-left","padding-right","border-width","box-sizing"];function xo(e){const t=window.getComputedStyle(e),n=t.getPropertyValue("box-sizing"),a=Number.parseFloat(t.getPropertyValue("padding-bottom"))+Number.parseFloat(t.getPropertyValue("padding-top")),o=Number.parseFloat(t.getPropertyValue("border-bottom-width"))+Number.parseFloat(t.getPropertyValue("border-top-width"));return{contextStyle:Do.map(l=>`${l}:${t.getPropertyValue(l)}`).join(";"),paddingSize:a,borderSize:o,boxSizing:n}}function Zt(e,t=1,n){var a;te||(te=document.createElement("textarea"),document.body.appendChild(te));const{paddingSize:o,borderSize:s,boxSizing:l,contextStyle:r}=xo(e);te.setAttribute("style",`${r};${So}`),te.value=e.value||e.placeholder||"";let h=te.scrollHeight;const f={};l==="border-box"?h=h+s:l==="content-box"&&(h=h-o),te.value="";const g=te.scrollHeight-o;if(We(t)){let p=g*t;l==="border-box"&&(p=p+o+s),h=Math.max(p,h),f.minHeight=`${p}px`}if(We(n)){let p=g*n;l==="border-box"&&(p=p+o+s),h=Math.min(p,h)}return f.height=`${h}px`,(a=te.parentNode)==null||a.removeChild(te),te=void 0,f}const To=mt({id:{type:String,default:void 0},size:bt,disabled:Boolean,modelValue:{type:Ce([String,Number,Object]),default:""},type:{type:String,default:"text"},resize:{type:String,values:["none","both","horizontal","vertical"]},autosize:{type:Ce([Boolean,Object]),default:!1},autocomplete:{type:String,default:"off"},formatter:{type:Function},parser:{type:Function},placeholder:{type:String},form:{type:String},readonly:{type:Boolean,default:!1},clearable:{type:Boolean,default:!1},showPassword:{type:Boolean,default:!1},showWordLimit:{type:Boolean,default:!1},suffixIcon:{type:dt},prefixIcon:{type:dt},containerRole:{type:String,default:void 0},label:{type:String,default:void 0},tabindex:{type:[String,Number],default:0},validateEvent:{type:Boolean,default:!0},inputStyle:{type:Ce([Object,Array,String]),default:()=>Rn({})}}),Bo={[ye]:e=>ue(e),input:e=>ue(e),change:e=>ue(e),focus:e=>e instanceof FocusEvent,blur:e=>e instanceof FocusEvent,clear:()=>!0,mouseleave:e=>e instanceof MouseEvent,mouseenter:e=>e instanceof MouseEvent,keydown:e=>e instanceof Event,compositionstart:e=>e instanceof CompositionEvent,compositionupdate:e=>e instanceof CompositionEvent,compositionend:e=>e instanceof CompositionEvent},Io=["role"],Ao=["id","type","disabled","formatter","parser","readonly","autocomplete","tabindex","aria-label","placeholder","form"],Mo=["id","tabindex","disabled","readonly","autocomplete","aria-label","placeholder","form"],Lo=Z({name:"ElInput",inheritAttrs:!1}),$o=Z({...Lo,props:To,emits:Bo,setup(e,{expose:t,emit:n}){const a=e,o=Fn(),s=yt(),l=w(()=>{const m={};return a.containerRole==="combobox"&&(m["aria-haspopup"]=o["aria-haspopup"],m["aria-owns"]=o["aria-owns"],m["aria-expanded"]=o["aria-expanded"]),m}),r=w(()=>[a.type==="textarea"?y.b():u.b(),u.m(c.value),u.is("disabled",i.value),u.is("exceed",wn.value),{[u.b("group")]:s.prepend||s.append,[u.bm("group","append")]:s.append,[u.bm("group","prepend")]:s.prepend,[u.m("prefix")]:s.prefix||a.prefixIcon,[u.m("suffix")]:s.suffix||a.suffixIcon||a.clearable||a.showPassword,[u.bm("suffix","password-clear")]:C.value&&x.value},o.class]),h=w(()=>[u.e("wrapper"),u.is("focus",O.value)]),f=Co({excludeKeys:w(()=>Object.keys(l.value))}),{form:g,formItem:p}=nt(),{inputId:d}=Ct(a,{formItemContext:p}),c=_e(),i=dn(),u=j("input"),y=j("textarea"),b=Te(),S=Te(),O=L(!1),P=L(!1),B=L(!1),q=L(!1),J=L(),H=Te(a.inputStyle),N=w(()=>b.value||S.value),A=w(()=>{var m;return(m=g==null?void 0:g.statusIcon)!=null?m:!1}),I=w(()=>(p==null?void 0:p.validateState)||""),re=w(()=>I.value&&Hn[I.value]),$=w(()=>q.value?Vn:Un),Q=w(()=>[o.style,a.inputStyle]),ee=w(()=>[a.inputStyle,H.value,{resize:a.resize}]),G=w(()=>qn(a.modelValue)?"":String(a.modelValue)),C=w(()=>a.clearable&&!i.value&&!a.readonly&&!!G.value&&(O.value||P.value)),x=w(()=>a.showPassword&&!i.value&&!a.readonly&&!!G.value&&(!!G.value||O.value)),W=w(()=>a.showWordLimit&&!!f.value.maxlength&&(a.type==="text"||a.type==="textarea")&&!i.value&&!a.readonly&&!a.showPassword),le=w(()=>Array.from(G.value).length),wn=w(()=>!!W.value&&le.value>Number(f.value.maxlength)),Sn=w(()=>!!s.suffix||!!a.suffixIcon||C.value||a.showPassword||W.value||!!I.value&&A.value),[Dn,xn]=wo(b);Gn(S,m=>{if(!W.value||a.resize!=="both")return;const K=m[0],{width:fe}=K.contentRect;J.value={right:`calc(100% - ${fe+15+6}px)`}});const Oe=()=>{const{type:m,autosize:K}=a;if(!(!$e||m!=="textarea"||!S.value))if(K){const fe=Ie(K)?K.minRows:void 0,ot=Ie(K)?K.maxRows:void 0;H.value={...Zt(S.value,fe,ot)}}else H.value={minHeight:Zt(S.value).minHeight}},xe=()=>{const m=N.value;!m||m.value===G.value||(m.value=G.value)},at=async m=>{Dn();let{value:K}=m.target;if(a.formatter&&(K=a.parser?a.parser(K):K,K=a.formatter(K)),!B.value){if(K===G.value){xe();return}n(ye,K),n("input",K),await U(),xe(),xn()}},Nt=m=>{n("change",m.target.value)},Et=m=>{n("compositionstart",m),B.value=!0},wt=m=>{var K;n("compositionupdate",m);const fe=(K=m.target)==null?void 0:K.value,ot=fe[fe.length-1]||"";B.value=!mo(ot)},St=m=>{n("compositionend",m),B.value&&(B.value=!1,at(m))},Tn=()=>{q.value=!q.value,Pe()},Pe=async()=>{var m;await U(),(m=N.value)==null||m.focus()},Bn=()=>{var m;return(m=N.value)==null?void 0:m.blur()},Dt=m=>{O.value=!0,n("focus",m)},xt=m=>{var K;O.value=!1,n("blur",m),a.validateEvent&&((K=p==null?void 0:p.validate)==null||K.call(p,"blur").catch(fe=>Ye()))},In=m=>{P.value=!1,n("mouseleave",m)},An=m=>{P.value=!0,n("mouseenter",m)},Tt=m=>{n("keydown",m)},Mn=()=>{var m;(m=N.value)==null||m.select()},Bt=()=>{n(ye,""),n("change",""),n("clear"),n("input","")};return F(()=>a.modelValue,()=>{var m;U(()=>Oe()),a.validateEvent&&((m=p==null?void 0:p.validate)==null||m.call(p,"change").catch(K=>Ye()))}),F(G,()=>xe()),F(()=>a.type,async()=>{await U(),xe(),Oe()}),tt(()=>{!a.formatter&&a.parser,xe(),U(Oe)}),t({input:b,textarea:S,ref:N,textareaStyle:ee,autosize:Wn(a,"autosize"),focus:Pe,blur:Bn,select:Mn,clear:Bt,resizeTextarea:Oe}),(m,K)=>ae((k(),M("div",st(v(l),{class:v(r),style:v(Q),role:m.containerRole,onMouseenter:An,onMouseleave:In}),[D(" input "),m.type!=="textarea"?(k(),M(ke,{key:0},[D(" prepend slot "),m.$slots.prepend?(k(),M("div",{key:0,class:E(v(u).be("group","prepend"))},[se(m.$slots,"prepend")],2)):D("v-if",!0),z("div",{class:E(v(h))},[D(" prefix slot "),m.$slots.prefix||m.prefixIcon?(k(),M("span",{key:0,class:E(v(u).e("prefix"))},[z("span",{class:E(v(u).e("prefix-inner")),onClick:Pe},[se(m.$slots,"prefix"),m.prefixIcon?(k(),T(v(he),{key:0,class:E(v(u).e("icon"))},{default:R(()=>[(k(),T(ne(m.prefixIcon)))]),_:1},8,["class"])):D("v-if",!0)],2)],2)):D("v-if",!0),z("input",st({id:v(d),ref_key:"input",ref:b,class:v(u).e("inner")},v(f),{type:m.showPassword?q.value?"text":"password":m.type,disabled:v(i),formatter:m.formatter,parser:m.parser,readonly:m.readonly,autocomplete:m.autocomplete,tabindex:m.tabindex,"aria-label":m.label,placeholder:m.placeholder,style:m.inputStyle,form:a.form,onCompositionstart:Et,onCompositionupdate:wt,onCompositionend:St,onInput:at,onFocus:Dt,onBlur:xt,onChange:Nt,onKeydown:Tt}),null,16,Ao),D(" suffix slot "),v(Sn)?(k(),M("span",{key:1,class:E(v(u).e("suffix"))},[z("span",{class:E(v(u).e("suffix-inner")),onClick:Pe},[!v(C)||!v(x)||!v(W)?(k(),M(ke,{key:0},[se(m.$slots,"suffix"),m.suffixIcon?(k(),T(v(he),{key:0,class:E(v(u).e("icon"))},{default:R(()=>[(k(),T(ne(m.suffixIcon)))]),_:1},8,["class"])):D("v-if",!0)],64)):D("v-if",!0),v(C)?(k(),T(v(he),{key:1,class:E([v(u).e("icon"),v(u).e("clear")]),onMousedown:V(v(Ue),["prevent"]),onClick:Bt},{default:R(()=>[_(v(Yn))]),_:1},8,["class","onMousedown"])):D("v-if",!0),v(x)?(k(),T(v(he),{key:2,class:E([v(u).e("icon"),v(u).e("password")]),onClick:Tn},{default:R(()=>[(k(),T(ne(v($))))]),_:1},8,["class"])):D("v-if",!0),v(W)?(k(),M("span",{key:3,class:E(v(u).e("count"))},[z("span",{class:E(v(u).e("count-inner"))},X(v(le))+" / "+X(v(f).maxlength),3)],2)):D("v-if",!0),v(I)&&v(re)&&v(A)?(k(),T(v(he),{key:4,class:E([v(u).e("icon"),v(u).e("validateIcon"),v(u).is("loading",v(I)==="validating")])},{default:R(()=>[(k(),T(ne(v(re))))]),_:1},8,["class"])):D("v-if",!0)],2)],2)):D("v-if",!0)],2),D(" append slot "),m.$slots.append?(k(),M("div",{key:1,class:E(v(u).be("group","append"))},[se(m.$slots,"append")],2)):D("v-if",!0)],64)):(k(),M(ke,{key:1},[D(" textarea "),z("textarea",st({id:v(d),ref_key:"textarea",ref:S,class:v(y).e("inner")},v(f),{tabindex:m.tabindex,disabled:v(i),readonly:m.readonly,autocomplete:m.autocomplete,style:v(ee),"aria-label":m.label,placeholder:m.placeholder,form:a.form,onCompositionstart:Et,onCompositionupdate:wt,onCompositionend:St,onInput:at,onFocus:Dt,onBlur:xt,onChange:Nt,onKeydown:Tt}),null,16,Mo),v(W)?(k(),M("span",{key:0,style:Be(J.value),class:E(v(u).e("count"))},X(v(le))+" / "+X(v(f).maxlength),7)):D("v-if",!0)],64))],16,Io)),[[ve,m.type!=="hidden"]])}});var Ko=ce($o,[["__file","/home/runner/work/element-plus/element-plus/packages/components/input/src/input.vue"]]);const Oo=tn(Ko),pt="_trap-focus-children",pe=[],Jt=e=>{if(pe.length===0)return;const t=pe[pe.length-1][pt];if(t.length>0&&e.code===ie.tab){if(t.length===1){e.preventDefault(),document.activeElement!==t[0]&&t[0].focus();return}const n=e.shiftKey,a=e.target===t[0],o=e.target===t[t.length-1];a&&n&&(e.preventDefault(),t[t.length-1].focus()),o&&!n&&(e.preventDefault(),t[0].focus())}},Po={beforeMount(e){e[pt]=Mt(e),pe.push(e),pe.length<=1&&document.addEventListener("keydown",Jt)},updated(e){U(()=>{e[pt]=Mt(e)})},unmounted(){pe.shift(),pe.length===0&&document.removeEventListener("keydown",Jt)}},gn={modelValue:{type:[Number,String,Boolean],default:void 0},label:{type:[String,Boolean,Number,Object]},indeterminate:Boolean,disabled:Boolean,checked:Boolean,name:{type:String,default:void 0},trueLabel:{type:[String,Number],default:void 0},falseLabel:{type:[String,Number],default:void 0},id:{type:String,default:void 0},controls:{type:String,default:void 0},border:Boolean,size:bt,tabindex:[String,Number],validateEvent:{type:Boolean,default:!0}},mn={[ye]:e=>ue(e)||We(e)||ut(e),change:e=>ue(e)||We(e)||ut(e)},Se=Symbol("checkboxGroupContextKey"),zo=({model:e,isChecked:t})=>{const n=oe(Se,void 0),a=w(()=>{var s,l;const r=(s=n==null?void 0:n.max)==null?void 0:s.value,h=(l=n==null?void 0:n.min)==null?void 0:l.value;return!Xe(r)&&e.value.length>=r&&!t.value||!Xe(h)&&e.value.length<=h&&t.value});return{isDisabled:dn(w(()=>(n==null?void 0:n.disabled.value)||a.value)),isLimitDisabled:a}},Ro=(e,{model:t,isLimitExceeded:n,hasOwnLabel:a,isDisabled:o,isLabeledByFormItem:s})=>{const l=oe(Se,void 0),{formItem:r}=nt(),{emit:h}=Ke();function f(i){var u,y;return i===e.trueLabel||i===!0?(u=e.trueLabel)!=null?u:!0:(y=e.falseLabel)!=null?y:!1}function g(i,u){h("change",f(i),u)}function p(i){if(n.value)return;const u=i.target;h("change",f(u.checked),i)}async function d(i){n.value||!a.value&&!o.value&&s.value&&(i.composedPath().some(b=>b.tagName==="LABEL")||(t.value=f([!1,e.falseLabel].includes(t.value)),await U(),g(t.value,i)))}const c=w(()=>(l==null?void 0:l.validateEvent)||e.validateEvent);return F(()=>e.modelValue,()=>{c.value&&(r==null||r.validate("change").catch(i=>Ye()))}),{handleChange:p,onClickRoot:d}},Fo=e=>{const t=L(!1),{emit:n}=Ke(),a=oe(Se,void 0),o=w(()=>Xe(a)===!1),s=L(!1);return{model:w({get(){var r,h;return o.value?(r=a==null?void 0:a.modelValue)==null?void 0:r.value:(h=e.modelValue)!=null?h:t.value},set(r){var h,f;o.value&&Ae(r)?(s.value=((h=a==null?void 0:a.max)==null?void 0:h.value)!==void 0&&r.length>(a==null?void 0:a.max.value),s.value===!1&&((f=a==null?void 0:a.changeEvent)==null||f.call(a,r))):(n(ye,r),t.value=r)}}),isGroup:o,isLimitExceeded:s}},Ho=(e,t,{model:n})=>{const a=oe(Se,void 0),o=L(!1),s=w(()=>{const f=n.value;return ut(f)?f:Ae(f)?Ie(e.label)?f.map(Lt).some(g=>uo(g,e.label)):f.map(Lt).includes(e.label):f!=null?f===e.trueLabel:!!f}),l=_e(w(()=>{var f;return(f=a==null?void 0:a.size)==null?void 0:f.value}),{prop:!0}),r=_e(w(()=>{var f;return(f=a==null?void 0:a.size)==null?void 0:f.value})),h=w(()=>!!(t.default||e.label));return{checkboxButtonSize:l,isChecked:s,isFocused:o,checkboxSize:r,hasOwnLabel:h}},Vo=(e,{model:t})=>{function n(){Ae(t.value)&&!t.value.includes(e.label)?t.value.push(e.label):t.value=e.trueLabel||!0}e.checked&&n()},yn=(e,t)=>{const{formItem:n}=nt(),{model:a,isGroup:o,isLimitExceeded:s}=Fo(e),{isFocused:l,isChecked:r,checkboxButtonSize:h,checkboxSize:f,hasOwnLabel:g}=Ho(e,t,{model:a}),{isDisabled:p}=zo({model:a,isChecked:r}),{inputId:d,isLabeledByFormItem:c}=Ct(e,{formItemContext:n,disableIdGeneration:g,disableIdManagement:o}),{handleChange:i,onClickRoot:u}=Ro(e,{model:a,isLimitExceeded:s,hasOwnLabel:g,isDisabled:p,isLabeledByFormItem:c});return Vo(e,{model:a}),{inputId:d,isLabeledByFormItem:c,isChecked:r,isDisabled:p,isFocused:l,checkboxButtonSize:h,checkboxSize:f,hasOwnLabel:g,model:a,handleChange:i,onClickRoot:u}},Uo=["tabindex","role","aria-checked"],qo=["id","aria-hidden","name","tabindex","disabled","true-value","false-value"],Go=["id","aria-hidden","disabled","value","name","tabindex"],Wo=Z({name:"ElCheckbox"}),Yo=Z({...Wo,props:gn,emits:mn,setup(e){const t=e,n=yt(),{inputId:a,isLabeledByFormItem:o,isChecked:s,isDisabled:l,isFocused:r,checkboxSize:h,hasOwnLabel:f,model:g,handleChange:p,onClickRoot:d}=yn(t,n),c=j("checkbox"),i=w(()=>[c.b(),c.m(h.value),c.is("disabled",l.value),c.is("bordered",t.border),c.is("checked",s.value)]),u=w(()=>[c.e("input"),c.is("disabled",l.value),c.is("checked",s.value),c.is("indeterminate",t.indeterminate),c.is("focus",r.value)]);return(y,b)=>(k(),T(ne(!v(f)&&v(o)?"span":"label"),{class:E(v(i)),"aria-controls":y.indeterminate?y.controls:null,onClick:v(d)},{default:R(()=>[z("span",{class:E(v(u)),tabindex:y.indeterminate?0:void 0,role:y.indeterminate?"checkbox":void 0,"aria-checked":y.indeterminate?"mixed":void 0},[y.trueLabel||y.falseLabel?ae((k(),M("input",{key:0,id:v(a),"onUpdate:modelValue":b[0]||(b[0]=S=>Ee(g)?g.value=S:null),class:E(v(c).e("original")),type:"checkbox","aria-hidden":y.indeterminate?"true":"false",name:y.name,tabindex:y.tabindex,disabled:v(l),"true-value":y.trueLabel,"false-value":y.falseLabel,onChange:b[1]||(b[1]=(...S)=>v(p)&&v(p)(...S)),onFocus:b[2]||(b[2]=S=>r.value=!0),onBlur:b[3]||(b[3]=S=>r.value=!1)},null,42,qo)),[[je,v(g)]]):ae((k(),M("input",{key:1,id:v(a),"onUpdate:modelValue":b[4]||(b[4]=S=>Ee(g)?g.value=S:null),class:E(v(c).e("original")),type:"checkbox","aria-hidden":y.indeterminate?"true":"false",disabled:v(l),value:y.label,name:y.name,tabindex:y.tabindex,onChange:b[5]||(b[5]=(...S)=>v(p)&&v(p)(...S)),onFocus:b[6]||(b[6]=S=>r.value=!0),onBlur:b[7]||(b[7]=S=>r.value=!1)},null,42,Go)),[[je,v(g)]]),z("span",{class:E(v(c).e("inner"))},null,2)],10,Uo),v(f)?(k(),M("span",{key:0,class:E(v(c).e("label"))},[se(y.$slots,"default"),y.$slots.default?D("v-if",!0):(k(),M(ke,{key:0},[ge(X(y.label),1)],64))],2)):D("v-if",!0)]),_:3},8,["class","aria-controls","onClick"]))}});var Xo=ce(Yo,[["__file","/home/runner/work/element-plus/element-plus/packages/components/checkbox/src/checkbox.vue"]]);const jo=["name","tabindex","disabled","true-value","false-value"],Zo=["name","tabindex","disabled","value"],Jo=Z({name:"ElCheckboxButton"}),Qo=Z({...Jo,props:gn,emits:mn,setup(e){const t=e,n=yt(),{isFocused:a,isChecked:o,isDisabled:s,checkboxButtonSize:l,model:r,handleChange:h}=yn(t,n),f=oe(Se,void 0),g=j("checkbox"),p=w(()=>{var c,i,u,y;const b=(i=(c=f==null?void 0:f.fill)==null?void 0:c.value)!=null?i:"";return{backgroundColor:b,borderColor:b,color:(y=(u=f==null?void 0:f.textColor)==null?void 0:u.value)!=null?y:"",boxShadow:b?`-1px 0 0 0 ${b}`:void 0}}),d=w(()=>[g.b("button"),g.bm("button",l.value),g.is("disabled",s.value),g.is("checked",o.value),g.is("focus",a.value)]);return(c,i)=>(k(),M("label",{class:E(v(d))},[c.trueLabel||c.falseLabel?ae((k(),M("input",{key:0,"onUpdate:modelValue":i[0]||(i[0]=u=>Ee(r)?r.value=u:null),class:E(v(g).be("button","original")),type:"checkbox",name:c.name,tabindex:c.tabindex,disabled:v(s),"true-value":c.trueLabel,"false-value":c.falseLabel,onChange:i[1]||(i[1]=(...u)=>v(h)&&v(h)(...u)),onFocus:i[2]||(i[2]=u=>a.value=!0),onBlur:i[3]||(i[3]=u=>a.value=!1)},null,42,jo)),[[je,v(r)]]):ae((k(),M("input",{key:1,"onUpdate:modelValue":i[4]||(i[4]=u=>Ee(r)?r.value=u:null),class:E(v(g).be("button","original")),type:"checkbox",name:c.name,tabindex:c.tabindex,disabled:v(s),value:c.label,onChange:i[5]||(i[5]=(...u)=>v(h)&&v(h)(...u)),onFocus:i[6]||(i[6]=u=>a.value=!0),onBlur:i[7]||(i[7]=u=>a.value=!1)},null,42,Zo)),[[je,v(r)]]),c.$slots.default||c.label?(k(),M("span",{key:2,class:E(v(g).be("button","inner")),style:Be(v(o)?v(p):void 0)},[se(c.$slots,"default",{},()=>[ge(X(c.label),1)])],6)):D("v-if",!0)],2))}});var bn=ce(Qo,[["__file","/home/runner/work/element-plus/element-plus/packages/components/checkbox/src/checkbox-button.vue"]]);const _o=mt({modelValue:{type:Ce(Array),default:()=>[]},disabled:Boolean,min:Number,max:Number,size:bt,label:String,fill:String,textColor:String,tag:{type:String,default:"div"},validateEvent:{type:Boolean,default:!0}}),es={[ye]:e=>Ae(e),change:e=>Ae(e)},ts=Z({name:"ElCheckboxGroup"}),ns=Z({...ts,props:_o,emits:es,setup(e,{emit:t}){const n=e,a=j("checkbox"),{formItem:o}=nt(),{inputId:s,isLabeledByFormItem:l}=Ct(n,{formItemContext:o}),r=async f=>{t(ye,f),await U(),t("change",f)},h=w({get(){return n.modelValue},set(f){r(f)}});return we(Se,{...po(nn(n),["size","min","max","disabled","validateEvent","fill","textColor"]),modelValue:h,changeEvent:r}),F(()=>n.modelValue,()=>{n.validateEvent&&(o==null||o.validate("change").catch(f=>Ye()))}),(f,g)=>{var p;return k(),T(ne(f.tag),{id:v(s),class:E(v(a).b("group")),role:"group","aria-label":v(l)?void 0:f.label||"checkbox-group","aria-labelledby":v(l)?(p=v(o))==null?void 0:p.labelId:void 0},{default:R(()=>[se(f.$slots,"default")]),_:3},8,["id","class","aria-label","aria-labelledby"])}}});var Cn=ce(ns,[["__file","/home/runner/work/element-plus/element-plus/packages/components/checkbox/src/checkbox-group.vue"]]);const kn=tn(Xo,{CheckboxButton:bn,CheckboxGroup:Cn});an(bn);an(Cn);const as=mt({mask:{type:Boolean,default:!0},customMaskEvent:{type:Boolean,default:!1},overlayClass:{type:Ce([String,Array,Object])},zIndex:{type:Ce([String,Number])}}),os={click:e=>e instanceof MouseEvent};var ss=Z({name:"ElOverlay",props:as,emits:os,setup(e,{slots:t,emit:n}){const a=j("overlay"),o=h=>{n("click",h)},{onClick:s,onMousedown:l,onMouseup:r}=vn(e.customMaskEvent?void 0:o);return()=>e.mask?_("div",{class:[a.b(),e.overlayClass],style:{zIndex:e.zIndex},onClick:s,onMousedown:l,onMouseup:r},[se(t,"default")],lt.STYLE|lt.CLASS|lt.PROPS,["onClick","onMouseup","onMousedown"]):ct("div",{class:e.overlayClass,style:{zIndex:e.zIndex,position:"fixed",top:"0px",right:"0px",bottom:"0px",left:"0px"}},[se(t,"default")])}});const ls=ss,Ne="$treeNodeId",Qt=function(e,t){!t||t[Ne]||Object.defineProperty(t,Ne,{value:e.id,enumerable:!1,configurable:!1,writable:!1})},kt=function(e,t){return e?t[e]:t[Ne]},vt=(e,t,n)=>{const a=e.value.currentNode;n();const o=e.value.currentNode;a!==o&&t("current-change",o?o.data:null,o)},gt=e=>{let t=!0,n=!0,a=!0;for(let o=0,s=e.length;o<s;o++){const l=e[o];(l.checked!==!0||l.indeterminate)&&(t=!1,l.disabled||(a=!1)),(l.checked!==!1||l.indeterminate)&&(n=!1)}return{all:t,none:n,allWithoutDisable:a,half:!t&&!n}},qe=function(e){if(e.childNodes.length===0||e.loading)return;const{all:t,none:n,half:a}=gt(e.childNodes);t?(e.checked=!0,e.indeterminate=!1):a?(e.checked=!1,e.indeterminate=!0):n&&(e.checked=!1,e.indeterminate=!1);const o=e.parent;!o||o.level===0||e.store.checkStrictly||qe(o)},He=function(e,t){const n=e.store.props,a=e.data||{},o=n[t];if(typeof o=="function")return o(a,e);if(typeof o=="string")return a[o];if(typeof o>"u"){const s=a[t];return s===void 0?"":s}};let rs=0;class me{constructor(t){this.id=rs++,this.text=null,this.checked=!1,this.indeterminate=!1,this.data=null,this.expanded=!1,this.parent=null,this.visible=!0,this.isCurrent=!1,this.canFocus=!1;for(const n in t)Me(t,n)&&(this[n]=t[n]);this.level=0,this.loaded=!1,this.childNodes=[],this.loading=!1,this.parent&&(this.level=this.parent.level+1)}initialize(){const t=this.store;if(!t)throw new Error("[Node]store is required!");t.registerNode(this);const n=t.props;if(n&&typeof n.isLeaf<"u"){const s=He(this,"isLeaf");typeof s=="boolean"&&(this.isLeafByUser=s)}if(t.lazy!==!0&&this.data?(this.setData(this.data),t.defaultExpandAll&&(this.expanded=!0,this.canFocus=!0)):this.level>0&&t.lazy&&t.defaultExpandAll&&this.expand(),Array.isArray(this.data)||Qt(this,this.data),!this.data)return;const a=t.defaultExpandedKeys,o=t.key;o&&a&&a.includes(this.key)&&this.expand(null,t.autoExpandParent),o&&t.currentNodeKey!==void 0&&this.key===t.currentNodeKey&&(t.currentNode=this,t.currentNode.isCurrent=!0),t.lazy&&t._initDefaultCheckedNode(this),this.updateLeafState(),this.parent&&(this.level===1||this.parent.expanded===!0)&&(this.canFocus=!0)}setData(t){Array.isArray(t)||Qt(this,t),this.data=t,this.childNodes=[];let n;this.level===0&&Array.isArray(this.data)?n=this.data:n=He(this,"children")||[];for(let a=0,o=n.length;a<o;a++)this.insertChild({data:n[a]})}get label(){return He(this,"label")}get key(){const t=this.store.key;return this.data?this.data[t]:null}get disabled(){return He(this,"disabled")}get nextSibling(){const t=this.parent;if(t){const n=t.childNodes.indexOf(this);if(n>-1)return t.childNodes[n+1]}return null}get previousSibling(){const t=this.parent;if(t){const n=t.childNodes.indexOf(this);if(n>-1)return n>0?t.childNodes[n-1]:null}return null}contains(t,n=!0){return(this.childNodes||[]).some(a=>a===t||n&&a.contains(t))}remove(){const t=this.parent;t&&t.removeChild(this)}insertChild(t,n,a){if(!t)throw new Error("InsertChild error: child is required.");if(!(t instanceof me)){if(!a){const o=this.getChildren(!0);o.includes(t.data)||(typeof n>"u"||n<0?o.push(t.data):o.splice(n,0,t.data))}Object.assign(t,{parent:this,store:this.store}),t=Ze(new me(t)),t instanceof me&&t.initialize()}t.level=this.level+1,typeof n>"u"||n<0?this.childNodes.push(t):this.childNodes.splice(n,0,t),this.updateLeafState()}insertBefore(t,n){let a;n&&(a=this.childNodes.indexOf(n)),this.insertChild(t,a)}insertAfter(t,n){let a;n&&(a=this.childNodes.indexOf(n),a!==-1&&(a+=1)),this.insertChild(t,a)}removeChild(t){const n=this.getChildren()||[],a=n.indexOf(t.data);a>-1&&n.splice(a,1);const o=this.childNodes.indexOf(t);o>-1&&(this.store&&this.store.deregisterNode(t),t.parent=null,this.childNodes.splice(o,1)),this.updateLeafState()}removeChildByData(t){let n=null;for(let a=0;a<this.childNodes.length;a++)if(this.childNodes[a].data===t){n=this.childNodes[a];break}n&&this.removeChild(n)}expand(t,n){const a=()=>{if(n){let o=this.parent;for(;o.level>0;)o.expanded=!0,o=o.parent}this.expanded=!0,t&&t(),this.childNodes.forEach(o=>{o.canFocus=!0})};this.shouldLoadData()?this.loadData(o=>{Array.isArray(o)&&(this.checked?this.setChecked(!0,!0):this.store.checkStrictly||qe(this),a())}):a()}doCreateChildren(t,n={}){t.forEach(a=>{this.insertChild(Object.assign({data:a},n),void 0,!0)})}collapse(){this.expanded=!1,this.childNodes.forEach(t=>{t.canFocus=!1})}shouldLoadData(){return this.store.lazy===!0&&this.store.load&&!this.loaded}updateLeafState(){if(this.store.lazy===!0&&this.loaded!==!0&&typeof this.isLeafByUser<"u"){this.isLeaf=this.isLeafByUser;return}const t=this.childNodes;if(!this.store.lazy||this.store.lazy===!0&&this.loaded===!0){this.isLeaf=!t||t.length===0;return}this.isLeaf=!1}setChecked(t,n,a,o){if(this.indeterminate=t==="half",this.checked=t===!0,this.store.checkStrictly)return;if(!(this.shouldLoadData()&&!this.store.checkDescendants)){const{all:l,allWithoutDisable:r}=gt(this.childNodes);!this.isLeaf&&!l&&r&&(this.checked=!1,t=!1);const h=()=>{if(n){const f=this.childNodes;for(let d=0,c=f.length;d<c;d++){const i=f[d];o=o||t!==!1;const u=i.disabled?i.checked:o;i.setChecked(u,n,!0,o)}const{half:g,all:p}=gt(f);p||(this.checked=p,this.indeterminate=g)}};if(this.shouldLoadData()){this.loadData(()=>{h(),qe(this)},{checked:t!==!1});return}else h()}const s=this.parent;!s||s.level===0||a||qe(s)}getChildren(t=!1){if(this.level===0)return this.data;const n=this.data;if(!n)return null;const a=this.store.props;let o="children";return a&&(o=a.children||"children"),n[o]===void 0&&(n[o]=null),t&&!n[o]&&(n[o]=[]),n[o]}updateChildren(){const t=this.getChildren()||[],n=this.childNodes.map(s=>s.data),a={},o=[];t.forEach((s,l)=>{const r=s[Ne];!!r&&n.findIndex(f=>f[Ne]===r)>=0?a[r]={index:l,data:s}:o.push({index:l,data:s})}),this.store.lazy||n.forEach(s=>{a[s[Ne]]||this.removeChildByData(s)}),o.forEach(({index:s,data:l})=>{this.insertChild({data:l},s)}),this.updateLeafState()}loadData(t,n={}){if(this.store.lazy===!0&&this.store.load&&!this.loaded&&(!this.loading||Object.keys(n).length)){this.loading=!0;const a=o=>{this.childNodes=[],this.doCreateChildren(o,n),this.loaded=!0,this.loading=!1,this.updateLeafState(),t&&t.call(this,o)};this.store.load(this,a)}else t&&t.call(this)}}class is{constructor(t){this.currentNode=null,this.currentNodeKey=null;for(const n in t)Me(t,n)&&(this[n]=t[n]);this.nodesMap={}}initialize(){if(this.root=new me({data:this.data,store:this}),this.root.initialize(),this.lazy&&this.load){const t=this.load;t(this.root,n=>{this.root.doCreateChildren(n),this._initDefaultCheckedNodes()})}else this._initDefaultCheckedNodes()}filter(t){const n=this.filterNodeMethod,a=this.lazy,o=function(s){const l=s.root?s.root.childNodes:s.childNodes;if(l.forEach(r=>{r.visible=n.call(r,t,r.data,r),o(r)}),!s.visible&&l.length){let r=!0;r=!l.some(h=>h.visible),s.root?s.root.visible=r===!1:s.visible=r===!1}t&&s.visible&&!s.isLeaf&&!a&&s.expand()};o(this)}setData(t){t!==this.root.data?(this.root.setData(t),this._initDefaultCheckedNodes()):this.root.updateChildren()}getNode(t){if(t instanceof me)return t;const n=Ie(t)?kt(this.key,t):t;return this.nodesMap[n]||null}insertBefore(t,n){const a=this.getNode(n);a.parent.insertBefore({data:t},a)}insertAfter(t,n){const a=this.getNode(n);a.parent.insertAfter({data:t},a)}remove(t){const n=this.getNode(t);n&&n.parent&&(n===this.currentNode&&(this.currentNode=null),n.parent.removeChild(n))}append(t,n){const a=n?this.getNode(n):this.root;a&&a.insertChild({data:t})}_initDefaultCheckedNodes(){const t=this.defaultCheckedKeys||[],n=this.nodesMap;t.forEach(a=>{const o=n[a];o&&o.setChecked(!0,!this.checkStrictly)})}_initDefaultCheckedNode(t){(this.defaultCheckedKeys||[]).includes(t.key)&&t.setChecked(!0,!this.checkStrictly)}setDefaultCheckedKey(t){t!==this.defaultCheckedKeys&&(this.defaultCheckedKeys=t,this._initDefaultCheckedNodes())}registerNode(t){const n=this.key;!t||!t.data||(n?t.key!==void 0&&(this.nodesMap[t.key]=t):this.nodesMap[t.id]=t)}deregisterNode(t){!this.key||!t||!t.data||(t.childNodes.forEach(a=>{this.deregisterNode(a)}),delete this.nodesMap[t.key])}getCheckedNodes(t=!1,n=!1){const a=[],o=function(s){(s.root?s.root.childNodes:s.childNodes).forEach(r=>{(r.checked||n&&r.indeterminate)&&(!t||t&&r.isLeaf)&&a.push(r.data),o(r)})};return o(this),a}getCheckedKeys(t=!1){return this.getCheckedNodes(t).map(n=>(n||{})[this.key])}getHalfCheckedNodes(){const t=[],n=function(a){(a.root?a.root.childNodes:a.childNodes).forEach(s=>{s.indeterminate&&t.push(s.data),n(s)})};return n(this),t}getHalfCheckedKeys(){return this.getHalfCheckedNodes().map(t=>(t||{})[this.key])}_getAllNodes(){const t=[],n=this.nodesMap;for(const a in n)Me(n,a)&&t.push(n[a]);return t}updateChildren(t,n){const a=this.nodesMap[t];if(!a)return;const o=a.childNodes;for(let s=o.length-1;s>=0;s--){const l=o[s];this.remove(l.data)}for(let s=0,l=n.length;s<l;s++){const r=n[s];this.append(r,a.data)}}_setCheckedKeys(t,n=!1,a){const o=this._getAllNodes().sort((r,h)=>h.level-r.level),s=Object.create(null),l=Object.keys(a);o.forEach(r=>r.setChecked(!1,!1));for(let r=0,h=o.length;r<h;r++){const f=o[r],g=f.data[t].toString();if(!l.includes(g)){f.checked&&!s[g]&&f.setChecked(!1,!1);continue}let d=f.parent;for(;d&&d.level>0;)s[d.data[t]]=!0,d=d.parent;if(f.isLeaf||this.checkStrictly){f.setChecked(!0,!1);continue}if(f.setChecked(!0,!0),n){f.setChecked(!1,!1);const c=function(i){i.childNodes.forEach(y=>{y.isLeaf||y.setChecked(!1,!1),c(y)})};c(f)}}}setCheckedNodes(t,n=!1){const a=this.key,o={};t.forEach(s=>{o[(s||{})[a]]=!0}),this._setCheckedKeys(a,n,o)}setCheckedKeys(t,n=!1){this.defaultCheckedKeys=t;const a=this.key,o={};t.forEach(s=>{o[s]=!0}),this._setCheckedKeys(a,n,o)}setDefaultExpandedKeys(t){t=t||[],this.defaultExpandedKeys=t,t.forEach(n=>{const a=this.getNode(n);a&&a.expand(null,this.autoExpandParent)})}setChecked(t,n,a){const o=this.getNode(t);o&&o.setChecked(!!n,a)}getCurrentNode(){return this.currentNode}setCurrentNode(t){const n=this.currentNode;n&&(n.isCurrent=!1),this.currentNode=t,this.currentNode.isCurrent=!0}setUserCurrentNode(t,n=!0){const a=t[this.key],o=this.nodesMap[a];this.setCurrentNode(o),n&&this.currentNode.level>1&&this.currentNode.parent.expand(null,!0)}setCurrentNodeKey(t,n=!0){if(t==null){this.currentNode&&(this.currentNode.isCurrent=!1),this.currentNode=null;return}const a=this.getNode(t);a&&(this.setCurrentNode(a),n&&this.currentNode.level>1&&this.currentNode.parent.expand(null,!0))}}const ds=Z({name:"ElTreeNodeContent",props:{node:{type:Object,required:!0},renderContent:Function},setup(e){const t=j("tree"),n=oe("NodeInstance"),a=oe("RootTree");return()=>{const o=e.node,{data:s,store:l}=o;return e.renderContent?e.renderContent(ct,{_self:n,node:o,data:s,store:l}):a.ctx.slots.default?a.ctx.slots.default({node:o,data:s}):ct("span",{class:t.be("node","label")},[o.label])}}});var us=ce(ds,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tree/src/tree-node-content.vue"]]);function Nn(e){const t=oe("TreeNodeMap",null),n={treeNodeExpand:a=>{e.node!==a&&e.node.collapse()},children:[]};return t&&t.children.push(n),we("TreeNodeMap",n),{broadcastExpanded:a=>{if(e.accordion)for(const o of n.children)o.treeNodeExpand(a)}}}const En=Symbol("dragEvents");function cs({props:e,ctx:t,el$:n,dropIndicator$:a,store:o}){const s=j("tree"),l=L({showDropIndicator:!1,draggingNode:null,dropNode:null,allowDrop:!0,dropType:null});return we(En,{treeNodeDragStart:({event:g,treeNode:p})=>{if(typeof e.allowDrag=="function"&&!e.allowDrag(p.node))return g.preventDefault(),!1;g.dataTransfer.effectAllowed="move";try{g.dataTransfer.setData("text/plain","")}catch{}l.value.draggingNode=p,t.emit("node-drag-start",p.node,g)},treeNodeDragOver:({event:g,treeNode:p})=>{const d=p,c=l.value.dropNode;c&&c!==d&&Ve(c.$el,s.is("drop-inner"));const i=l.value.draggingNode;if(!i||!d)return;let u=!0,y=!0,b=!0,S=!0;typeof e.allowDrop=="function"&&(u=e.allowDrop(i.node,d.node,"prev"),S=y=e.allowDrop(i.node,d.node,"inner"),b=e.allowDrop(i.node,d.node,"next")),g.dataTransfer.dropEffect=y||u||b?"move":"none",(u||y||b)&&c!==d&&(c&&t.emit("node-drag-leave",i.node,c.node,g),t.emit("node-drag-enter",i.node,d.node,g)),(u||y||b)&&(l.value.dropNode=d),d.node.nextSibling===i.node&&(b=!1),d.node.previousSibling===i.node&&(u=!1),d.node.contains(i.node,!1)&&(y=!1),(i.node===d.node||i.node.contains(d.node))&&(u=!1,y=!1,b=!1);const O=d.$el.getBoundingClientRect(),P=n.value.getBoundingClientRect();let B;const q=u?y?.25:b?.45:1:-1,J=b?y?.75:u?.55:0:1;let H=-9999;const N=g.clientY-O.top;N<O.height*q?B="before":N>O.height*J?B="after":y?B="inner":B="none";const A=d.$el.querySelector(`.${s.be("node","expand-icon")}`).getBoundingClientRect(),I=a.value;B==="before"?H=A.top-P.top:B==="after"&&(H=A.bottom-P.top),I.style.top=`${H}px`,I.style.left=`${A.right-P.left}px`,B==="inner"?en(d.$el,s.is("drop-inner")):Ve(d.$el,s.is("drop-inner")),l.value.showDropIndicator=B==="before"||B==="after",l.value.allowDrop=l.value.showDropIndicator||S,l.value.dropType=B,t.emit("node-drag-over",i.node,d.node,g)},treeNodeDragEnd:g=>{const{draggingNode:p,dropType:d,dropNode:c}=l.value;if(g.preventDefault(),g.dataTransfer.dropEffect="move",p&&c){const i={data:p.node.data};d!=="none"&&p.node.remove(),d==="before"?c.node.parent.insertBefore(i,c.node):d==="after"?c.node.parent.insertAfter(i,c.node):d==="inner"&&c.node.insertChild(i),d!=="none"&&o.value.registerNode(i),Ve(c.$el,s.is("drop-inner")),t.emit("node-drag-end",p.node,c.node,d,g),d!=="none"&&t.emit("node-drop",p.node,c.node,d,g)}p&&!c&&t.emit("node-drag-end",p.node,null,d,g),l.value.showDropIndicator=!1,l.value.draggingNode=null,l.value.dropNode=null,l.value.allowDrop=!0}}),{dragState:l}}const fs=Z({name:"ElTreeNode",components:{ElCollapseTransition:Xn,ElCheckbox:kn,NodeContent:us,ElIcon:he,Loading:jn},props:{node:{type:me,default:()=>({})},props:{type:Object,default:()=>({})},accordion:Boolean,renderContent:Function,renderAfterExpand:Boolean,showCheckbox:{type:Boolean,default:!1}},emits:["node-expand"],setup(e,t){const n=j("tree"),{broadcastExpanded:a}=Nn(e),o=oe("RootTree"),s=L(!1),l=L(!1),r=L(null),h=L(null),f=L(null),g=oe(En),p=Ke();we("NodeInstance",p),e.node.expanded&&(s.value=!0,l.value=!0);const d=o.props.children||"children";F(()=>{const N=e.node.data[d];return N&&[...N]},()=>{e.node.updateChildren()}),F(()=>e.node.indeterminate,N=>{u(e.node.checked,N)}),F(()=>e.node.checked,N=>{u(N,e.node.indeterminate)}),F(()=>e.node.expanded,N=>{U(()=>s.value=N),N&&(l.value=!0)});const c=N=>kt(o.props.nodeKey,N.data),i=N=>{const A=e.props.class;if(!A)return{};let I;if(ft(A)){const{data:re}=N;I=A(re,N)}else I=A;return ue(I)?{[I]:!0}:I},u=(N,A)=>{(r.value!==N||h.value!==A)&&o.ctx.emit("check-change",e.node.data,N,A),r.value=N,h.value=A},y=N=>{vt(o.store,o.ctx.emit,()=>o.store.value.setCurrentNode(e.node)),o.currentNode.value=e.node,o.props.expandOnClickNode&&S(),o.props.checkOnClickNode&&!e.node.disabled&&O(null,{target:{checked:!e.node.checked}}),o.ctx.emit("node-click",e.node.data,e.node,p,N)},b=N=>{o.instance.vnode.props.onNodeContextmenu&&(N.stopPropagation(),N.preventDefault()),o.ctx.emit("node-contextmenu",N,e.node.data,e.node,p)},S=()=>{e.node.isLeaf||(s.value?(o.ctx.emit("node-collapse",e.node.data,e.node,p),e.node.collapse()):(e.node.expand(),t.emit("node-expand",e.node.data,e.node,p)))},O=(N,A)=>{e.node.setChecked(A.target.checked,!o.props.checkStrictly),U(()=>{const I=o.store.value;o.ctx.emit("check",e.node.data,{checkedNodes:I.getCheckedNodes(),checkedKeys:I.getCheckedKeys(),halfCheckedNodes:I.getHalfCheckedNodes(),halfCheckedKeys:I.getHalfCheckedKeys()})})};return{ns:n,node$:f,tree:o,expanded:s,childNodeRendered:l,oldChecked:r,oldIndeterminate:h,getNodeKey:c,getNodeClass:i,handleSelectChange:u,handleClick:y,handleContextMenu:b,handleExpandIconClick:S,handleCheckChange:O,handleChildNodeExpand:(N,A,I)=>{a(A),o.ctx.emit("node-expand",N,A,I)},handleDragStart:N=>{o.props.draggable&&g.treeNodeDragStart({event:N,treeNode:e})},handleDragOver:N=>{N.preventDefault(),o.props.draggable&&g.treeNodeDragOver({event:N,treeNode:{$el:f.value,node:e.node}})},handleDrop:N=>{N.preventDefault()},handleDragEnd:N=>{o.props.draggable&&g.treeNodeDragEnd(N)},CaretRight:Zn}}}),hs=["aria-expanded","aria-disabled","aria-checked","draggable","data-key"],ps=["aria-expanded"];function vs(e,t,n,a,o,s){const l=Y("el-icon"),r=Y("el-checkbox"),h=Y("loading"),f=Y("node-content"),g=Y("el-tree-node"),p=Y("el-collapse-transition");return ae((k(),M("div",{ref:"node$",class:E([e.ns.b("node"),e.ns.is("expanded",e.expanded),e.ns.is("current",e.node.isCurrent),e.ns.is("hidden",!e.node.visible),e.ns.is("focusable",!e.node.disabled),e.ns.is("checked",!e.node.disabled&&e.node.checked),e.getNodeClass(e.node)]),role:"treeitem",tabindex:"-1","aria-expanded":e.expanded,"aria-disabled":e.node.disabled,"aria-checked":e.node.checked,draggable:e.tree.props.draggable,"data-key":e.getNodeKey(e.node),onClick:t[1]||(t[1]=V((...d)=>e.handleClick&&e.handleClick(...d),["stop"])),onContextmenu:t[2]||(t[2]=(...d)=>e.handleContextMenu&&e.handleContextMenu(...d)),onDragstart:t[3]||(t[3]=V((...d)=>e.handleDragStart&&e.handleDragStart(...d),["stop"])),onDragover:t[4]||(t[4]=V((...d)=>e.handleDragOver&&e.handleDragOver(...d),["stop"])),onDragend:t[5]||(t[5]=V((...d)=>e.handleDragEnd&&e.handleDragEnd(...d),["stop"])),onDrop:t[6]||(t[6]=V((...d)=>e.handleDrop&&e.handleDrop(...d),["stop"]))},[z("div",{class:E(e.ns.be("node","content")),style:Be({paddingLeft:(e.node.level-1)*e.tree.props.indent+"px"})},[e.tree.props.icon||e.CaretRight?(k(),T(l,{key:0,class:E([e.ns.be("node","expand-icon"),e.ns.is("leaf",e.node.isLeaf),{expanded:!e.node.isLeaf&&e.expanded}]),onClick:V(e.handleExpandIconClick,["stop"])},{default:R(()=>[(k(),T(ne(e.tree.props.icon||e.CaretRight)))]),_:1},8,["class","onClick"])):D("v-if",!0),e.showCheckbox?(k(),T(r,{key:1,"model-value":e.node.checked,indeterminate:e.node.indeterminate,disabled:!!e.node.disabled,onClick:t[0]||(t[0]=V(()=>{},["stop"])),onChange:e.handleCheckChange},null,8,["model-value","indeterminate","disabled","onChange"])):D("v-if",!0),e.node.loading?(k(),T(l,{key:2,class:E([e.ns.be("node","loading-icon"),e.ns.is("loading")])},{default:R(()=>[_(h)]),_:1},8,["class"])):D("v-if",!0),_(f,{node:e.node,"render-content":e.renderContent},null,8,["node","render-content"])],6),_(p,null,{default:R(()=>[!e.renderAfterExpand||e.childNodeRendered?ae((k(),M("div",{key:0,class:E(e.ns.be("node","children")),role:"group","aria-expanded":e.expanded},[(k(!0),M(ke,null,on(e.node.childNodes,d=>(k(),T(g,{key:e.getNodeKey(d),"render-content":e.renderContent,"render-after-expand":e.renderAfterExpand,"show-checkbox":e.showCheckbox,node:d,accordion:e.accordion,props:e.props,onNodeExpand:e.handleChildNodeExpand},null,8,["render-content","render-after-expand","show-checkbox","node","accordion","props","onNodeExpand"]))),128))],10,ps)),[[ve,e.expanded]]):D("v-if",!0)]),_:1})],42,hs)),[[ve,e.node.visible]])}var gs=ce(fs,[["render",vs],["__file","/home/runner/work/element-plus/element-plus/packages/components/tree/src/tree-node.vue"]]);function ms({el$:e},t){const n=j("tree"),a=Te([]),o=Te([]);tt(()=>{l()}),Jn(()=>{a.value=Array.from(e.value.querySelectorAll("[role=treeitem]")),o.value=Array.from(e.value.querySelectorAll("input[type=checkbox]"))}),F(o,r=>{r.forEach(h=>{h.setAttribute("tabindex","-1")})}),Qn(e,"keydown",r=>{const h=r.target;if(!h.className.includes(n.b("node")))return;const f=r.code;a.value=Array.from(e.value.querySelectorAll(`.${n.is("focusable")}[role=treeitem]`));const g=a.value.indexOf(h);let p;if([ie.up,ie.down].includes(f)){if(r.preventDefault(),f===ie.up){p=g===-1?0:g!==0?g-1:a.value.length-1;const c=p;for(;!t.value.getNode(a.value[p].dataset.key).canFocus;){if(p--,p===c){p=-1;break}p<0&&(p=a.value.length-1)}}else{p=g===-1?0:g<a.value.length-1?g+1:0;const c=p;for(;!t.value.getNode(a.value[p].dataset.key).canFocus;){if(p++,p===c){p=-1;break}p>=a.value.length&&(p=0)}}p!==-1&&a.value[p].focus()}[ie.left,ie.right].includes(f)&&(r.preventDefault(),h.click());const d=h.querySelector('[type="checkbox"]');[ie.enter,ie.space].includes(f)&&d&&(r.preventDefault(),d.click())});const l=()=>{var r;a.value=Array.from(e.value.querySelectorAll(`.${n.is("focusable")}[role=treeitem]`)),o.value=Array.from(e.value.querySelectorAll("input[type=checkbox]"));const h=e.value.querySelectorAll(`.${n.is("checked")}[role=treeitem]`);if(h.length){h[0].setAttribute("tabindex","0");return}(r=a.value[0])==null||r.setAttribute("tabindex","0")}}const ys=Z({name:"ElTree",components:{ElTreeNode:gs},props:{data:{type:Array,default:()=>[]},emptyText:{type:String},renderAfterExpand:{type:Boolean,default:!0},nodeKey:String,checkStrictly:Boolean,defaultExpandAll:Boolean,expandOnClickNode:{type:Boolean,default:!0},checkOnClickNode:Boolean,checkDescendants:{type:Boolean,default:!1},autoExpandParent:{type:Boolean,default:!0},defaultCheckedKeys:Array,defaultExpandedKeys:Array,currentNodeKey:[String,Number],renderContent:Function,showCheckbox:{type:Boolean,default:!1},draggable:{type:Boolean,default:!1},allowDrag:Function,allowDrop:Function,props:{type:Object,default:()=>({children:"children",label:"label",disabled:"disabled"})},lazy:{type:Boolean,default:!1},highlightCurrent:Boolean,load:Function,filterNodeMethod:Function,accordion:Boolean,indent:{type:Number,default:18},icon:{type:dt}},emits:["check-change","current-change","node-click","node-contextmenu","node-collapse","node-expand","check","node-drag-start","node-drag-end","node-drop","node-drag-leave","node-drag-enter","node-drag-over"],setup(e,t){const{t:n}=cn(),a=j("tree"),o=L(new is({key:e.nodeKey,data:e.data,lazy:e.lazy,props:e.props,load:e.load,currentNodeKey:e.currentNodeKey,checkStrictly:e.checkStrictly,checkDescendants:e.checkDescendants,defaultCheckedKeys:e.defaultCheckedKeys,defaultExpandedKeys:e.defaultExpandedKeys,autoExpandParent:e.autoExpandParent,defaultExpandAll:e.defaultExpandAll,filterNodeMethod:e.filterNodeMethod}));o.value.initialize();const s=L(o.value.root),l=L(null),r=L(null),h=L(null),{broadcastExpanded:f}=Nn(e),{dragState:g}=cs({props:e,ctx:t,el$:r,dropIndicator$:h,store:o});ms({el$:r},o);const p=w(()=>{const{childNodes:C}=s.value;return!C||C.length===0||C.every(({visible:x})=>!x)});F(()=>e.currentNodeKey,C=>{o.value.setCurrentNodeKey(C)}),F(()=>e.defaultCheckedKeys,C=>{o.value.setDefaultCheckedKey(C)}),F(()=>e.defaultExpandedKeys,C=>{o.value.setDefaultExpandedKeys(C)}),F(()=>e.data,C=>{o.value.setData(C)},{deep:!0}),F(()=>e.checkStrictly,C=>{o.value.checkStrictly=C});const d=C=>{if(!e.filterNodeMethod)throw new Error("[Tree] filterNodeMethod is required when filter");o.value.filter(C)},c=C=>kt(e.nodeKey,C.data),i=C=>{if(!e.nodeKey)throw new Error("[Tree] nodeKey is required in getNodePath");const x=o.value.getNode(C);if(!x)return[];const W=[x.data];let le=x.parent;for(;le&&le!==s.value;)W.push(le.data),le=le.parent;return W.reverse()},u=(C,x)=>o.value.getCheckedNodes(C,x),y=C=>o.value.getCheckedKeys(C),b=()=>{const C=o.value.getCurrentNode();return C?C.data:null},S=()=>{if(!e.nodeKey)throw new Error("[Tree] nodeKey is required in getCurrentKey");const C=b();return C?C[e.nodeKey]:null},O=(C,x)=>{if(!e.nodeKey)throw new Error("[Tree] nodeKey is required in setCheckedNodes");o.value.setCheckedNodes(C,x)},P=(C,x)=>{if(!e.nodeKey)throw new Error("[Tree] nodeKey is required in setCheckedKeys");o.value.setCheckedKeys(C,x)},B=(C,x,W)=>{o.value.setChecked(C,x,W)},q=()=>o.value.getHalfCheckedNodes(),J=()=>o.value.getHalfCheckedKeys(),H=(C,x=!0)=>{if(!e.nodeKey)throw new Error("[Tree] nodeKey is required in setCurrentNode");vt(o,t.emit,()=>o.value.setUserCurrentNode(C,x))},N=(C,x=!0)=>{if(!e.nodeKey)throw new Error("[Tree] nodeKey is required in setCurrentKey");vt(o,t.emit,()=>o.value.setCurrentNodeKey(C,x))},A=C=>o.value.getNode(C),I=C=>{o.value.remove(C)},re=(C,x)=>{o.value.append(C,x)},$=(C,x)=>{o.value.insertBefore(C,x)},Q=(C,x)=>{o.value.insertAfter(C,x)},ee=(C,x,W)=>{f(x),t.emit("node-expand",C,x,W)},G=(C,x)=>{if(!e.nodeKey)throw new Error("[Tree] nodeKey is required in updateKeyChild");o.value.updateChildren(C,x)};return we("RootTree",{ctx:t,props:e,store:o,root:s,currentNode:l,instance:Ke()}),we(_n,void 0),{ns:a,store:o,root:s,currentNode:l,dragState:g,el$:r,dropIndicator$:h,isEmpty:p,filter:d,getNodeKey:c,getNodePath:i,getCheckedNodes:u,getCheckedKeys:y,getCurrentNode:b,getCurrentKey:S,setCheckedNodes:O,setCheckedKeys:P,setChecked:B,getHalfCheckedNodes:q,getHalfCheckedKeys:J,setCurrentNode:H,setCurrentKey:N,t:n,getNode:A,remove:I,append:re,insertBefore:$,insertAfter:Q,handleNodeExpand:ee,updateKeyChildren:G}}});function bs(e,t,n,a,o,s){var l;const r=Y("el-tree-node");return k(),M("div",{ref:"el$",class:E([e.ns.b(),e.ns.is("dragging",!!e.dragState.draggingNode),e.ns.is("drop-not-allow",!e.dragState.allowDrop),e.ns.is("drop-inner",e.dragState.dropType==="inner"),{[e.ns.m("highlight-current")]:e.highlightCurrent}]),role:"tree"},[(k(!0),M(ke,null,on(e.root.childNodes,h=>(k(),T(r,{key:e.getNodeKey(h),node:h,props:e.props,accordion:e.accordion,"render-after-expand":e.renderAfterExpand,"show-checkbox":e.showCheckbox,"render-content":e.renderContent,onNodeExpand:e.handleNodeExpand},null,8,["node","props","accordion","render-after-expand","show-checkbox","render-content","onNodeExpand"]))),128)),e.isEmpty?(k(),M("div",{key:0,class:E(e.ns.e("empty-block"))},[z("span",{class:E(e.ns.e("empty-text"))},X((l=e.emptyText)!=null?l:e.t("el.tree.emptyText")),3)],2)):D("v-if",!0),ae(z("div",{ref:"dropIndicator$",class:E(e.ns.e("drop-indicator"))},null,2),[[ve,e.dragState.showDropIndicator]])],2)}var Ge=ce(ys,[["render",bs],["__file","/home/runner/work/element-plus/element-plus/packages/components/tree/src/tree.vue"]]);Ge.install=e=>{e.component(Ge.name,Ge)};const Cs=Ge,ks=Cs,Ns=Z({name:"ElMessageBox",directives:{TrapFocus:Po},components:{ElButton:ht,ElFocusTrap:ea,ElInput:Oo,ElOverlay:ls,ElIcon:he,...ta},inheritAttrs:!1,props:{buttonSize:{type:String,validator:pa},modal:{type:Boolean,default:!0},lockScroll:{type:Boolean,default:!0},showClose:{type:Boolean,default:!0},closeOnClickModal:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},closeOnHashChange:{type:Boolean,default:!0},center:Boolean,draggable:Boolean,roundButton:{default:!1,type:Boolean},container:{type:String,default:"body"},boxType:{type:String,default:""}},emits:["vanish","action"],setup(e,{emit:t}){const{t:n}=cn(),a=j("message-box"),o=L(!1),{nextZIndex:s}=na(),l=Ze({autofocus:!0,beforeClose:null,callback:null,cancelButtonText:"",cancelButtonClass:"",confirmButtonText:"",confirmButtonClass:"",customClass:"",customStyle:{},dangerouslyUseHTMLString:!1,distinguishCancelAndClose:!1,icon:"",inputPattern:null,inputPlaceholder:"",inputType:"text",inputValue:null,inputValidator:null,inputErrorMessage:"",message:null,modalFade:!0,modalClass:"",showCancelButton:!1,showConfirmButton:!0,type:"",title:void 0,showInput:!1,action:"",confirmButtonLoading:!1,cancelButtonLoading:!1,confirmButtonDisabled:!1,editorErrorMessage:"",validateError:!1,zIndex:s()}),r=w(()=>{const $=l.type;return{[a.bm("icon",$)]:$&&$t[$]}}),h=Kt(),f=Kt(),g=_e(w(()=>e.buttonSize),{prop:!0,form:!0,formItem:!0}),p=w(()=>l.icon||$t[l.type]||""),d=w(()=>!!l.message),c=L(),i=L(),u=L(),y=L(),b=L(),S=w(()=>l.confirmButtonClass);F(()=>l.inputValue,async $=>{await U(),e.boxType==="prompt"&&$!==null&&N()},{immediate:!0}),F(()=>o.value,$=>{var Q,ee;$&&(e.boxType!=="prompt"&&(l.autofocus?u.value=(ee=(Q=b.value)==null?void 0:Q.$el)!=null?ee:c.value:u.value=c.value),l.zIndex=s()),e.boxType==="prompt"&&($?U().then(()=>{var G;y.value&&y.value.$el&&(l.autofocus?u.value=(G=A())!=null?G:c.value:u.value=c.value)}):(l.editorErrorMessage="",l.validateError=!1))});const O=w(()=>e.draggable);ko(c,i,O),tt(async()=>{await U(),e.closeOnHashChange&&window.addEventListener("hashchange",P)}),_t(()=>{e.closeOnHashChange&&window.removeEventListener("hashchange",P)});function P(){o.value&&(o.value=!1,U(()=>{l.action&&t("action",l.action)}))}const B=()=>{e.closeOnClickModal&&H(l.distinguishCancelAndClose?"close":"cancel")},q=vn(B),J=$=>{if(l.inputType!=="textarea")return $.preventDefault(),H("confirm")},H=$=>{var Q;e.boxType==="prompt"&&$==="confirm"&&!N()||(l.action=$,l.beforeClose?(Q=l.beforeClose)==null||Q.call(l,$,l,P):P())},N=()=>{if(e.boxType==="prompt"){const $=l.inputPattern;if($&&!$.test(l.inputValue||""))return l.editorErrorMessage=l.inputErrorMessage||n("el.messagebox.error"),l.validateError=!0,!1;const Q=l.inputValidator;if(typeof Q=="function"){const ee=Q(l.inputValue);if(ee===!1)return l.editorErrorMessage=l.inputErrorMessage||n("el.messagebox.error"),l.validateError=!0,!1;if(typeof ee=="string")return l.editorErrorMessage=ee,l.validateError=!0,!1}}return l.editorErrorMessage="",l.validateError=!1,!0},A=()=>{const $=y.value.$refs;return $.input||$.textarea},I=()=>{H("close")},re=()=>{e.closeOnPressEscape&&I()};return e.lockScroll&&No(o),Eo(o),{...nn(l),ns:a,overlayEvent:q,visible:o,hasMessage:d,typeClass:r,contentId:h,inputId:f,btnSize:g,iconComponent:p,confirmButtonClasses:S,rootRef:c,focusStartRef:u,headerRef:i,inputRef:y,confirmRef:b,doClose:P,handleClose:I,onCloseRequested:re,handleWrapperClick:B,handleInputEnter:J,handleAction:H,t:n}}}),Es=["aria-label","aria-describedby"],ws=["aria-label"],Ss=["id"];function Ds(e,t,n,a,o,s){const l=Y("el-icon"),r=Y("close"),h=Y("el-input"),f=Y("el-button"),g=Y("el-focus-trap"),p=Y("el-overlay");return k(),T(aa,{name:"fade-in-linear",onAfterLeave:t[11]||(t[11]=d=>e.$emit("vanish")),persisted:""},{default:R(()=>[ae(_(p,{"z-index":e.zIndex,"overlay-class":[e.ns.is("message-box"),e.modalClass],mask:e.modal},{default:R(()=>[z("div",{role:"dialog","aria-label":e.title,"aria-modal":"true","aria-describedby":e.showInput?void 0:e.contentId,class:E(`${e.ns.namespace.value}-overlay-message-box`),onClick:t[8]||(t[8]=(...d)=>e.overlayEvent.onClick&&e.overlayEvent.onClick(...d)),onMousedown:t[9]||(t[9]=(...d)=>e.overlayEvent.onMousedown&&e.overlayEvent.onMousedown(...d)),onMouseup:t[10]||(t[10]=(...d)=>e.overlayEvent.onMouseup&&e.overlayEvent.onMouseup(...d))},[_(g,{loop:"",trapped:e.visible,"focus-trap-el":e.rootRef,"focus-start-el":e.focusStartRef,onReleaseRequested:e.onCloseRequested},{default:R(()=>[z("div",{ref:"rootRef",class:E([e.ns.b(),e.customClass,e.ns.is("draggable",e.draggable),{[e.ns.m("center")]:e.center}]),style:Be(e.customStyle),tabindex:"-1",onClick:t[7]||(t[7]=V(()=>{},["stop"]))},[e.title!==null&&e.title!==void 0?(k(),M("div",{key:0,ref:"headerRef",class:E(e.ns.e("header"))},[z("div",{class:E(e.ns.e("title"))},[e.iconComponent&&e.center?(k(),T(l,{key:0,class:E([e.ns.e("status"),e.typeClass])},{default:R(()=>[(k(),T(ne(e.iconComponent)))]),_:1},8,["class"])):D("v-if",!0),z("span",null,X(e.title),1)],2),e.showClose?(k(),M("button",{key:0,type:"button",class:E(e.ns.e("headerbtn")),"aria-label":e.t("el.messagebox.close"),onClick:t[0]||(t[0]=d=>e.handleAction(e.distinguishCancelAndClose?"close":"cancel")),onKeydown:t[1]||(t[1]=ze(V(d=>e.handleAction(e.distinguishCancelAndClose?"close":"cancel"),["prevent"]),["enter"]))},[_(l,{class:E(e.ns.e("close"))},{default:R(()=>[_(r)]),_:1},8,["class"])],42,ws)):D("v-if",!0)],2)):D("v-if",!0),z("div",{id:e.contentId,class:E(e.ns.e("content"))},[z("div",{class:E(e.ns.e("container"))},[e.iconComponent&&!e.center&&e.hasMessage?(k(),T(l,{key:0,class:E([e.ns.e("status"),e.typeClass])},{default:R(()=>[(k(),T(ne(e.iconComponent)))]),_:1},8,["class"])):D("v-if",!0),e.hasMessage?(k(),M("div",{key:1,class:E(e.ns.e("message"))},[se(e.$slots,"default",{},()=>[e.dangerouslyUseHTMLString?(k(),T(ne(e.showInput?"label":"p"),{key:1,for:e.showInput?e.inputId:void 0,innerHTML:e.message},null,8,["for","innerHTML"])):(k(),T(ne(e.showInput?"label":"p"),{key:0,for:e.showInput?e.inputId:void 0},{default:R(()=>[ge(X(e.dangerouslyUseHTMLString?"":e.message),1)]),_:1},8,["for"]))])],2)):D("v-if",!0)],2),ae(z("div",{class:E(e.ns.e("input"))},[_(h,{id:e.inputId,ref:"inputRef",modelValue:e.inputValue,"onUpdate:modelValue":t[2]||(t[2]=d=>e.inputValue=d),type:e.inputType,placeholder:e.inputPlaceholder,"aria-invalid":e.validateError,class:E({invalid:e.validateError}),onKeydown:ze(e.handleInputEnter,["enter"])},null,8,["id","modelValue","type","placeholder","aria-invalid","class","onKeydown"]),z("div",{class:E(e.ns.e("errormsg")),style:Be({visibility:e.editorErrorMessage?"visible":"hidden"})},X(e.editorErrorMessage),7)],2),[[ve,e.showInput]])],10,Ss),z("div",{class:E(e.ns.e("btns"))},[e.showCancelButton?(k(),T(f,{key:0,loading:e.cancelButtonLoading,class:E([e.cancelButtonClass]),round:e.roundButton,size:e.btnSize,onClick:t[3]||(t[3]=d=>e.handleAction("cancel")),onKeydown:t[4]||(t[4]=ze(V(d=>e.handleAction("cancel"),["prevent"]),["enter"]))},{default:R(()=>[ge(X(e.cancelButtonText||e.t("el.messagebox.cancel")),1)]),_:1},8,["loading","class","round","size"])):D("v-if",!0),ae(_(f,{ref:"confirmRef",type:"primary",loading:e.confirmButtonLoading,class:E([e.confirmButtonClasses]),round:e.roundButton,disabled:e.confirmButtonDisabled,size:e.btnSize,onClick:t[5]||(t[5]=d=>e.handleAction("confirm")),onKeydown:t[6]||(t[6]=ze(V(d=>e.handleAction("confirm"),["prevent"]),["enter"]))},{default:R(()=>[ge(X(e.confirmButtonText||e.t("el.messagebox.confirm")),1)]),_:1},8,["loading","class","round","disabled","size"]),[[ve,e.showConfirmButton]])],2)],6)]),_:3},8,["trapped","focus-trap-el","focus-start-el","onReleaseRequested"])],42,Es)]),_:3},8,["z-index","overlay-class","mask"]),[[ve,e.visible]])]),_:3})}var xs=ce(Ns,[["render",Ds],["__file","/home/runner/work/element-plus/element-plus/packages/components/message-box/src/index.vue"]]);const Le=new Map,Ts=e=>{let t=document.body;return e.appendTo&&(ue(e.appendTo)&&(t=document.querySelector(e.appendTo)),Ot(e.appendTo)&&(t=e.appendTo),Ot(t)||(t=document.body)),t},Bs=(e,t,n=null)=>{const a=_(xs,e,ft(e.message)||sn(e.message)?{default:ft(e.message)?e.message:()=>e.message}:null);return a.appContext=n,ln(a,t),Ts(e).appendChild(t.firstElementChild),a.component},Is=()=>document.createElement("div"),As=(e,t)=>{const n=Is();e.onVanish=()=>{ln(null,n),Le.delete(o)},e.onAction=s=>{const l=Le.get(o);let r;e.showInput?r={value:o.inputValue,action:s}:r=s,e.callback?e.callback(r,a.proxy):s==="cancel"||s==="close"?e.distinguishCancelAndClose&&s!=="cancel"?l.reject("close"):l.reject("cancel"):l.resolve(r)};const a=Bs(e,n,t),o=a.proxy;for(const s in e)Me(e,s)&&!Me(o.$props,s)&&(o[s]=e[s]);return o.visible=!0,o};function De(e,t=null){if(!$e)return Promise.reject();let n;return ue(e)||sn(e)?e={message:e}:n=e.callback,new Promise((a,o)=>{const s=As(e,t??De._context);Le.set(s,{options:e,callback:n,resolve:a,reject:o})})}const Ms=["alert","confirm","prompt"],Ls={alert:{closeOnPressEscape:!1,closeOnClickModal:!1},confirm:{showCancelButton:!0},prompt:{showCancelButton:!0,showInput:!0}};Ms.forEach(e=>{De[e]=$s(e)});function $s(e){return(t,n,a,o)=>{let s="";return Ie(n)?(a=n,s=""):Xe(n)?s="":s=n,De(Object.assign({title:s,message:t,type:"",...Ls[e]},a,{boxType:e}),o)}}De.close=()=>{Le.forEach((e,t)=>{t.doClose()}),Le.clear()};De._context=null;const de=De;de.install=e=>{de._context=e._context,e.config.globalProperties.$msgbox=de,e.config.globalProperties.$messageBox=de,e.config.globalProperties.$alert=de.alert,e.config.globalProperties.$confirm=de.confirm,e.config.globalProperties.$prompt=de.prompt};const Ks=de;const Os={class:"reactive-menu-tree-node"},Ps={class:"reactive-menu-tree-node-name"},zs={class:"reactive-menu-tree-node-tool"},Rs={__name:"ReactiveMenuTree",props:{menuData:{type:Array,default:()=>[]},isOpenDrag:{type:Boolean,default:!0},isOpenRename:{type:Boolean,default:!0},isOpenDefault:{type:Boolean,default:!0},isOpenCheck:{type:Boolean,default:!0}},setup(e){const t=e;let n=Ze([]);F(t.menuData,()=>{n=Ze(d(t.menuData))},{immediate:!0});const a=L(null);function o(c){be.forEach(c.parent.childNodes,i=>{i.data.config.isDefault=!1}),c.data.config.isDefault=!0}function s(c){Ks.prompt("","重命名",{confirmButtonText:"OK",cancelButtonText:"Cancel",inputPattern:/.+/,inputValue:c.data.name,inputErrorMessage:"请输入名称"}).then(({value:i})=>{c.data.name=i,Ut({type:"success",message:"重命名成功"})}).catch(()=>{Ut({type:"info",message:"已取消重命名"})})}function l(c){r(c),h(c)}function r(c){const i=c.childNodes;for(const u of i||[])u.data.checked=c.data.checked,r(u)}function h(c){const i=c.parent;if(i){const u=!!be.find(i.childNodes,"data.checked");u!==i.data.checked&&(i.data.checked=u,h(i))}}function f(){return!0}function g(c,i,u){return c.data.pid===i.data.pid?u!=="inner":!1}function p(c){var y,b;const u=((b=(y=a.value.getNode(c.data).parent)==null?void 0:y.data)==null?void 0:b.children)||a.value.data;be.forEach(u,(S,O)=>{S.order=O})}function d(c){for(const i of be.cloneDeep(c))i.id=i.id.toString?i.id.toString():i.id,i&&i.children&&i.children.length&&(i.children=d(i.children));return be.filter(be.orderBy(c,["order"],["asc"]),i=>i.enable!==!1)}return(c,i)=>(k(),T(v(ks),{ref_key:"reactiveMenuTree",ref:a,class:"reactive-menu-tree","node-key":"id","highlight-current":"","allow-drop":g,"allow-drag":f,draggable:t.isOpenDrag,data:v(n),onNodeDragEnd:p},{default:R(({node:u})=>[z("div",Os,[t.isOpenCheck?(k(),T(v(kn),{key:0,modelValue:u.data.checked,"onUpdate:modelValue":y=>u.data.checked=y,onClick:i[0]||(i[0]=V(()=>{},["stop"])),onChange:y=>l(u)},null,8,["modelValue","onUpdate:modelValue","onChange"])):D("",!0),z("div",Ps,X(u.data.name),1),z("div",zs,[t.isOpenRename?(k(),T(v(ht),{key:0,type:"primary",link:"",onClick:V(y=>s(u),["stop"])},{default:R(()=>[ge(" 重命名 ")]),_:2},1032,["onClick"])):D("",!0),!u.data.config.notBeDefault&&t.isOpenDefault?(k(),T(v(ht),{key:1,type:u.data.config.isDefault?"danger":"primary",link:"",onClick:V(y=>o(u),["stop"])},{default:R(()=>[ge(" 设为默认 ")]),_:2},1032,["type","onClick"])):D("",!0)])])]),_:1},8,["draggable","data"]))}},Fs=oa(Rs,[["__scopeId","data-v-2d3b161d"]]),Ws={__name:"MenuTree",setup(e){const t=oe("reactiveMenuData");return(n,a)=>(k(),T(Fs,{"menu-data":v(t).menus},null,8,["menu-data"]))}};export{Ws as default};
